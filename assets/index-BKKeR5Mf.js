(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const v of d.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&s(v)}).observe(document,{childList:!0,subtree:!0});function t(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerPolicy&&(d.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?d.credentials="include":l.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(l){if(l.ep)return;l.ep=!0;const d=t(l);fetch(l.href,d)}})();function ix(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var fp={exports:{}},Ld={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function WT(){if(tv)return Ld;tv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,l,d){var v=null;if(d!==void 0&&(v=""+d),l.key!==void 0&&(v=""+l.key),"key"in l){d={};for(var E in l)E!=="key"&&(d[E]=l[E])}else d=l;return l=d.ref,{$$typeof:r,type:s,key:v,ref:l!==void 0?l:null,props:d}}return Ld.Fragment=e,Ld.jsx=t,Ld.jsxs=t,Ld}var nv;function XT(){return nv||(nv=1,fp.exports=WT()),fp.exports}var h=XT(),gp={exports:{}},Yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function QT(){if(iv)return Yt;iv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),v=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),j=Symbol.iterator;function V(F){return F===null||typeof F!="object"?null:(F=j&&F[j]||F["@@iterator"],typeof F=="function"?F:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,J={};function K(F,ee,je){this.props=F,this.context=ee,this.refs=J,this.updater=je||Q}K.prototype.isReactComponent={},K.prototype.setState=function(F,ee){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ee,"setState")},K.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function _e(){}_e.prototype=K.prototype;function Re(F,ee,je){this.props=F,this.context=ee,this.refs=J,this.updater=je||Q}var ie=Re.prototype=new _e;ie.constructor=Re,te(ie,K.prototype),ie.isPureReactComponent=!0;var ke=Array.isArray,Ye={H:null,A:null,T:null,S:null,V:null},Qe=Object.prototype.hasOwnProperty;function ce(F,ee,je,Me,Be,Ke){return je=Ke.ref,{$$typeof:r,type:F,key:ee,ref:je!==void 0?je:null,props:Ke}}function H(F,ee){return ce(F.type,ee,void 0,void 0,void 0,F.props)}function Y(F){return typeof F=="object"&&F!==null&&F.$$typeof===r}function he(F){var ee={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(je){return ee[je]})}var ae=/\/+/g;function q(F,ee){return typeof F=="object"&&F!==null&&F.key!=null?he(""+F.key):ee.toString(36)}function X(){}function rt(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(X,X):(F.status="pending",F.then(function(ee){F.status==="pending"&&(F.status="fulfilled",F.value=ee)},function(ee){F.status==="pending"&&(F.status="rejected",F.reason=ee)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function lt(F,ee,je,Me,Be){var Ke=typeof F;(Ke==="undefined"||Ke==="boolean")&&(F=null);var Ge=!1;if(F===null)Ge=!0;else switch(Ke){case"bigint":case"string":case"number":Ge=!0;break;case"object":switch(F.$$typeof){case r:case e:Ge=!0;break;case M:return Ge=F._init,lt(Ge(F._payload),ee,je,Me,Be)}}if(Ge)return Be=Be(F),Ge=Me===""?"."+q(F,0):Me,ke(Be)?(je="",Ge!=null&&(je=Ge.replace(ae,"$&/")+"/"),lt(Be,ee,je,"",function(ds){return ds})):Be!=null&&(Y(Be)&&(Be=H(Be,je+(Be.key==null||F&&F.key===Be.key?"":(""+Be.key).replace(ae,"$&/")+"/")+Ge)),ee.push(Be)),1;Ge=0;var gn=Me===""?".":Me+":";if(ke(F))for(var Bt=0;Bt<F.length;Bt++)Me=F[Bt],Ke=gn+q(Me,Bt),Ge+=lt(Me,ee,je,Ke,Be);else if(Bt=V(F),typeof Bt=="function")for(F=Bt.call(F),Bt=0;!(Me=F.next()).done;)Me=Me.value,Ke=gn+q(Me,Bt++),Ge+=lt(Me,ee,je,Ke,Be);else if(Ke==="object"){if(typeof F.then=="function")return lt(rt(F),ee,je,Me,Be);throw ee=String(F),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ge}function $(F,ee,je){if(F==null)return F;var Me=[],Be=0;return lt(F,Me,"","",function(Ke){return ee.call(je,Ke,Be++)}),Me}function le(F){if(F._status===-1){var ee=F._result;ee=ee(),ee.then(function(je){(F._status===0||F._status===-1)&&(F._status=1,F._result=je)},function(je){(F._status===0||F._status===-1)&&(F._status=2,F._result=je)}),F._status===-1&&(F._status=0,F._result=ee)}if(F._status===1)return F._result.default;throw F._result}var Ce=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function xt(){}return Yt.Children={map:$,forEach:function(F,ee,je){$(F,function(){ee.apply(this,arguments)},je)},count:function(F){var ee=0;return $(F,function(){ee++}),ee},toArray:function(F){return $(F,function(ee){return ee})||[]},only:function(F){if(!Y(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Yt.Component=K,Yt.Fragment=t,Yt.Profiler=l,Yt.PureComponent=Re,Yt.StrictMode=s,Yt.Suspense=A,Yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ye,Yt.__COMPILER_RUNTIME={__proto__:null,c:function(F){return Ye.H.useMemoCache(F)}},Yt.cache=function(F){return function(){return F.apply(null,arguments)}},Yt.cloneElement=function(F,ee,je){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var Me=te({},F.props),Be=F.key,Ke=void 0;if(ee!=null)for(Ge in ee.ref!==void 0&&(Ke=void 0),ee.key!==void 0&&(Be=""+ee.key),ee)!Qe.call(ee,Ge)||Ge==="key"||Ge==="__self"||Ge==="__source"||Ge==="ref"&&ee.ref===void 0||(Me[Ge]=ee[Ge]);var Ge=arguments.length-2;if(Ge===1)Me.children=je;else if(1<Ge){for(var gn=Array(Ge),Bt=0;Bt<Ge;Bt++)gn[Bt]=arguments[Bt+2];Me.children=gn}return ce(F.type,Be,void 0,void 0,Ke,Me)},Yt.createContext=function(F){return F={$$typeof:v,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:d,_context:F},F},Yt.createElement=function(F,ee,je){var Me,Be={},Ke=null;if(ee!=null)for(Me in ee.key!==void 0&&(Ke=""+ee.key),ee)Qe.call(ee,Me)&&Me!=="key"&&Me!=="__self"&&Me!=="__source"&&(Be[Me]=ee[Me]);var Ge=arguments.length-2;if(Ge===1)Be.children=je;else if(1<Ge){for(var gn=Array(Ge),Bt=0;Bt<Ge;Bt++)gn[Bt]=arguments[Bt+2];Be.children=gn}if(F&&F.defaultProps)for(Me in Ge=F.defaultProps,Ge)Be[Me]===void 0&&(Be[Me]=Ge[Me]);return ce(F,Ke,void 0,void 0,null,Be)},Yt.createRef=function(){return{current:null}},Yt.forwardRef=function(F){return{$$typeof:E,render:F}},Yt.isValidElement=Y,Yt.lazy=function(F){return{$$typeof:M,_payload:{_status:-1,_result:F},_init:le}},Yt.memo=function(F,ee){return{$$typeof:N,type:F,compare:ee===void 0?null:ee}},Yt.startTransition=function(F){var ee=Ye.T,je={};Ye.T=je;try{var Me=F(),Be=Ye.S;Be!==null&&Be(je,Me),typeof Me=="object"&&Me!==null&&typeof Me.then=="function"&&Me.then(xt,Ce)}catch(Ke){Ce(Ke)}finally{Ye.T=ee}},Yt.unstable_useCacheRefresh=function(){return Ye.H.useCacheRefresh()},Yt.use=function(F){return Ye.H.use(F)},Yt.useActionState=function(F,ee,je){return Ye.H.useActionState(F,ee,je)},Yt.useCallback=function(F,ee){return Ye.H.useCallback(F,ee)},Yt.useContext=function(F){return Ye.H.useContext(F)},Yt.useDebugValue=function(){},Yt.useDeferredValue=function(F,ee){return Ye.H.useDeferredValue(F,ee)},Yt.useEffect=function(F,ee,je){var Me=Ye.H;if(typeof je=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Me.useEffect(F,ee)},Yt.useId=function(){return Ye.H.useId()},Yt.useImperativeHandle=function(F,ee,je){return Ye.H.useImperativeHandle(F,ee,je)},Yt.useInsertionEffect=function(F,ee){return Ye.H.useInsertionEffect(F,ee)},Yt.useLayoutEffect=function(F,ee){return Ye.H.useLayoutEffect(F,ee)},Yt.useMemo=function(F,ee){return Ye.H.useMemo(F,ee)},Yt.useOptimistic=function(F,ee){return Ye.H.useOptimistic(F,ee)},Yt.useReducer=function(F,ee,je){return Ye.H.useReducer(F,ee,je)},Yt.useRef=function(F){return Ye.H.useRef(F)},Yt.useState=function(F){return Ye.H.useState(F)},Yt.useSyncExternalStore=function(F,ee,je){return Ye.H.useSyncExternalStore(F,ee,je)},Yt.useTransition=function(){return Ye.H.useTransition()},Yt.version="19.1.1",Yt}var rv;function hf(){return rv||(rv=1,gp.exports=QT()),gp.exports}var Ie=hf();const Cu=ix(Ie);var mp={exports:{}},zd={},pp={exports:{}},yp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function KT(){return sv||(sv=1,(function(r){function e($,le){var Ce=$.length;$.push(le);e:for(;0<Ce;){var xt=Ce-1>>>1,F=$[xt];if(0<l(F,le))$[xt]=le,$[Ce]=F,Ce=xt;else break e}}function t($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var le=$[0],Ce=$.pop();if(Ce!==le){$[0]=Ce;e:for(var xt=0,F=$.length,ee=F>>>1;xt<ee;){var je=2*(xt+1)-1,Me=$[je],Be=je+1,Ke=$[Be];if(0>l(Me,Ce))Be<F&&0>l(Ke,Me)?($[xt]=Ke,$[Be]=Ce,xt=Be):($[xt]=Me,$[je]=Ce,xt=je);else if(Be<F&&0>l(Ke,Ce))$[xt]=Ke,$[Be]=Ce,xt=Be;else break e}}return le}function l($,le){var Ce=$.sortIndex-le.sortIndex;return Ce!==0?Ce:$.id-le.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;r.unstable_now=function(){return d.now()}}else{var v=Date,E=v.now();r.unstable_now=function(){return v.now()-E}}var A=[],N=[],M=1,j=null,V=3,Q=!1,te=!1,J=!1,K=!1,_e=typeof setTimeout=="function"?setTimeout:null,Re=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function ke($){for(var le=t(N);le!==null;){if(le.callback===null)s(N);else if(le.startTime<=$)s(N),le.sortIndex=le.expirationTime,e(A,le);else break;le=t(N)}}function Ye($){if(J=!1,ke($),!te)if(t(A)!==null)te=!0,Qe||(Qe=!0,q());else{var le=t(N);le!==null&&lt(Ye,le.startTime-$)}}var Qe=!1,ce=-1,H=5,Y=-1;function he(){return K?!0:!(r.unstable_now()-Y<H)}function ae(){if(K=!1,Qe){var $=r.unstable_now();Y=$;var le=!0;try{e:{te=!1,J&&(J=!1,Re(ce),ce=-1),Q=!0;var Ce=V;try{t:{for(ke($),j=t(A);j!==null&&!(j.expirationTime>$&&he());){var xt=j.callback;if(typeof xt=="function"){j.callback=null,V=j.priorityLevel;var F=xt(j.expirationTime<=$);if($=r.unstable_now(),typeof F=="function"){j.callback=F,ke($),le=!0;break t}j===t(A)&&s(A),ke($)}else s(A);j=t(A)}if(j!==null)le=!0;else{var ee=t(N);ee!==null&&lt(Ye,ee.startTime-$),le=!1}}break e}finally{j=null,V=Ce,Q=!1}le=void 0}}finally{le?q():Qe=!1}}}var q;if(typeof ie=="function")q=function(){ie(ae)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,rt=X.port2;X.port1.onmessage=ae,q=function(){rt.postMessage(null)}}else q=function(){_e(ae,0)};function lt($,le){ce=_e(function(){$(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function($){switch(V){case 1:case 2:case 3:var le=3;break;default:le=V}var Ce=V;V=le;try{return $()}finally{V=Ce}},r.unstable_requestPaint=function(){K=!0},r.unstable_runWithPriority=function($,le){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Ce=V;V=$;try{return le()}finally{V=Ce}},r.unstable_scheduleCallback=function($,le,Ce){var xt=r.unstable_now();switch(typeof Ce=="object"&&Ce!==null?(Ce=Ce.delay,Ce=typeof Ce=="number"&&0<Ce?xt+Ce:xt):Ce=xt,$){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=Ce+F,$={id:M++,callback:le,priorityLevel:$,startTime:Ce,expirationTime:F,sortIndex:-1},Ce>xt?($.sortIndex=Ce,e(N,$),t(A)===null&&$===t(N)&&(J?(Re(ce),ce=-1):J=!0,lt(Ye,Ce-xt))):($.sortIndex=F,e(A,$),te||Q||(te=!0,Qe||(Qe=!0,q()))),$},r.unstable_shouldYield=he,r.unstable_wrapCallback=function($){var le=V;return function(){var Ce=V;V=le;try{return $.apply(this,arguments)}finally{V=Ce}}}})(yp)),yp}var av;function JT(){return av||(av=1,pp.exports=KT()),pp.exports}var _p={exports:{}},na={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function qT(){if(ov)return na;ov=1;var r=hf();function e(A){var N="https://react.dev/errors/"+A;if(1<arguments.length){N+="?args[]="+encodeURIComponent(arguments[1]);for(var M=2;M<arguments.length;M++)N+="&args[]="+encodeURIComponent(arguments[M])}return"Minified React error #"+A+"; visit "+N+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},l=Symbol.for("react.portal");function d(A,N,M){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:j==null?null:""+j,children:A,containerInfo:N,implementation:M}}var v=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function E(A,N){if(A==="font")return"";if(typeof N=="string")return N==="use-credentials"?N:""}return na.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,na.createPortal=function(A,N){var M=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!N||N.nodeType!==1&&N.nodeType!==9&&N.nodeType!==11)throw Error(e(299));return d(A,N,null,M)},na.flushSync=function(A){var N=v.T,M=s.p;try{if(v.T=null,s.p=2,A)return A()}finally{v.T=N,s.p=M,s.d.f()}},na.preconnect=function(A,N){typeof A=="string"&&(N?(N=N.crossOrigin,N=typeof N=="string"?N==="use-credentials"?N:"":void 0):N=null,s.d.C(A,N))},na.prefetchDNS=function(A){typeof A=="string"&&s.d.D(A)},na.preinit=function(A,N){if(typeof A=="string"&&N&&typeof N.as=="string"){var M=N.as,j=E(M,N.crossOrigin),V=typeof N.integrity=="string"?N.integrity:void 0,Q=typeof N.fetchPriority=="string"?N.fetchPriority:void 0;M==="style"?s.d.S(A,typeof N.precedence=="string"?N.precedence:void 0,{crossOrigin:j,integrity:V,fetchPriority:Q}):M==="script"&&s.d.X(A,{crossOrigin:j,integrity:V,fetchPriority:Q,nonce:typeof N.nonce=="string"?N.nonce:void 0})}},na.preinitModule=function(A,N){if(typeof A=="string")if(typeof N=="object"&&N!==null){if(N.as==null||N.as==="script"){var M=E(N.as,N.crossOrigin);s.d.M(A,{crossOrigin:M,integrity:typeof N.integrity=="string"?N.integrity:void 0,nonce:typeof N.nonce=="string"?N.nonce:void 0})}}else N==null&&s.d.M(A)},na.preload=function(A,N){if(typeof A=="string"&&typeof N=="object"&&N!==null&&typeof N.as=="string"){var M=N.as,j=E(M,N.crossOrigin);s.d.L(A,M,{crossOrigin:j,integrity:typeof N.integrity=="string"?N.integrity:void 0,nonce:typeof N.nonce=="string"?N.nonce:void 0,type:typeof N.type=="string"?N.type:void 0,fetchPriority:typeof N.fetchPriority=="string"?N.fetchPriority:void 0,referrerPolicy:typeof N.referrerPolicy=="string"?N.referrerPolicy:void 0,imageSrcSet:typeof N.imageSrcSet=="string"?N.imageSrcSet:void 0,imageSizes:typeof N.imageSizes=="string"?N.imageSizes:void 0,media:typeof N.media=="string"?N.media:void 0})}},na.preloadModule=function(A,N){if(typeof A=="string")if(N){var M=E(N.as,N.crossOrigin);s.d.m(A,{as:typeof N.as=="string"&&N.as!=="script"?N.as:void 0,crossOrigin:M,integrity:typeof N.integrity=="string"?N.integrity:void 0})}else s.d.m(A)},na.requestFormReset=function(A){s.d.r(A)},na.unstable_batchedUpdates=function(A,N){return A(N)},na.useFormState=function(A,N,M){return v.H.useFormState(A,N,M)},na.useFormStatus=function(){return v.H.useHostTransitionStatus()},na.version="19.1.1",na}var lv;function zg(){if(lv)return _p.exports;lv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),_p.exports=qT(),_p.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function $T(){if(cv)return zd;cv=1;var r=JT(),e=hf(),t=zg();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function d(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function v(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function E(n){if(d(n)!==n)throw Error(s(188))}function A(n){var i=n.alternate;if(!i){if(i=d(n),i===null)throw Error(s(188));return i!==n?null:n}for(var o=n,u=i;;){var _=o.return;if(_===null)break;var x=_.alternate;if(x===null){if(u=_.return,u!==null){o=u;continue}break}if(_.child===x.child){for(x=_.child;x;){if(x===o)return E(_),n;if(x===u)return E(_),i;x=x.sibling}throw Error(s(188))}if(o.return!==u.return)o=_,u=x;else{for(var D=!1,B=_.child;B;){if(B===o){D=!0,o=_,u=x;break}if(B===u){D=!0,u=_,o=x;break}B=B.sibling}if(!D){for(B=x.child;B;){if(B===o){D=!0,o=x,u=_;break}if(B===u){D=!0,u=x,o=_;break}B=B.sibling}if(!D)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?n:i}function N(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=N(n),i!==null)return i;n=n.sibling}return null}var M=Object.assign,j=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),_e=Symbol.for("react.provider"),Re=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),ke=Symbol.for("react.forward_ref"),Ye=Symbol.for("react.suspense"),Qe=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function q(n){return n===null||typeof n!="object"?null:(n=ae&&n[ae]||n["@@iterator"],typeof n=="function"?n:null)}var X=Symbol.for("react.client.reference");function rt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===X?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case te:return"Fragment";case K:return"Profiler";case J:return"StrictMode";case Ye:return"Suspense";case Qe:return"SuspenseList";case Y:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case Q:return"Portal";case ie:return(n.displayName||"Context")+".Provider";case Re:return(n._context.displayName||"Context")+".Consumer";case ke:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ce:return i=n.displayName||null,i!==null?i:rt(n.type)||"Memo";case H:i=n._payload,n=n._init;try{return rt(n(i))}catch{}}return null}var lt=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce={pending:!1,data:null,method:null,action:null},xt=[],F=-1;function ee(n){return{current:n}}function je(n){0>F||(n.current=xt[F],xt[F]=null,F--)}function Me(n,i){F++,xt[F]=n.current,n.current=i}var Be=ee(null),Ke=ee(null),Ge=ee(null),gn=ee(null);function Bt(n,i){switch(Me(Ge,i),Me(Ke,n),Me(Be,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?C0(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=C0(i),n=I0(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}je(Be),Me(Be,n)}function ds(){je(Be),je(Ke),je(Ge)}function pr(n){n.memoizedState!==null&&Me(gn,n);var i=Be.current,o=I0(i,n.type);i!==o&&(Me(Ke,n),Me(Be,o))}function Mn(n){Ke.current===n&&(je(Be),je(Ke)),gn.current===n&&(je(gn),kd._currentValue=Ce)}var pt=Object.prototype.hasOwnProperty,Os=r.unstable_scheduleCallback,xa=r.unstable_cancelCallback,wa=r.unstable_shouldYield,Dn=r.unstable_requestPaint,ui=r.unstable_now,la=r.unstable_getCurrentPriorityLevel,fo=r.unstable_ImmediatePriority,Hi=r.unstable_UserBlockingPriority,ni=r.unstable_NormalPriority,Kt=r.unstable_LowPriority,hi=r.unstable_IdlePriority,Lo=r.log,zo=r.unstable_setDisableYieldValue,It=null,Jt=null;function Gi(n){if(typeof Lo=="function"&&zo(n),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(It,n)}catch{}}var Wn=Math.clz32?Math.clz32:ua,Ta=Math.log,ca=Math.LN2;function ua(n){return n>>>=0,n===0?32:31-(Ta(n)/ca|0)|0}var fs=256,Ls=4194304;function yr(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function mn(n,i,o){var u=n.pendingLanes;if(u===0)return 0;var _=0,x=n.suspendedLanes,D=n.pingedLanes;n=n.warmLanes;var B=u&134217727;return B!==0?(u=B&~x,u!==0?_=yr(u):(D&=B,D!==0?_=yr(D):o||(o=B&~n,o!==0&&(_=yr(o))))):(B=u&~x,B!==0?_=yr(B):D!==0?_=yr(D):o||(o=u&~n,o!==0&&(_=yr(o)))),_===0?0:i!==0&&i!==_&&(i&x)===0&&(x=_&-_,o=i&-i,x>=o||x===32&&(o&4194048)!==0)?i:_}function On(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function ja(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wr(){var n=fs;return fs<<=1,(fs&4194048)===0&&(fs=256),n}function ir(){var n=Ls;return Ls<<=1,(Ls&62914560)===0&&(Ls=4194304),n}function Xr(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function Qr(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function go(n,i,o,u,_,x){var D=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var B=n.entanglements,re=n.expirationTimes,xe=n.hiddenUpdates;for(o=D&~o;0<o;){var De=31-Wn(o),Ue=1<<De;B[De]=0,re[De]=-1;var Te=xe[De];if(Te!==null)for(xe[De]=null,De=0;De<Te.length;De++){var Se=Te[De];Se!==null&&(Se.lane&=-536870913)}o&=~Ue}u!==0&&gs(n,u,0),x!==0&&_===0&&n.tag!==0&&(n.suspendedLanes|=x&~(D&~i))}function gs(n,i,o){n.pendingLanes|=i,n.suspendedLanes&=~i;var u=31-Wn(i);n.entangledLanes|=i,n.entanglements[u]=n.entanglements[u]|1073741824|o&4194090}function Uo(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var u=31-Wn(o),_=1<<u;_&i|n[u]&i&&(n[u]|=i),o&=~_}}function ha(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function di(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ei(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:Q0(n.type))}function Xn(n,i){var o=le.p;try{return le.p=n,i()}finally{le.p=o}}var hn=Math.random().toString(36).slice(2),jn="__reactFiber$"+hn,Gt="__reactProps$"+hn,Or="__reactContainer$"+hn,Zi="__reactEvents$"+hn,Je="__reactListeners$"+hn,zi="__reactHandles$"+hn,mo="__reactResources$"+hn,da="__reactMarker$"+hn;function Lt(n){delete n[jn],delete n[Gt],delete n[Zi],delete n[Je],delete n[zi]}function Sn(n){var i=n[jn];if(i)return i;for(var o=n.parentNode;o;){if(i=o[Or]||o[jn]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=D0(n);n!==null;){if(o=n[jn])return o;n=D0(n)}return i}n=o,o=n.parentNode}return null}function rr(n){if(n=n[jn]||n[Or]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function wn(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function Ui(n){var i=n[mo];return i||(i=n[mo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Bn(n){n[da]=!0}var Vo=new Set,Ba={};function ms(n,i){zs(n,i),zs(n+"Capture",i)}function zs(n,i){for(Ba[n]=i,n=0;n<i.length;n++)Vo.add(i[n])}var Si=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ea={},Kr={};function Jr(n){return pt.call(Kr,n)?!0:pt.call(Ea,n)?!1:Si.test(n)?Kr[n]=!0:(Ea[n]=!0,!1)}function ps(n,i,o){if(Jr(i))if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+o)}}function sr(n,i,o){if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+o)}}function ii(n,i,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(i,o,""+u)}}var _r,ys;function _s(n){if(_r===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);_r=i&&i[1]||"",ys=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_r+n+ys}var Sa=!1;function dn(n,i){if(!n||Sa)return"";Sa=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var Ue=function(){throw Error()};if(Object.defineProperty(Ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ue,[])}catch(Se){var Te=Se}Reflect.construct(n,[],Ue)}else{try{Ue.call()}catch(Se){Te=Se}n.call(Ue.prototype)}}else{try{throw Error()}catch(Se){Te=Se}(Ue=n())&&typeof Ue.catch=="function"&&Ue.catch(function(){})}}catch(Se){if(Se&&Te&&typeof Se.stack=="string")return[Se.stack,Te.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=u.DetermineComponentFrameRoot(),D=x[0],B=x[1];if(D&&B){var re=D.split(`
`),xe=B.split(`
`);for(_=u=0;u<re.length&&!re[u].includes("DetermineComponentFrameRoot");)u++;for(;_<xe.length&&!xe[_].includes("DetermineComponentFrameRoot");)_++;if(u===re.length||_===xe.length)for(u=re.length-1,_=xe.length-1;1<=u&&0<=_&&re[u]!==xe[_];)_--;for(;1<=u&&0<=_;u--,_--)if(re[u]!==xe[_]){if(u!==1||_!==1)do if(u--,_--,0>_||re[u]!==xe[_]){var De=`
`+re[u].replace(" at new "," at ");return n.displayName&&De.includes("<anonymous>")&&(De=De.replace("<anonymous>",n.displayName)),De}while(1<=u&&0<=_);break}}}finally{Sa=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?_s(o):""}function Mt(n){switch(n.tag){case 26:case 27:case 5:return _s(n.type);case 16:return _s("Lazy");case 13:return _s("Suspense");case 19:return _s("SuspenseList");case 0:case 15:return dn(n.type,!1);case 11:return dn(n.type.render,!1);case 1:return dn(n.type,!0);case 31:return _s("Activity");default:return""}}function pn(n){try{var i="";do i+=Mt(n),n=n.return;while(n);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Ai(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ni(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Us(n){var i=Ni(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),u=""+n[i];if(!n.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var _=o.get,x=o.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return _.call(this)},set:function(D){u=""+D,x.call(this,D)}}),Object.defineProperty(n,i,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(D){u=""+D},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ar(n){n._valueTracker||(n._valueTracker=Us(n))}function bt(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return n&&(u=Ni(n)?n.checked?"true":"false":n.value),n=u,n!==o?(i.setValue(n),!0):!1}function yn(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var po=/[\n"\\]/g;function Ln(n){return n.replace(po,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function In(n,i,o,u,_,x,D,B){n.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?n.type=D:n.removeAttribute("type"),i!=null?D==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Ai(i)):n.value!==""+Ai(i)&&(n.value=""+Ai(i)):D!=="submit"&&D!=="reset"||n.removeAttribute("value"),i!=null?or(n,D,Ai(i)):o!=null?or(n,D,Ai(o)):u!=null&&n.removeAttribute("value"),_==null&&x!=null&&(n.defaultChecked=!!x),_!=null&&(n.checked=_&&typeof _!="function"&&typeof _!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?n.name=""+Ai(B):n.removeAttribute("name")}function vr(n,i,o,u,_,x,D,B){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(n.type=x),i!=null||o!=null){if(!(x!=="submit"&&x!=="reset"||i!=null))return;o=o!=null?""+Ai(o):"",i=i!=null?""+Ai(i):o,B||i===n.value||(n.value=i),n.defaultValue=i}u=u??_,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=B?n.checked:!!u,n.defaultChecked=!!u,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(n.name=D)}function or(n,i,o){i==="number"&&yn(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function lr(n,i,o,u){if(n=n.options,i){i={};for(var _=0;_<o.length;_++)i["$"+o[_]]=!0;for(o=0;o<n.length;o++)_=i.hasOwnProperty("$"+n[o].value),n[o].selected!==_&&(n[o].selected=_),_&&u&&(n[o].defaultSelected=!0)}else{for(o=""+Ai(o),i=null,_=0;_<n.length;_++){if(n[_].value===o){n[_].selected=!0,u&&(n[_].defaultSelected=!0);return}i!==null||n[_].disabled||(i=n[_])}i!==null&&(i.selected=!0)}}function yt(n,i,o){if(i!=null&&(i=""+Ai(i),i!==n.value&&(n.value=i),o==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=o!=null?""+Ai(o):""}function Yi(n,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(s(92));if(lt(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=Ai(i),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u)}function Wi(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var qr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yo(n,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":u?n.setProperty(i,o):typeof o!="number"||o===0||qr.has(i)?i==="float"?n.cssFloat=o:n[i]=(""+o).trim():n[i]=o+"px"}function cr(n,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var _ in i)u=i[_],i.hasOwnProperty(_)&&o[_]!==u&&yo(n,_,u)}else for(var x in i)i.hasOwnProperty(x)&&yo(n,x,i[x])}function vs(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bs(n){return fa.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var xs=null;function ur(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ki=null,Lr=null;function Fa(n){var i=rr(n);if(i&&(n=i.stateNode)){var o=n[Gt]||null;e:switch(n=i.stateNode,i.type){case"input":if(In(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ln(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==n&&u.form===n.form){var _=u[Gt]||null;if(!_)throw Error(s(90));In(u,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===n.form&&bt(u)}break e;case"textarea":yt(n,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&lr(n,!!o.multiple,i,!1)}}}var ht=!1;function Xi(n,i,o){if(ht)return n(i,o);ht=!0;try{var u=n(i);return u}finally{if(ht=!1,(ki!==null||Lr!==null)&&(Pf(),ki&&(i=ki,n=Lr,Lr=ki=null,Fa(i),n)))for(i=0;i<n.length;i++)Fa(n[i])}}function ot(n,i){var o=n.stateNode;if(o===null)return null;var u=o[Gt]||null;if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var Qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vi=!1;if(Qi)try{var zr={};Object.defineProperty(zr,"passive",{get:function(){Vi=!0}}),window.addEventListener("test",zr,zr),window.removeEventListener("test",zr,zr)}catch{Vi=!1}var Ki=null,Pi=null,br=null;function xr(){if(br)return br;var n,i=Pi,o=i.length,u,_="value"in Ki?Ki.value:Ki.textContent,x=_.length;for(n=0;n<o&&i[n]===_[n];n++);var D=o-n;for(u=1;u<=D&&i[o-u]===_[x-u];u++);return br=_.slice(n,1<u?1-u:void 0)}function Qt(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Ri(){return!0}function wr(){return!1}function fi(n){function i(o,u,_,x,D){this._reactName=o,this._targetInst=_,this.type=u,this.nativeEvent=x,this.target=D,this.currentTarget=null;for(var B in n)n.hasOwnProperty(B)&&(o=n[B],this[B]=o?o(x):x[B]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Ri:wr,this.isPropagationStopped=wr,this}return M(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ri)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ri)},persist:function(){},isPersistent:Ri}),i}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$r=fi(qt),Ur=M({},qt,{view:0,detail:0}),Bo=fi(Ur),Aa,kt,Vs,ji=M({},Ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Vs&&(Vs&&n.type==="mousemove"?(Aa=n.screenX-Vs.screenX,kt=n.screenY-Vs.screenY):kt=Aa=0,Vs=n),Aa)},movementY:function(n){return"movementY"in n?n.movementY:kt}}),Ji=fi(ji),_o=M({},ji,{dataTransfer:0}),ll=fi(_o),ga=M({},Ur,{relatedTarget:0}),js=fi(ga),Ha=M({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),ma=fi(Ha),cl=M({},qt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Bs=fi(cl),ul=M({},qt,{data:0}),Ci=fi(ul),pa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Na={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},es={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fs(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=es[n])?!!i[n]:!1}function Vr(){return Fs}var vo=M({},Ur,{key:function(n){if(n.key){var i=pa[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Qt(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Na[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vr,charCode:function(n){return n.type==="keypress"?Qt(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Qt(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),bo=fi(vo),ri=M({},ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hs=fi(ri),hr=M({},Ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vr}),Ra=fi(hr),Ga=M({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gs=fi(Ga),gi=M({},ji,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),mi=fi(gi),an=M({},qt,{newState:0,oldState:0}),Tr=fi(an),Fo=[9,13,27,32],qi=Qi&&"CompositionEvent"in window,f=null;Qi&&"documentMode"in document&&(f=document.documentMode);var R=Qi&&"TextEvent"in window&&!f,k=Qi&&(!qi||f&&8<f&&11>=f),G=" ",me=!1;function Ee(n,i){switch(n){case"keyup":return Fo.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ze(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var zt=!1;function $t(n,i){switch(n){case"compositionend":return Ze(i);case"keypress":return i.which!==32?null:(me=!0,G);case"textInput":return n=i.data,n===G&&me?null:n;default:return null}}function Wt(n,i){if(zt)return n==="compositionend"||!qi&&Ee(n,i)?(n=xr(),br=Pi=Ki=null,zt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return k&&i.locale!=="ko"?null:i.data;default:return null}}var en={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function An(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!en[n.type]:i==="textarea"}function ws(n,i,o,u){ki?Lr?Lr.push(u):Lr=[u]:ki=u,i=Uf(i,"onChange"),0<i.length&&(o=new $r("onChange","change",null,o,u),n.push({event:o,listeners:i}))}var Tn=null,jr=null;function Er(n){E0(n,0)}function xo(n){var i=wn(n);if(bt(i))return n}function Za(n,i){if(n==="change")return i}var Ho=!1;if(Qi){var Ts;if(Qi){var Zs="oninput"in document;if(!Zs){var Sr=document.createElement("div");Sr.setAttribute("oninput","return;"),Zs=typeof Sr.oninput=="function"}Ts=Zs}else Ts=!1;Ho=Ts&&(!document.documentMode||9<document.documentMode)}function Es(){Tn&&(Tn.detachEvent("onpropertychange",wo),jr=Tn=null)}function wo(n){if(n.propertyName==="value"&&xo(jr)){var i=[];ws(i,jr,n,ur(n)),Xi(Er,i)}}function To(n,i,o){n==="focusin"?(Es(),Tn=i,jr=o,Tn.attachEvent("onpropertychange",wo)):n==="focusout"&&Es()}function Ul(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return xo(jr)}function Br(n,i){if(n==="click")return xo(i)}function Ya(n,i){if(n==="input"||n==="change")return xo(i)}function Eo(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var $i=typeof Object.is=="function"?Object.is:Eo;function Ar(n,i){if($i(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var _=o[u];if(!pt.call(i,_)||!$i(n[_],i[_]))return!1}return!0}function ts(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function m(n,i){var o=ts(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=i&&u>=i)return{node:o,offset:i-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ts(o)}}function b(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?b(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function S(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=yn(n.document);i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=yn(n.document)}return i}function I(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var z=Qi&&"documentMode"in document&&11>=document.documentMode,Z=null,oe=null,Ne=null,ye=!1;function Ae(n,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ye||Z==null||Z!==yn(u)||(u=Z,"selectionStart"in u&&I(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ne&&Ar(Ne,u)||(Ne=u,u=Uf(oe,"onSelect"),0<u.length&&(i=new $r("onSelect","select",null,i,o),n.push({event:i,listeners:u}),i.target=Z)))}function We(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var Fe={animationend:We("Animation","AnimationEnd"),animationiteration:We("Animation","AnimationIteration"),animationstart:We("Animation","AnimationStart"),transitionrun:We("Transition","TransitionRun"),transitionstart:We("Transition","TransitionStart"),transitioncancel:We("Transition","TransitionCancel"),transitionend:We("Transition","TransitionEnd")},it={},dt={};Qi&&(dt=document.createElement("div").style,"AnimationEvent"in window||(delete Fe.animationend.animation,delete Fe.animationiteration.animation,delete Fe.animationstart.animation),"TransitionEvent"in window||delete Fe.transitionend.transition);function ct(n){if(it[n])return it[n];if(!Fe[n])return n;var i=Fe[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in dt)return it[n]=i[o];return n}var wt=ct("animationend"),Ut=ct("animationiteration"),nn=ct("animationstart"),_n=ct("transitionrun"),En=ct("transitionstart"),ut=ct("transitioncancel"),Fn=ct("transitionend"),Vt=new Map,zn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zn.push("scrollEnd");function Nn(n,i){Vt.set(n,i),ms(i,[n])}var mt=new WeakMap;function on(n,i){if(typeof n=="object"&&n!==null){var o=mt.get(n);return o!==void 0?o:(i={value:n,source:i,stack:pn(i)},mt.set(n,i),i)}return{value:n,source:i,stack:pn(i)}}var pi=[],Qn=0,Ii=0;function er(){for(var n=Qn,i=Ii=Qn=0;i<n;){var o=pi[i];pi[i++]=null;var u=pi[i];pi[i++]=null;var _=pi[i];pi[i++]=null;var x=pi[i];if(pi[i++]=null,u!==null&&_!==null){var D=u.pending;D===null?_.next=_:(_.next=D.next,D.next=_),u.pending=_}x!==0&&Fr(o,_,x)}}function si(n,i,o,u){pi[Qn++]=n,pi[Qn++]=i,pi[Qn++]=o,pi[Qn++]=u,Ii|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function ai(n,i,o,u){return si(n,i,o,u),Kn(n)}function oi(n,i){return si(n,null,null,i),Kn(n)}function Fr(n,i,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var _=!1,x=n.return;x!==null;)x.childLanes|=o,u=x.alternate,u!==null&&(u.childLanes|=o),x.tag===22&&(n=x.stateNode,n===null||n._visibility&1||(_=!0)),n=x,x=x.return;return n.tag===3?(x=n.stateNode,_&&i!==null&&(_=31-Wn(o),n=x.hiddenUpdates,u=n[_],u===null?n[_]=[i]:u.push(i),i.lane=o|536870912),x):null}function Kn(n){if(50<Td)throw Td=0,zm=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var ns={};function Ys(n,i,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yi(n,i,o,u){return new Ys(n,i,o,u)}function Ws(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Hr(n,i){var o=n.alternate;return o===null?(o=yi(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function So(n,i){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Xs(n,i,o,u,_,x){var D=0;if(u=n,typeof n=="function")Ws(n)&&(D=1);else if(typeof n=="string")D=DT(n,o,Be.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Y:return n=yi(31,o,i,_),n.elementType=Y,n.lanes=x,n;case te:return Mi(o.children,_,x,i);case J:D=8,_|=24;break;case K:return n=yi(12,o,i,_|2),n.elementType=K,n.lanes=x,n;case Ye:return n=yi(13,o,i,_),n.elementType=Ye,n.lanes=x,n;case Qe:return n=yi(19,o,i,_),n.elementType=Qe,n.lanes=x,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case _e:case ie:D=10;break e;case Re:D=9;break e;case ke:D=11;break e;case ce:D=14;break e;case H:D=16,u=null;break e}D=29,o=Error(s(130,n===null?"null":typeof n,"")),u=null}return i=yi(D,o,i,_),i.elementType=n,i.type=u,i.lanes=x,i}function Mi(n,i,o,u){return n=yi(7,n,u,i),n.lanes=o,n}function hl(n,i,o){return n=yi(6,n,null,i),n.lanes=o,n}function Ca(n,i,o){return i=yi(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var ya=[],Ia=0,a=null,c=0,p=[],w=0,C=null,U=1,ne="";function fe(n,i){ya[Ia++]=c,ya[Ia++]=a,a=n,c=i}function we(n,i,o){p[w++]=U,p[w++]=ne,p[w++]=C,C=n;var u=U;n=ne;var _=32-Wn(u)-1;u&=~(1<<_),o+=1;var x=32-Wn(i)+_;if(30<x){var D=_-_%5;x=(u&(1<<D)-1).toString(32),u>>=D,_-=D,U=1<<32-Wn(i)+_|o<<_|u,ne=x+n}else U=1<<x|o<<_|u,ne=n}function Le(n){n.return!==null&&(fe(n,1),we(n,1,0))}function Xe(n){for(;n===a;)a=ya[--Ia],ya[Ia]=null,c=ya[--Ia],ya[Ia]=null;for(;n===C;)C=p[--w],p[w]=null,ne=p[--w],p[w]=null,U=p[--w],p[w]=null}var $e=null,qe=null,_t=!1,fn=null,vn=!1,Xt=Error(s(519));function dr(n){var i=Error(s(418,""));throw Gr(on(i,n)),Xt}function is(n){var i=n.stateNode,o=n.type,u=n.memoizedProps;switch(i[jn]=n,i[Gt]=u,o){case"dialog":sn("cancel",i),sn("close",i);break;case"iframe":case"object":case"embed":sn("load",i);break;case"video":case"audio":for(o=0;o<Sd.length;o++)sn(Sd[o],i);break;case"source":sn("error",i);break;case"img":case"image":case"link":sn("error",i),sn("load",i);break;case"details":sn("toggle",i);break;case"input":sn("invalid",i),vr(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ar(i);break;case"select":sn("invalid",i);break;case"textarea":sn("invalid",i),Yi(i,u.value,u.defaultValue,u.children),ar(i)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||R0(i.textContent,o)?(u.popover!=null&&(sn("beforetoggle",i),sn("toggle",i)),u.onScroll!=null&&sn("scroll",i),u.onScrollEnd!=null&&sn("scrollend",i),u.onClick!=null&&(i.onclick=Vf),i=!0):i=!1,i||dr(n)}function Wa(n){for($e=n.return;$e;)switch($e.tag){case 5:case 13:vn=!1;return;case 27:case 3:vn=!0;return;default:$e=$e.return}}function _a(n){if(n!==$e)return!1;if(!_t)return Wa(n),_t=!0,!1;var i=n.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||$m(n.type,n.memoizedProps)),o=!o),o&&qe&&dr(n),Wa(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(i===0){qe=il(n.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;n=n.nextSibling}qe=null}}else i===27?(i=qe,Ec(n.type)?(n=ip,ip=null,qe=n):qe=i):qe=$e?il(n.stateNode.nextSibling):null;return!0}function rs(){qe=$e=null,_t=!1}function Ss(){var n=fn;return n!==null&&(La===null?La=n:La.push.apply(La,n),fn=null),n}function Gr(n){fn===null?fn=[n]:fn.push(n)}var Dt=ee(null),Di=null,As=null;function Qs(n,i,o){Me(Dt,i._currentValue),i._currentValue=o}function Nr(n){n._currentValue=Dt.current,je(Dt)}function Xa(n,i,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),n===o)break;n=n.return}}function Jn(n,i,o,u){var _=n.child;for(_!==null&&(_.return=n);_!==null;){var x=_.dependencies;if(x!==null){var D=_.child;x=x.firstContext;e:for(;x!==null;){var B=x;x=_;for(var re=0;re<i.length;re++)if(B.context===i[re]){x.lanes|=o,B=x.alternate,B!==null&&(B.lanes|=o),Xa(x.return,o,n),u||(D=null);break e}x=B.next}}else if(_.tag===18){if(D=_.return,D===null)throw Error(s(341));D.lanes|=o,x=D.alternate,x!==null&&(x.lanes|=o),Xa(D,o,n),D=null}else D=_.child;if(D!==null)D.return=_;else for(D=_;D!==null;){if(D===n){D=null;break}if(_=D.sibling,_!==null){_.return=D.return,D=_;break}D=D.return}_=D}}function Ks(n,i,o,u){n=null;for(var _=i,x=!1;_!==null;){if(!x){if((_.flags&524288)!==0)x=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var D=_.alternate;if(D===null)throw Error(s(387));if(D=D.memoizedProps,D!==null){var B=_.type;$i(_.pendingProps.value,D.value)||(n!==null?n.push(B):n=[B])}}else if(_===gn.current){if(D=_.alternate,D===null)throw Error(s(387));D.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(n!==null?n.push(kd):n=[kd])}_=_.return}n!==null&&Jn(i,n,o,u),i.flags|=262144}function ka(n){for(n=n.firstContext;n!==null;){if(!$i(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ss(n){Di=n,As=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Oi(n){return as(Di,n)}function Ao(n,i){return Di===null&&ss(n),as(n,i)}function as(n,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},As===null){if(n===null)throw Error(s(308));As=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else As=As.next=i;return o}var Yu=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){i.aborted=!0,n.forEach(function(o){return o()})}},Go=r.unstable_scheduleCallback,tu=r.unstable_NormalPriority,qn={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function No(){return{controller:new Yu,data:new Map,refCount:0}}function Qa(n){n.refCount--,n.refCount===0&&Go(tu,function(){n.controller.abort()})}var Js=null,Zo=0,Ka=0,Ja=null;function Vl(n,i){if(Js===null){var o=Js=[];Zo=0,Ka=Gm(),Ja={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Zo++,i.then(qs,qs),i}function qs(){if(--Zo===0&&Js!==null){Ja!==null&&(Ja.status="fulfilled");var n=Js;Js=null,Ka=0,Ja=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function qa(n,i){var o=[],u={status:"pending",value:null,reason:null,then:function(_){o.push(_)}};return n.then(function(){u.status="fulfilled",u.value=i;for(var _=0;_<o.length;_++)(0,o[_])(i)},function(_){for(u.status="rejected",u.reason=_,_=0;_<o.length;_++)(0,o[_])(void 0)}),u}var Yo=$.S;$.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Vl(n,i),Yo!==null&&Yo(n,i)};var Ns=ee(null);function Wo(){var n=Ns.current;return n!==null?n:bi.pooledCache}function $a(n,i){i===null?Me(Ns,Ns.current):Me(Ns,i.pool)}function dl(){var n=Wo();return n===null?null:{parent:qn._currentValue,pool:n}}var $s=Error(s(460)),eo=Error(s(474)),Pa=Error(s(542)),to={then:function(){}};function fl(n){return n=n.status,n==="fulfilled"||n==="rejected"}function g(){}function y(n,i,o){switch(o=n[o],o===void 0?n.push(i):o!==i&&(i.then(g,g),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,O(n),n;default:if(typeof i.status=="string")i.then(g,g);else{if(n=bi,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(u){if(i.status==="pending"){var _=i;_.status="fulfilled",_.value=u}},function(u){if(i.status==="pending"){var _=i;_.status="rejected",_.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,O(n),n}throw T=i,$s}}var T=null;function P(){if(T===null)throw Error(s(459));var n=T;return T=null,n}function O(n){if(n===$s||n===Pa)throw Error(s(483))}var W=!1;function se(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function be(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ue(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function pe(n,i,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Zn&2)!==0){var _=u.pending;return _===null?i.next=i:(i.next=_.next,_.next=i),u.pending=i,i=Kn(n),Fr(n,null,o),i}return si(n,u,i,o),Kn(n)}function He(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=n.pendingLanes,o|=u,i.lanes=o,Uo(n,o)}}function Pe(n,i){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var _=null,x=null;if(o=o.firstBaseUpdate,o!==null){do{var D={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};x===null?_=x=D:x=x.next=D,o=o.next}while(o!==null);x===null?_=x=i:x=x.next=i}else _=x=i;o={baseState:u.baseState,firstBaseUpdate:_,lastBaseUpdate:x,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}var tt=!1;function st(){if(tt){var n=Ja;if(n!==null)throw n}}function ft(n,i,o,u){tt=!1;var _=n.updateQueue;W=!1;var x=_.firstBaseUpdate,D=_.lastBaseUpdate,B=_.shared.pending;if(B!==null){_.shared.pending=null;var re=B,xe=re.next;re.next=null,D===null?x=xe:D.next=xe,D=re;var De=n.alternate;De!==null&&(De=De.updateQueue,B=De.lastBaseUpdate,B!==D&&(B===null?De.firstBaseUpdate=xe:B.next=xe,De.lastBaseUpdate=re))}if(x!==null){var Ue=_.baseState;D=0,De=xe=re=null,B=x;do{var Te=B.lane&-536870913,Se=Te!==B.lane;if(Se?(bn&Te)===Te:(u&Te)===Te){Te!==0&&Te===Ka&&(tt=!0),De!==null&&(De=De.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var Rt=n,Et=B;Te=i;var ti=o;switch(Et.tag){case 1:if(Rt=Et.payload,typeof Rt=="function"){Ue=Rt.call(ti,Ue,Te);break e}Ue=Rt;break e;case 3:Rt.flags=Rt.flags&-65537|128;case 0:if(Rt=Et.payload,Te=typeof Rt=="function"?Rt.call(ti,Ue,Te):Rt,Te==null)break e;Ue=M({},Ue,Te);break e;case 2:W=!0}}Te=B.callback,Te!==null&&(n.flags|=64,Se&&(n.flags|=8192),Se=_.callbacks,Se===null?_.callbacks=[Te]:Se.push(Te))}else Se={lane:Te,tag:B.tag,payload:B.payload,callback:B.callback,next:null},De===null?(xe=De=Se,re=Ue):De=De.next=Se,D|=Te;if(B=B.next,B===null){if(B=_.shared.pending,B===null)break;Se=B,B=Se.next,Se.next=null,_.lastBaseUpdate=Se,_.shared.pending=null}}while(!0);De===null&&(re=Ue),_.baseState=re,_.firstBaseUpdate=xe,_.lastBaseUpdate=De,x===null&&(_.shared.lanes=0),bc|=D,n.lanes=D,n.memoizedState=Ue}}function At(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function kn(n,i){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)At(o[n],i)}var Hn=ee(null),Zt=ee(0);function fr(n,i){n=Xl,Me(Zt,n),Me(Hn,i),Xl=n|i.baseLanes}function li(){Me(Zt,Xl),Me(Hn,Hn.current)}function Rr(){Xl=Zt.current,je(Hn),je(Zt)}var $n=0,Tt=null,jt=null,Ft=null,_i=!1,Pn=!1,vi=!1,no=0,ea=0,Rs=null,gl=0;function Gn(){throw Error(s(321))}function Wu(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!$i(n[o],i[o]))return!1;return!0}function Xu(n,i,o,u,_,x){return $n=x,Tt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=n===null||n.memoizedState===null?Hl:dd,vi=!1,x=o(u,_),vi=!1,Pn&&(x=qh(i,o,u,_)),Jh(n),x}function Jh(n){$.H=_u;var i=jt!==null&&jt.next!==null;if($n=0,Ft=jt=Tt=null,_i=!1,ea=0,Rs=null,i)throw Error(s(300));n===null||os||(n=n.dependencies,n!==null&&ka(n)&&(os=!0))}function qh(n,i,o,u){Tt=n;var _=0;do{if(Pn&&(Rs=null),ea=0,Pn=!1,25<=_)throw Error(s(301));if(_+=1,Ft=jt=null,n.updateQueue!=null){var x=n.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}$.H=sh,x=i(o,u)}while(Pn);return x}function $h(){var n=$.H,i=n.useState()[0];return i=typeof i.then=="function"?Xo(i):i,n=n.useState()[0],(jt!==null?jt.memoizedState:null)!==n&&(Tt.flags|=1024),i}function nu(){var n=no!==0;return no=0,n}function iu(n,i,o){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~o}function ru(n){if(_i){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}_i=!1}$n=0,Ft=jt=Tt=null,Pn=!1,ea=no=0,Rs=null}function Cr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?Tt.memoizedState=Ft=n:Ft=Ft.next=n,Ft}function Rn(){if(jt===null){var n=Tt.alternate;n=n!==null?n.memoizedState:null}else n=jt.next;var i=Ft===null?Tt.memoizedState:Ft.next;if(i!==null)Ft=i,jt=n;else{if(n===null)throw Tt.alternate===null?Error(s(467)):Error(s(310));jt=n,n={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Ft===null?Tt.memoizedState=Ft=n:Ft=Ft.next=n}return Ft}function Qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xo(n){var i=ea;return ea+=1,Rs===null&&(Rs=[]),n=y(Rs,n,i),i=Tt,(Ft===null?i.memoizedState:Ft.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?Hl:dd),n}function su(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Xo(n);if(n.$$typeof===ie)return Oi(n)}throw Error(s(438,String(n)))}function Ku(n){var i=null,o=Tt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=Tt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(_){return _.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Qu(),Tt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(n),u=0;u<n;u++)o[u]=he;return i.index++,o}function Ro(n,i){return typeof i=="function"?i(n):i}function au(n){var i=Rn();return Ju(i,jt,n)}function Ju(n,i,o){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var _=n.baseQueue,x=u.pending;if(x!==null){if(_!==null){var D=_.next;_.next=x.next,x.next=D}i.baseQueue=_=x,u.pending=null}if(x=n.baseState,_===null)n.memoizedState=x;else{i=_.next;var B=D=null,re=null,xe=i,De=!1;do{var Ue=xe.lane&-536870913;if(Ue!==xe.lane?(bn&Ue)===Ue:($n&Ue)===Ue){var Te=xe.revertLane;if(Te===0)re!==null&&(re=re.next={lane:0,revertLane:0,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null}),Ue===Ka&&(De=!0);else if(($n&Te)===Te){xe=xe.next,Te===Ka&&(De=!0);continue}else Ue={lane:0,revertLane:xe.revertLane,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},re===null?(B=re=Ue,D=x):re=re.next=Ue,Tt.lanes|=Te,bc|=Te;Ue=xe.action,vi&&o(x,Ue),x=xe.hasEagerState?xe.eagerState:o(x,Ue)}else Te={lane:Ue,revertLane:xe.revertLane,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},re===null?(B=re=Te,D=x):re=re.next=Te,Tt.lanes|=Ue,bc|=Ue;xe=xe.next}while(xe!==null&&xe!==i);if(re===null?D=x:re.next=B,!$i(x,n.memoizedState)&&(os=!0,De&&(o=Ja,o!==null)))throw o;n.memoizedState=x,n.baseState=D,n.baseQueue=re,u.lastRenderedState=x}return _===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function qu(n){var i=Rn(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=n;var u=o.dispatch,_=o.pending,x=i.memoizedState;if(_!==null){o.pending=null;var D=_=_.next;do x=n(x,D.action),D=D.next;while(D!==_);$i(x,i.memoizedState)||(os=!0),i.memoizedState=x,i.baseQueue===null&&(i.baseState=x),o.lastRenderedState=x}return[x,u]}function sc(n,i,o){var u=Tt,_=Rn(),x=_t;if(x){if(o===void 0)throw Error(s(407));o=o()}else o=i();var D=!$i((jt||_).memoizedState,o);D&&(_.memoizedState=o,os=!0),_=_.queue;var B=td.bind(null,u,_,n);if(jl(2048,8,B,[n]),_.getSnapshot!==i||D||Ft!==null&&Ft.memoizedState.tag&1){if(u.flags|=2048,Io(9,pl(),ed.bind(null,u,_,o,i),null),bi===null)throw Error(s(349));x||($n&124)!==0||Co(u,i,o)}return o}function Co(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=Tt.updateQueue,i===null?(i=Qu(),Tt.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function ed(n,i,o,u){i.value=o,i.getSnapshot=u,ac(i)&&nd(n)}function td(n,i,o){return o(function(){ac(i)&&nd(n)})}function ac(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!$i(n,o)}catch{return!0}}function nd(n){var i=oi(n,2);i!==null&&co(i,n,2)}function Qo(n){var i=Cr();if(typeof n=="function"){var o=n;if(n=o(),vi){Gi(!0);try{o()}finally{Gi(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:n},i}function oc(n,i,o,u){return n.baseState=o,Ju(n,jt,typeof u=="function"?u:Ro)}function ou(n,i,o,u,_){if(yl(n))throw Error(s(485));if(n=i.action,n!==null){var x={payload:_,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){x.listeners.push(D)}};$.T!==null?o(!0):x.isTransition=!1,u(x),o=i.pending,o===null?(x.next=i.pending=x,lc(i,x)):(x.next=o.next,i.pending=o.next=x)}}function lc(n,i){var o=i.action,u=i.payload,_=n.state;if(i.isTransition){var x=$.T,D={};$.T=D;try{var B=o(_,u),re=$.S;re!==null&&re(D,B),cc(n,i,B)}catch(xe){lu(n,i,xe)}finally{$.T=x}}else try{x=o(_,u),cc(n,i,x)}catch(xe){lu(n,i,xe)}}function cc(n,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Ko(n,i,u)},function(u){return lu(n,i,u)}):Ko(n,i,o)}function Ko(n,i,o){i.status="fulfilled",i.value=o,$u(i),n.state=o,i=n.pending,i!==null&&(o=i.next,o===i?n.pending=null:(o=o.next,i.next=o,lc(n,o)))}function lu(n,i,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,$u(i),i=i.next;while(i!==u)}n.action=null}function $u(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function ml(n,i){return i}function id(n,i){if(_t){var o=bi.formState;if(o!==null){e:{var u=Tt;if(_t){if(qe){t:{for(var _=qe,x=vn;_.nodeType!==8;){if(!x){_=null;break t}if(_=il(_.nextSibling),_===null){_=null;break t}}x=_.data,_=x==="F!"||x==="F"?_:null}if(_){qe=il(_.nextSibling),u=_.data==="F!";break e}}dr(u)}u=!1}u&&(i=o[0])}}return o=Cr(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:i},o.queue=u,o=ud.bind(null,Tt,u),u.dispatch=o,u=Qo(!1),x=fc.bind(null,Tt,!1,u.queue),u=Cr(),_={state:i,dispatch:null,action:n,pending:null},u.queue=_,o=ou.bind(null,Tt,_,x,o),_.dispatch=o,u.memoizedState=n,[i,o,!1]}function cu(n){var i=Rn();return rd(i,jt,n)}function rd(n,i,o){if(i=Ju(n,i,ml)[0],n=au(Ro)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Xo(i)}catch(D){throw D===$s?Pa:D}else u=i;i=Rn();var _=i.queue,x=_.dispatch;return o!==i.memoizedState&&(Tt.flags|=2048,Io(9,pl(),uu.bind(null,_,o),null)),[u,x,n]}function uu(n,i){n.action=i}function sd(n){var i=Rn(),o=jt;if(o!==null)return rd(i,o,n);Rn(),i=i.memoizedState,o=Rn();var u=o.queue.dispatch;return o.memoizedState=n,[i,u,!1]}function Io(n,i,o,u){return n={tag:n,create:o,deps:u,inst:i,next:null},i=Tt.updateQueue,i===null&&(i=Qu(),Tt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,i.lastEffect=n),n}function pl(){return{destroy:void 0,resource:void 0}}function ad(){return Rn().memoizedState}function hu(n,i,o,u){var _=Cr();u=u===void 0?null:u,Tt.flags|=n,_.memoizedState=Io(1|i,pl(),o,u)}function jl(n,i,o,u){var _=Rn();u=u===void 0?null:u;var x=_.memoizedState.inst;jt!==null&&u!==null&&Wu(u,jt.memoizedState.deps)?_.memoizedState=Io(i,x,o,u):(Tt.flags|=n,_.memoizedState=Io(1|i,x,o,u))}function Ef(n,i){hu(8390656,8,n,i)}function Jo(n,i){jl(2048,8,n,i)}function du(n,i){return jl(4,2,n,i)}function uc(n,i){return jl(4,4,n,i)}function Bl(n,i){if(typeof i=="function"){n=n();var o=i(n);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function fu(n,i,o){o=o!=null?o.concat([n]):null,jl(4,4,Bl.bind(null,i,n),o)}function hc(){}function eh(n,i){var o=Rn();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&Wu(i,u[1])?u[0]:(o.memoizedState=[n,i],n)}function od(n,i){var o=Rn();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&Wu(i,u[1]))return u[0];if(u=n(),vi){Gi(!0);try{n()}finally{Gi(!1)}}return o.memoizedState=[u,i],u}function gu(n,i,o){return o===void 0||($n&1073741824)!==0?n.memoizedState=i:(n.memoizedState=o,n=t0(),Tt.lanes|=n,bc|=n,o)}function ld(n,i,o,u){return $i(o,i)?o:Hn.current!==null?(n=gu(n,o,u),$i(n,i)||(os=!0),n):($n&42)===0?(os=!0,n.memoizedState=o):(n=t0(),Tt.lanes|=n,bc|=n,i)}function mu(n,i,o,u,_){var x=le.p;le.p=x!==0&&8>x?x:8;var D=$.T,B={};$.T=B,fc(n,!1,i,o);try{var re=_(),xe=$.S;if(xe!==null&&xe(B,re),re!==null&&typeof re=="object"&&typeof re.then=="function"){var De=qa(re,u);qo(n,i,De,lo(n))}else qo(n,i,u,lo(n))}catch(Ue){qo(n,i,{then:function(){},status:"rejected",reason:Ue},lo())}finally{le.p=x,$.T=D}}function th(){}function nh(n,i,o,u){if(n.tag!==5)throw Error(s(476));var _=pu(n).queue;mu(n,_,i,Ce,o===null?th:function(){return ih(n),o(u)})}function pu(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Ce,baseState:Ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:Ce},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:o},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function ih(n){var i=pu(n).next.queue;qo(n,i,{},lo())}function rh(){return Oi(kd)}function cd(){return Rn().memoizedState}function yu(){return Rn().memoizedState}function Fl(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var o=lo();n=ue(o);var u=pe(i,n,o);u!==null&&(co(u,i,o),He(u,i,o)),i={cache:No()},n.payload=i;return}i=i.return}}function dc(n,i,o){var u=lo();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},yl(n)?hd(i,o):(o=ai(n,i,o,u),o!==null&&(co(o,n,u),_l(o,i,u)))}function ud(n,i,o){var u=lo();qo(n,i,o,u)}function qo(n,i,o,u){var _={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(yl(n))hd(i,_);else{var x=n.alternate;if(n.lanes===0&&(x===null||x.lanes===0)&&(x=i.lastRenderedReducer,x!==null))try{var D=i.lastRenderedState,B=x(D,o);if(_.hasEagerState=!0,_.eagerState=B,$i(B,D))return si(n,i,_,0),bi===null&&er(),!1}catch{}finally{}if(o=ai(n,i,_,u),o!==null)return co(o,n,u),_l(o,i,u),!0}return!1}function fc(n,i,o,u){if(u={lane:2,revertLane:Gm(),action:u,hasEagerState:!1,eagerState:null,next:null},yl(n)){if(i)throw Error(s(479))}else i=ai(n,o,u,2),i!==null&&co(i,n,2)}function yl(n){var i=n.alternate;return n===Tt||i!==null&&i===Tt}function hd(n,i){Pn=_i=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function _l(n,i,o){if((o&4194048)!==0){var u=i.lanes;u&=n.pendingLanes,o|=u,i.lanes=o,Uo(n,o)}}var _u={readContext:Oi,use:su,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useLayoutEffect:Gn,useInsertionEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useSyncExternalStore:Gn,useId:Gn,useHostTransitionStatus:Gn,useFormState:Gn,useActionState:Gn,useOptimistic:Gn,useMemoCache:Gn,useCacheRefresh:Gn},Hl={readContext:Oi,use:su,useCallback:function(n,i){return Cr().memoizedState=[n,i===void 0?null:i],n},useContext:Oi,useEffect:Ef,useImperativeHandle:function(n,i,o){o=o!=null?o.concat([n]):null,hu(4194308,4,Bl.bind(null,i,n),o)},useLayoutEffect:function(n,i){return hu(4194308,4,n,i)},useInsertionEffect:function(n,i){hu(4,2,n,i)},useMemo:function(n,i){var o=Cr();i=i===void 0?null:i;var u=n();if(vi){Gi(!0);try{n()}finally{Gi(!1)}}return o.memoizedState=[u,i],u},useReducer:function(n,i,o){var u=Cr();if(o!==void 0){var _=o(i);if(vi){Gi(!0);try{o(i)}finally{Gi(!1)}}}else _=i;return u.memoizedState=u.baseState=_,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:_},u.queue=n,n=n.dispatch=dc.bind(null,Tt,n),[u.memoizedState,n]},useRef:function(n){var i=Cr();return n={current:n},i.memoizedState=n},useState:function(n){n=Qo(n);var i=n.queue,o=ud.bind(null,Tt,i);return i.dispatch=o,[n.memoizedState,o]},useDebugValue:hc,useDeferredValue:function(n,i){var o=Cr();return gu(o,n,i)},useTransition:function(){var n=Qo(!1);return n=mu.bind(null,Tt,n.queue,!0,!1),Cr().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,o){var u=Tt,_=Cr();if(_t){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),bi===null)throw Error(s(349));(bn&124)!==0||Co(u,i,o)}_.memoizedState=o;var x={value:o,getSnapshot:i};return _.queue=x,Ef(td.bind(null,u,x,n),[n]),u.flags|=2048,Io(9,pl(),ed.bind(null,u,x,o,i),null),o},useId:function(){var n=Cr(),i=bi.identifierPrefix;if(_t){var o=ne,u=U;o=(u&~(1<<32-Wn(u)-1)).toString(32)+o,i="«"+i+"R"+o,o=no++,0<o&&(i+="H"+o.toString(32)),i+="»"}else o=gl++,i="«"+i+"r"+o.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:rh,useFormState:id,useActionState:id,useOptimistic:function(n){var i=Cr();i.memoizedState=i.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=fc.bind(null,Tt,!0,o),o.dispatch=i,[n,i]},useMemoCache:Ku,useCacheRefresh:function(){return Cr().memoizedState=Fl.bind(null,Tt)}},dd={readContext:Oi,use:su,useCallback:eh,useContext:Oi,useEffect:Jo,useImperativeHandle:fu,useInsertionEffect:du,useLayoutEffect:uc,useMemo:od,useReducer:au,useRef:ad,useState:function(){return au(Ro)},useDebugValue:hc,useDeferredValue:function(n,i){var o=Rn();return ld(o,jt.memoizedState,n,i)},useTransition:function(){var n=au(Ro)[0],i=Rn().memoizedState;return[typeof n=="boolean"?n:Xo(n),i]},useSyncExternalStore:sc,useId:cd,useHostTransitionStatus:rh,useFormState:cu,useActionState:cu,useOptimistic:function(n,i){var o=Rn();return oc(o,jt,n,i)},useMemoCache:Ku,useCacheRefresh:yu},sh={readContext:Oi,use:su,useCallback:eh,useContext:Oi,useEffect:Jo,useImperativeHandle:fu,useInsertionEffect:du,useLayoutEffect:uc,useMemo:od,useReducer:qu,useRef:ad,useState:function(){return qu(Ro)},useDebugValue:hc,useDeferredValue:function(n,i){var o=Rn();return jt===null?gu(o,n,i):ld(o,jt.memoizedState,n,i)},useTransition:function(){var n=qu(Ro)[0],i=Rn().memoizedState;return[typeof n=="boolean"?n:Xo(n),i]},useSyncExternalStore:sc,useId:cd,useHostTransitionStatus:rh,useFormState:sd,useActionState:sd,useOptimistic:function(n,i){var o=Rn();return jt!==null?oc(o,jt,n,i):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Ku,useCacheRefresh:yu},vl=null,$o=0;function vu(n){var i=$o;return $o+=1,vl===null&&(vl=[]),y(vl,n,i)}function el(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function bl(n,i){throw i.$$typeof===j?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function gc(n){var i=n._init;return i(n._payload)}function bu(n){function i(ge,de){if(n){var ve=ge.deletions;ve===null?(ge.deletions=[de],ge.flags|=16):ve.push(de)}}function o(ge,de){if(!n)return null;for(;de!==null;)i(ge,de),de=de.sibling;return null}function u(ge){for(var de=new Map;ge!==null;)ge.key!==null?de.set(ge.key,ge):de.set(ge.index,ge),ge=ge.sibling;return de}function _(ge,de){return ge=Hr(ge,de),ge.index=0,ge.sibling=null,ge}function x(ge,de,ve){return ge.index=ve,n?(ve=ge.alternate,ve!==null?(ve=ve.index,ve<de?(ge.flags|=67108866,de):ve):(ge.flags|=67108866,de)):(ge.flags|=1048576,de)}function D(ge){return n&&ge.alternate===null&&(ge.flags|=67108866),ge}function B(ge,de,ve,Oe){return de===null||de.tag!==6?(de=hl(ve,ge.mode,Oe),de.return=ge,de):(de=_(de,ve),de.return=ge,de)}function re(ge,de,ve,Oe){var at=ve.type;return at===te?De(ge,de,ve.props.children,Oe,ve.key):de!==null&&(de.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===H&&gc(at)===de.type)?(de=_(de,ve.props),el(de,ve),de.return=ge,de):(de=Xs(ve.type,ve.key,ve.props,null,ge.mode,Oe),el(de,ve),de.return=ge,de)}function xe(ge,de,ve,Oe){return de===null||de.tag!==4||de.stateNode.containerInfo!==ve.containerInfo||de.stateNode.implementation!==ve.implementation?(de=Ca(ve,ge.mode,Oe),de.return=ge,de):(de=_(de,ve.children||[]),de.return=ge,de)}function De(ge,de,ve,Oe,at){return de===null||de.tag!==7?(de=Mi(ve,ge.mode,Oe,at),de.return=ge,de):(de=_(de,ve),de.return=ge,de)}function Ue(ge,de,ve){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return de=hl(""+de,ge.mode,ve),de.return=ge,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case V:return ve=Xs(de.type,de.key,de.props,null,ge.mode,ve),el(ve,de),ve.return=ge,ve;case Q:return de=Ca(de,ge.mode,ve),de.return=ge,de;case H:var Oe=de._init;return de=Oe(de._payload),Ue(ge,de,ve)}if(lt(de)||q(de))return de=Mi(de,ge.mode,ve,null),de.return=ge,de;if(typeof de.then=="function")return Ue(ge,vu(de),ve);if(de.$$typeof===ie)return Ue(ge,Ao(ge,de),ve);bl(ge,de)}return null}function Te(ge,de,ve,Oe){var at=de!==null?de.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return at!==null?null:B(ge,de,""+ve,Oe);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case V:return ve.key===at?re(ge,de,ve,Oe):null;case Q:return ve.key===at?xe(ge,de,ve,Oe):null;case H:return at=ve._init,ve=at(ve._payload),Te(ge,de,ve,Oe)}if(lt(ve)||q(ve))return at!==null?null:De(ge,de,ve,Oe,null);if(typeof ve.then=="function")return Te(ge,de,vu(ve),Oe);if(ve.$$typeof===ie)return Te(ge,de,Ao(ge,ve),Oe);bl(ge,ve)}return null}function Se(ge,de,ve,Oe,at){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return ge=ge.get(ve)||null,B(de,ge,""+Oe,at);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case V:return ge=ge.get(Oe.key===null?ve:Oe.key)||null,re(de,ge,Oe,at);case Q:return ge=ge.get(Oe.key===null?ve:Oe.key)||null,xe(de,ge,Oe,at);case H:var tn=Oe._init;return Oe=tn(Oe._payload),Se(ge,de,ve,Oe,at)}if(lt(Oe)||q(Oe))return ge=ge.get(ve)||null,De(de,ge,Oe,at,null);if(typeof Oe.then=="function")return Se(ge,de,ve,vu(Oe),at);if(Oe.$$typeof===ie)return Se(ge,de,ve,Ao(de,Oe),at);bl(de,Oe)}return null}function Rt(ge,de,ve,Oe){for(var at=null,tn=null,gt=de,St=de=0,cs=null;gt!==null&&St<ve.length;St++){gt.index>St?(cs=gt,gt=null):cs=gt.sibling;var Cn=Te(ge,gt,ve[St],Oe);if(Cn===null){gt===null&&(gt=cs);break}n&&gt&&Cn.alternate===null&&i(ge,gt),de=x(Cn,de,St),tn===null?at=Cn:tn.sibling=Cn,tn=Cn,gt=cs}if(St===ve.length)return o(ge,gt),_t&&fe(ge,St),at;if(gt===null){for(;St<ve.length;St++)gt=Ue(ge,ve[St],Oe),gt!==null&&(de=x(gt,de,St),tn===null?at=gt:tn.sibling=gt,tn=gt);return _t&&fe(ge,St),at}for(gt=u(gt);St<ve.length;St++)cs=Se(gt,ge,St,ve[St],Oe),cs!==null&&(n&&cs.alternate!==null&&gt.delete(cs.key===null?St:cs.key),de=x(cs,de,St),tn===null?at=cs:tn.sibling=cs,tn=cs);return n&&gt.forEach(function(Cc){return i(ge,Cc)}),_t&&fe(ge,St),at}function Et(ge,de,ve,Oe){if(ve==null)throw Error(s(151));for(var at=null,tn=null,gt=de,St=de=0,cs=null,Cn=ve.next();gt!==null&&!Cn.done;St++,Cn=ve.next()){gt.index>St?(cs=gt,gt=null):cs=gt.sibling;var Cc=Te(ge,gt,Cn.value,Oe);if(Cc===null){gt===null&&(gt=cs);break}n&&gt&&Cc.alternate===null&&i(ge,gt),de=x(Cc,de,St),tn===null?at=Cc:tn.sibling=Cc,tn=Cc,gt=cs}if(Cn.done)return o(ge,gt),_t&&fe(ge,St),at;if(gt===null){for(;!Cn.done;St++,Cn=ve.next())Cn=Ue(ge,Cn.value,Oe),Cn!==null&&(de=x(Cn,de,St),tn===null?at=Cn:tn.sibling=Cn,tn=Cn);return _t&&fe(ge,St),at}for(gt=u(gt);!Cn.done;St++,Cn=ve.next())Cn=Se(gt,ge,St,Cn.value,Oe),Cn!==null&&(n&&Cn.alternate!==null&&gt.delete(Cn.key===null?St:Cn.key),de=x(Cn,de,St),tn===null?at=Cn:tn.sibling=Cn,tn=Cn);return n&&gt.forEach(function(YT){return i(ge,YT)}),_t&&fe(ge,St),at}function ti(ge,de,ve,Oe){if(typeof ve=="object"&&ve!==null&&ve.type===te&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case V:e:{for(var at=ve.key;de!==null;){if(de.key===at){if(at=ve.type,at===te){if(de.tag===7){o(ge,de.sibling),Oe=_(de,ve.props.children),Oe.return=ge,ge=Oe;break e}}else if(de.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===H&&gc(at)===de.type){o(ge,de.sibling),Oe=_(de,ve.props),el(Oe,ve),Oe.return=ge,ge=Oe;break e}o(ge,de);break}else i(ge,de);de=de.sibling}ve.type===te?(Oe=Mi(ve.props.children,ge.mode,Oe,ve.key),Oe.return=ge,ge=Oe):(Oe=Xs(ve.type,ve.key,ve.props,null,ge.mode,Oe),el(Oe,ve),Oe.return=ge,ge=Oe)}return D(ge);case Q:e:{for(at=ve.key;de!==null;){if(de.key===at)if(de.tag===4&&de.stateNode.containerInfo===ve.containerInfo&&de.stateNode.implementation===ve.implementation){o(ge,de.sibling),Oe=_(de,ve.children||[]),Oe.return=ge,ge=Oe;break e}else{o(ge,de);break}else i(ge,de);de=de.sibling}Oe=Ca(ve,ge.mode,Oe),Oe.return=ge,ge=Oe}return D(ge);case H:return at=ve._init,ve=at(ve._payload),ti(ge,de,ve,Oe)}if(lt(ve))return Rt(ge,de,ve,Oe);if(q(ve)){if(at=q(ve),typeof at!="function")throw Error(s(150));return ve=at.call(ve),Et(ge,de,ve,Oe)}if(typeof ve.then=="function")return ti(ge,de,vu(ve),Oe);if(ve.$$typeof===ie)return ti(ge,de,Ao(ge,ve),Oe);bl(ge,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint"?(ve=""+ve,de!==null&&de.tag===6?(o(ge,de.sibling),Oe=_(de,ve),Oe.return=ge,ge=Oe):(o(ge,de),Oe=hl(ve,ge.mode,Oe),Oe.return=ge,ge=Oe),D(ge)):o(ge,de)}return function(ge,de,ve,Oe){try{$o=0;var at=ti(ge,de,ve,Oe);return vl=null,at}catch(gt){if(gt===$s||gt===Pa)throw gt;var tn=yi(29,gt,null,ge.mode);return tn.lanes=Oe,tn.return=ge,tn}finally{}}}var Ma=bu(!0),Zr=bu(!1),Un=ee(null),io=null;function va(n){var i=n.alternate;Me(tr,tr.current&1),Me(Un,n),io===null&&(i===null||Hn.current!==null||i.memoizedState!==null)&&(io=n)}function ah(n){if(n.tag===22){if(Me(tr,tr.current),Me(Un,n),io===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(io=n)}}else ta()}function ta(){Me(tr,tr.current),Me(Un,Un.current)}function ro(n){je(Un),io===n&&(io=null),je(tr)}var tr=ee(0);function ko(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||np(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function xu(n,i,o,u){i=n.memoizedState,o=o(u,i),o=o==null?i:M({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var wu={enqueueSetState:function(n,i,o){n=n._reactInternals;var u=lo(),_=ue(u);_.payload=i,o!=null&&(_.callback=o),i=pe(n,_,u),i!==null&&(co(i,n,u),He(i,n,u))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var u=lo(),_=ue(u);_.tag=1,_.payload=i,o!=null&&(_.callback=o),i=pe(n,_,u),i!==null&&(co(i,n,u),He(i,n,u))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=lo(),u=ue(o);u.tag=2,i!=null&&(u.callback=i),i=pe(n,u,o),i!==null&&(co(i,n,o),He(i,n,o))}};function fd(n,i,o,u,_,x,D){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,x,D):i.prototype&&i.prototype.isPureReactComponent?!Ar(o,u)||!Ar(_,x):!0}function oh(n,i,o,u){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==n&&wu.enqueueReplaceState(i,i.state,null)}function xl(n,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(n=n.defaultProps){o===i&&(o=M({},o));for(var _ in n)o[_]===void 0&&(o[_]=n[_])}return o}var mc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function gd(n){mc(n)}function lh(n){console.error(n)}function md(n){mc(n)}function tl(n,i){try{var o=n.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Da(n,i,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function ch(n,i,o){return o=ue(o),o.tag=3,o.payload={element:null},o.callback=function(){tl(n,i)},o}function b_(n){return n=ue(n),n.tag=3,n}function x_(n,i,o,u){var _=o.type.getDerivedStateFromError;if(typeof _=="function"){var x=u.value;n.payload=function(){return _(x)},n.callback=function(){Da(i,o,u)}}var D=o.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(n.callback=function(){Da(i,o,u),typeof _!="function"&&(xc===null?xc=new Set([this]):xc.add(this));var B=u.stack;this.componentDidCatch(u.value,{componentStack:B!==null?B:""})})}function Y1(n,i,o,u,_){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&Ks(i,o,_,!0),o=Un.current,o!==null){switch(o.tag){case 13:return io===null?Vm():o.alternate===null&&nr===0&&(nr=3),o.flags&=-257,o.flags|=65536,o.lanes=_,u===to?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),Bm(n,u,_)),!1;case 22:return o.flags|=65536,u===to?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),Bm(n,u,_)),!1}throw Error(s(435,o.tag))}return Bm(n,u,_),Vm(),!1}if(_t)return i=Un.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=_,u!==Xt&&(n=Error(s(422),{cause:u}),Gr(on(n,o)))):(u!==Xt&&(i=Error(s(423),{cause:u}),Gr(on(i,o))),n=n.current.alternate,n.flags|=65536,_&=-_,n.lanes|=_,u=on(u,o),_=ch(n.stateNode,u,_),Pe(n,_),nr!==4&&(nr=2)),!1;var x=Error(s(520),{cause:u});if(x=on(x,o),wd===null?wd=[x]:wd.push(x),nr!==4&&(nr=2),i===null)return!0;u=on(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,n=_&-_,o.lanes|=n,n=ch(o.stateNode,u,n),Pe(o,n),!1;case 1:if(i=o.type,x=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(xc===null||!xc.has(x))))return o.flags|=65536,_&=-_,o.lanes|=_,_=b_(_),x_(_,n,o,u),Pe(o,_),!1}o=o.return}while(o!==null);return!1}var w_=Error(s(461)),os=!1;function Cs(n,i,o,u){i.child=n===null?Zr(i,null,o,u):Ma(i,n.child,o,u)}function T_(n,i,o,u,_){o=o.render;var x=i.ref;if("ref"in u){var D={};for(var B in u)B!=="ref"&&(D[B]=u[B])}else D=u;return ss(i),u=Xu(n,i,o,D,x,_),B=nu(),n!==null&&!os?(iu(n,i,_),Gl(n,i,_)):(_t&&B&&Le(i),i.flags|=1,Cs(n,i,u,_),i.child)}function E_(n,i,o,u,_){if(n===null){var x=o.type;return typeof x=="function"&&!Ws(x)&&x.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=x,S_(n,i,x,u,_)):(n=Xs(o.type,null,u,i,i.mode,_),n.ref=i.ref,n.return=i,i.child=n)}if(x=n.child,!Tm(n,_)){var D=x.memoizedProps;if(o=o.compare,o=o!==null?o:Ar,o(D,u)&&n.ref===i.ref)return Gl(n,i,_)}return i.flags|=1,n=Hr(x,u),n.ref=i.ref,n.return=i,i.child=n}function S_(n,i,o,u,_){if(n!==null){var x=n.memoizedProps;if(Ar(x,u)&&n.ref===i.ref)if(os=!1,i.pendingProps=u=x,Tm(n,_))(n.flags&131072)!==0&&(os=!0);else return i.lanes=n.lanes,Gl(n,i,_)}return pm(n,i,o,u,_)}function A_(n,i,o){var u=i.pendingProps,_=u.children,x=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=x!==null?x.baseLanes|o:o,n!==null){for(_=i.child=n.child,x=0;_!==null;)x=x|_.lanes|_.childLanes,_=_.sibling;i.childLanes=x&~u}else i.childLanes=0,i.child=null;return N_(n,i,u,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&$a(i,x!==null?x.cachePool:null),x!==null?fr(i,x):li(),ah(i);else return i.lanes=i.childLanes=536870912,N_(n,i,x!==null?x.baseLanes|o:o,o)}else x!==null?($a(i,x.cachePool),fr(i,x),ta(),i.memoizedState=null):(n!==null&&$a(i,null),li(),ta());return Cs(n,i,_,o),i.child}function N_(n,i,o,u){var _=Wo();return _=_===null?null:{parent:qn._currentValue,pool:_},i.memoizedState={baseLanes:o,cachePool:_},n!==null&&$a(i,null),li(),ah(i),n!==null&&Ks(n,i,u,!0),null}function Sf(n,i){var o=i.ref;if(o===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(n===null||n.ref!==o)&&(i.flags|=4194816)}}function pm(n,i,o,u,_){return ss(i),o=Xu(n,i,o,u,void 0,_),u=nu(),n!==null&&!os?(iu(n,i,_),Gl(n,i,_)):(_t&&u&&Le(i),i.flags|=1,Cs(n,i,o,_),i.child)}function R_(n,i,o,u,_,x){return ss(i),i.updateQueue=null,o=qh(i,u,o,_),Jh(n),u=nu(),n!==null&&!os?(iu(n,i,x),Gl(n,i,x)):(_t&&u&&Le(i),i.flags|=1,Cs(n,i,o,x),i.child)}function C_(n,i,o,u,_){if(ss(i),i.stateNode===null){var x=ns,D=o.contextType;typeof D=="object"&&D!==null&&(x=Oi(D)),x=new o(u,x),i.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=wu,i.stateNode=x,x._reactInternals=i,x=i.stateNode,x.props=u,x.state=i.memoizedState,x.refs={},se(i),D=o.contextType,x.context=typeof D=="object"&&D!==null?Oi(D):ns,x.state=i.memoizedState,D=o.getDerivedStateFromProps,typeof D=="function"&&(xu(i,o,D,u),x.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(D=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),D!==x.state&&wu.enqueueReplaceState(x,x.state,null),ft(i,u,x,_),st(),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(n===null){x=i.stateNode;var B=i.memoizedProps,re=xl(o,B);x.props=re;var xe=x.context,De=o.contextType;D=ns,typeof De=="object"&&De!==null&&(D=Oi(De));var Ue=o.getDerivedStateFromProps;De=typeof Ue=="function"||typeof x.getSnapshotBeforeUpdate=="function",B=i.pendingProps!==B,De||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(B||xe!==D)&&oh(i,x,u,D),W=!1;var Te=i.memoizedState;x.state=Te,ft(i,u,x,_),st(),xe=i.memoizedState,B||Te!==xe||W?(typeof Ue=="function"&&(xu(i,o,Ue,u),xe=i.memoizedState),(re=W||fd(i,o,re,u,Te,xe,D))?(De||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(i.flags|=4194308)):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=xe),x.props=u,x.state=xe,x.context=D,u=re):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{x=i.stateNode,be(n,i),D=i.memoizedProps,De=xl(o,D),x.props=De,Ue=i.pendingProps,Te=x.context,xe=o.contextType,re=ns,typeof xe=="object"&&xe!==null&&(re=Oi(xe)),B=o.getDerivedStateFromProps,(xe=typeof B=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(D!==Ue||Te!==re)&&oh(i,x,u,re),W=!1,Te=i.memoizedState,x.state=Te,ft(i,u,x,_),st();var Se=i.memoizedState;D!==Ue||Te!==Se||W||n!==null&&n.dependencies!==null&&ka(n.dependencies)?(typeof B=="function"&&(xu(i,o,B,u),Se=i.memoizedState),(De=W||fd(i,o,De,u,Te,Se,re)||n!==null&&n.dependencies!==null&&ka(n.dependencies))?(xe||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(u,Se,re),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(u,Se,re)),typeof x.componentDidUpdate=="function"&&(i.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof x.componentDidUpdate!="function"||D===n.memoizedProps&&Te===n.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||D===n.memoizedProps&&Te===n.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=Se),x.props=u,x.state=Se,x.context=re,u=De):(typeof x.componentDidUpdate!="function"||D===n.memoizedProps&&Te===n.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||D===n.memoizedProps&&Te===n.memoizedState||(i.flags|=1024),u=!1)}return x=u,Sf(n,i),u=(i.flags&128)!==0,x||u?(x=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:x.render(),i.flags|=1,n!==null&&u?(i.child=Ma(i,n.child,null,_),i.child=Ma(i,null,o,_)):Cs(n,i,o,_),i.memoizedState=x.state,n=i.child):n=Gl(n,i,_),n}function I_(n,i,o,u){return rs(),i.flags|=256,Cs(n,i,o,u),i.child}var ym={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _m(n){return{baseLanes:n,cachePool:dl()}}function vm(n,i,o){return n=n!==null?n.childLanes&~o:0,i&&(n|=Po),n}function k_(n,i,o){var u=i.pendingProps,_=!1,x=(i.flags&128)!==0,D;if((D=x)||(D=n!==null&&n.memoizedState===null?!1:(tr.current&2)!==0),D&&(_=!0,i.flags&=-129),D=(i.flags&32)!==0,i.flags&=-33,n===null){if(_t){if(_?va(i):ta(),_t){var B=qe,re;if(re=B){e:{for(re=B,B=vn;re.nodeType!==8;){if(!B){B=null;break e}if(re=il(re.nextSibling),re===null){B=null;break e}}B=re}B!==null?(i.memoizedState={dehydrated:B,treeContext:C!==null?{id:U,overflow:ne}:null,retryLane:536870912,hydrationErrors:null},re=yi(18,null,null,0),re.stateNode=B,re.return=i,i.child=re,$e=i,qe=null,re=!0):re=!1}re||dr(i)}if(B=i.memoizedState,B!==null&&(B=B.dehydrated,B!==null))return np(B)?i.lanes=32:i.lanes=536870912,null;ro(i)}return B=u.children,u=u.fallback,_?(ta(),_=i.mode,B=Af({mode:"hidden",children:B},_),u=Mi(u,_,o,null),B.return=i,u.return=i,B.sibling=u,i.child=B,_=i.child,_.memoizedState=_m(o),_.childLanes=vm(n,D,o),i.memoizedState=ym,u):(va(i),bm(i,B))}if(re=n.memoizedState,re!==null&&(B=re.dehydrated,B!==null)){if(x)i.flags&256?(va(i),i.flags&=-257,i=xm(n,i,o)):i.memoizedState!==null?(ta(),i.child=n.child,i.flags|=128,i=null):(ta(),_=u.fallback,B=i.mode,u=Af({mode:"visible",children:u.children},B),_=Mi(_,B,o,null),_.flags|=2,u.return=i,_.return=i,u.sibling=_,i.child=u,Ma(i,n.child,null,o),u=i.child,u.memoizedState=_m(o),u.childLanes=vm(n,D,o),i.memoizedState=ym,i=_);else if(va(i),np(B)){if(D=B.nextSibling&&B.nextSibling.dataset,D)var xe=D.dgst;D=xe,u=Error(s(419)),u.stack="",u.digest=D,Gr({value:u,source:null,stack:null}),i=xm(n,i,o)}else if(os||Ks(n,i,o,!1),D=(o&n.childLanes)!==0,os||D){if(D=bi,D!==null&&(u=o&-o,u=(u&42)!==0?1:ha(u),u=(u&(D.suspendedLanes|o))!==0?0:u,u!==0&&u!==re.retryLane))throw re.retryLane=u,oi(n,u),co(D,n,u),w_;B.data==="$?"||Vm(),i=xm(n,i,o)}else B.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=re.treeContext,qe=il(B.nextSibling),$e=i,_t=!0,fn=null,vn=!1,n!==null&&(p[w++]=U,p[w++]=ne,p[w++]=C,U=n.id,ne=n.overflow,C=i),i=bm(i,u.children),i.flags|=4096);return i}return _?(ta(),_=u.fallback,B=i.mode,re=n.child,xe=re.sibling,u=Hr(re,{mode:"hidden",children:u.children}),u.subtreeFlags=re.subtreeFlags&65011712,xe!==null?_=Hr(xe,_):(_=Mi(_,B,o,null),_.flags|=2),_.return=i,u.return=i,u.sibling=_,i.child=u,u=_,_=i.child,B=n.child.memoizedState,B===null?B=_m(o):(re=B.cachePool,re!==null?(xe=qn._currentValue,re=re.parent!==xe?{parent:xe,pool:xe}:re):re=dl(),B={baseLanes:B.baseLanes|o,cachePool:re}),_.memoizedState=B,_.childLanes=vm(n,D,o),i.memoizedState=ym,u):(va(i),o=n.child,n=o.sibling,o=Hr(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,n!==null&&(D=i.deletions,D===null?(i.deletions=[n],i.flags|=16):D.push(n)),i.child=o,i.memoizedState=null,o)}function bm(n,i){return i=Af({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Af(n,i){return n=yi(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function xm(n,i,o){return Ma(i,n.child,null,o),n=bm(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function P_(n,i,o){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i),Xa(n.return,i,o)}function wm(n,i,o,u,_){var x=n.memoizedState;x===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:_}:(x.isBackwards=i,x.rendering=null,x.renderingStartTime=0,x.last=u,x.tail=o,x.tailMode=_)}function M_(n,i,o){var u=i.pendingProps,_=u.revealOrder,x=u.tail;if(Cs(n,i,u.children,o),u=tr.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&P_(n,o,i);else if(n.tag===19)P_(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(Me(tr,u),_){case"forwards":for(o=i.child,_=null;o!==null;)n=o.alternate,n!==null&&ko(n)===null&&(_=o),o=o.sibling;o=_,o===null?(_=i.child,i.child=null):(_=o.sibling,o.sibling=null),wm(i,!1,_,o,x);break;case"backwards":for(o=null,_=i.child,i.child=null;_!==null;){if(n=_.alternate,n!==null&&ko(n)===null){i.child=_;break}n=_.sibling,_.sibling=o,o=_,_=n}wm(i,!0,o,null,x);break;case"together":wm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Gl(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),bc|=i.lanes,(o&i.childLanes)===0)if(n!==null){if(Ks(n,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,o=Hr(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=Hr(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function Tm(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&ka(n)))}function W1(n,i,o){switch(i.tag){case 3:Bt(i,i.stateNode.containerInfo),Qs(i,qn,n.memoizedState.cache),rs();break;case 27:case 5:pr(i);break;case 4:Bt(i,i.stateNode.containerInfo);break;case 10:Qs(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(va(i),i.flags|=128,null):(o&i.child.childLanes)!==0?k_(n,i,o):(va(i),n=Gl(n,i,o),n!==null?n.sibling:null);va(i);break;case 19:var _=(n.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(Ks(n,i,o,!1),u=(o&i.childLanes)!==0),_){if(u)return M_(n,i,o);i.flags|=128}if(_=i.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Me(tr,tr.current),u)break;return null;case 22:case 23:return i.lanes=0,A_(n,i,o);case 24:Qs(i,qn,n.memoizedState.cache)}return Gl(n,i,o)}function D_(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps)os=!0;else{if(!Tm(n,o)&&(i.flags&128)===0)return os=!1,W1(n,i,o);os=(n.flags&131072)!==0}else os=!1,_t&&(i.flags&1048576)!==0&&we(i,c,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var u=i.elementType,_=u._init;if(u=_(u._payload),i.type=u,typeof u=="function")Ws(u)?(n=xl(u,n),i.tag=1,i=C_(null,i,u,n,o)):(i.tag=0,i=pm(null,i,u,n,o));else{if(u!=null){if(_=u.$$typeof,_===ke){i.tag=11,i=T_(null,i,u,n,o);break e}else if(_===ce){i.tag=14,i=E_(null,i,u,n,o);break e}}throw i=rt(u)||u,Error(s(306,i,""))}}return i;case 0:return pm(n,i,i.type,i.pendingProps,o);case 1:return u=i.type,_=xl(u,i.pendingProps),C_(n,i,u,_,o);case 3:e:{if(Bt(i,i.stateNode.containerInfo),n===null)throw Error(s(387));u=i.pendingProps;var x=i.memoizedState;_=x.element,be(n,i),ft(i,u,null,o);var D=i.memoizedState;if(u=D.cache,Qs(i,qn,u),u!==x.cache&&Jn(i,[qn],o,!0),st(),u=D.element,x.isDehydrated)if(x={element:u,isDehydrated:!1,cache:D.cache},i.updateQueue.baseState=x,i.memoizedState=x,i.flags&256){i=I_(n,i,u,o);break e}else if(u!==_){_=on(Error(s(424)),i),Gr(_),i=I_(n,i,u,o);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(qe=il(n.firstChild),$e=i,_t=!0,fn=null,vn=!0,o=Zr(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(rs(),u===_){i=Gl(n,i,o);break e}Cs(n,i,u,o)}i=i.child}return i;case 26:return Sf(n,i),n===null?(o=U0(i.type,null,i.pendingProps,null))?i.memoizedState=o:_t||(o=i.type,n=i.pendingProps,u=jf(Ge.current).createElement(o),u[jn]=i,u[Gt]=n,ks(u,o,n),Bn(u),i.stateNode=u):i.memoizedState=U0(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return pr(i),n===null&&_t&&(u=i.stateNode=O0(i.type,i.pendingProps,Ge.current),$e=i,vn=!0,_=qe,Ec(i.type)?(ip=_,qe=il(u.firstChild)):qe=_),Cs(n,i,i.pendingProps.children,o),Sf(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&_t&&((_=u=qe)&&(u=xT(u,i.type,i.pendingProps,vn),u!==null?(i.stateNode=u,$e=i,qe=il(u.firstChild),vn=!1,_=!0):_=!1),_||dr(i)),pr(i),_=i.type,x=i.pendingProps,D=n!==null?n.memoizedProps:null,u=x.children,$m(_,x)?u=null:D!==null&&$m(_,D)&&(i.flags|=32),i.memoizedState!==null&&(_=Xu(n,i,$h,null,null,o),kd._currentValue=_),Sf(n,i),Cs(n,i,u,o),i.child;case 6:return n===null&&_t&&((n=o=qe)&&(o=wT(o,i.pendingProps,vn),o!==null?(i.stateNode=o,$e=i,qe=null,n=!0):n=!1),n||dr(i)),null;case 13:return k_(n,i,o);case 4:return Bt(i,i.stateNode.containerInfo),u=i.pendingProps,n===null?i.child=Ma(i,null,u,o):Cs(n,i,u,o),i.child;case 11:return T_(n,i,i.type,i.pendingProps,o);case 7:return Cs(n,i,i.pendingProps,o),i.child;case 8:return Cs(n,i,i.pendingProps.children,o),i.child;case 12:return Cs(n,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,Qs(i,i.type,u.value),Cs(n,i,u.children,o),i.child;case 9:return _=i.type._context,u=i.pendingProps.children,ss(i),_=Oi(_),u=u(_),i.flags|=1,Cs(n,i,u,o),i.child;case 14:return E_(n,i,i.type,i.pendingProps,o);case 15:return S_(n,i,i.type,i.pendingProps,o);case 19:return M_(n,i,o);case 31:return u=i.pendingProps,o=i.mode,u={mode:u.mode,children:u.children},n===null?(o=Af(u,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=Hr(n.child,u),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return A_(n,i,o);case 24:return ss(i),u=Oi(qn),n===null?(_=Wo(),_===null&&(_=bi,x=No(),_.pooledCache=x,x.refCount++,x!==null&&(_.pooledCacheLanes|=o),_=x),i.memoizedState={parent:u,cache:_},se(i),Qs(i,qn,_)):((n.lanes&o)!==0&&(be(n,i),ft(i,null,null,o),st()),_=n.memoizedState,x=i.memoizedState,_.parent!==u?(_={parent:u,cache:u},i.memoizedState=_,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=_),Qs(i,qn,u)):(u=x.cache,Qs(i,qn,u),u!==_.cache&&Jn(i,[qn],o,!0))),Cs(n,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Zl(n){n.flags|=4}function O_(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!H0(i)){if(i=Un.current,i!==null&&((bn&4194048)===bn?io!==null:(bn&62914560)!==bn&&(bn&536870912)===0||i!==io))throw T=to,eo;n.flags|=8192}}function Nf(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?ir():536870912,n.lanes|=i,fh|=i)}function pd(n,i){if(!_t)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Bi(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(i)for(var _=n.child;_!==null;)o|=_.lanes|_.childLanes,u|=_.subtreeFlags&65011712,u|=_.flags&65011712,_.return=n,_=_.sibling;else for(_=n.child;_!==null;)o|=_.lanes|_.childLanes,u|=_.subtreeFlags,u|=_.flags,_.return=n,_=_.sibling;return n.subtreeFlags|=u,n.childLanes=o,i}function X1(n,i,o){var u=i.pendingProps;switch(Xe(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bi(i),null;case 1:return Bi(i),null;case 3:return o=i.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Nr(qn),ds(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(_a(i)?Zl(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ss())),Bi(i),null;case 26:return o=i.memoizedState,n===null?(Zl(i),o!==null?(Bi(i),O_(i,o)):(Bi(i),i.flags&=-16777217)):o?o!==n.memoizedState?(Zl(i),Bi(i),O_(i,o)):(Bi(i),i.flags&=-16777217):(n.memoizedProps!==u&&Zl(i),Bi(i),i.flags&=-16777217),null;case 27:Mn(i),o=Ge.current;var _=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==u&&Zl(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return Bi(i),null}n=Be.current,_a(i)?is(i):(n=O0(_,u,o),i.stateNode=n,Zl(i))}return Bi(i),null;case 5:if(Mn(i),o=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&Zl(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return Bi(i),null}if(n=Be.current,_a(i))is(i);else{switch(_=jf(Ge.current),n){case 1:n=_.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=_.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=_.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=_.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?_.createElement(o,{is:u.is}):_.createElement(o)}}n[jn]=i,n[Gt]=u;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)n.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=n;e:switch(ks(n,o,u),o){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Zl(i)}}return Bi(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==u&&Zl(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(n=Ge.current,_a(i)){if(n=i.stateNode,o=i.memoizedProps,u=null,_=$e,_!==null)switch(_.tag){case 27:case 5:u=_.memoizedProps}n[jn]=i,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||R0(n.nodeValue,o)),n||dr(i)}else n=jf(n).createTextNode(u),n[jn]=i,i.stateNode=n}return Bi(i),null;case 13:if(u=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(_=_a(i),u!==null&&u.dehydrated!==null){if(n===null){if(!_)throw Error(s(318));if(_=i.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(s(317));_[jn]=i}else rs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Bi(i),_=!1}else _=Ss(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=_),_=!0;if(!_)return i.flags&256?(ro(i),i):(ro(i),null)}if(ro(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=u!==null,n=n!==null&&n.memoizedState!==null,o){u=i.child,_=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(_=u.alternate.memoizedState.cachePool.pool);var x=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),x!==_&&(u.flags|=2048)}return o!==n&&o&&(i.child.flags|=8192),Nf(i,i.updateQueue),Bi(i),null;case 4:return ds(),n===null&&Xm(i.stateNode.containerInfo),Bi(i),null;case 10:return Nr(i.type),Bi(i),null;case 19:if(je(tr),_=i.memoizedState,_===null)return Bi(i),null;if(u=(i.flags&128)!==0,x=_.rendering,x===null)if(u)pd(_,!1);else{if(nr!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(x=ko(n),x!==null){for(i.flags|=128,pd(_,!1),n=x.updateQueue,i.updateQueue=n,Nf(i,n),i.subtreeFlags=0,n=o,o=i.child;o!==null;)So(o,n),o=o.sibling;return Me(tr,tr.current&1|2),i.child}n=n.sibling}_.tail!==null&&ui()>If&&(i.flags|=128,u=!0,pd(_,!1),i.lanes=4194304)}else{if(!u)if(n=ko(x),n!==null){if(i.flags|=128,u=!0,n=n.updateQueue,i.updateQueue=n,Nf(i,n),pd(_,!0),_.tail===null&&_.tailMode==="hidden"&&!x.alternate&&!_t)return Bi(i),null}else 2*ui()-_.renderingStartTime>If&&o!==536870912&&(i.flags|=128,u=!0,pd(_,!1),i.lanes=4194304);_.isBackwards?(x.sibling=i.child,i.child=x):(n=_.last,n!==null?n.sibling=x:i.child=x,_.last=x)}return _.tail!==null?(i=_.tail,_.rendering=i,_.tail=i.sibling,_.renderingStartTime=ui(),i.sibling=null,n=tr.current,Me(tr,u?n&1|2:n&1),i):(Bi(i),null);case 22:case 23:return ro(i),Rr(),u=i.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(Bi(i),i.subtreeFlags&6&&(i.flags|=8192)):Bi(i),o=i.updateQueue,o!==null&&Nf(i,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),n!==null&&je(Ns),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Nr(qn),Bi(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Q1(n,i){switch(Xe(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Nr(qn),ds(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Mn(i),null;case 13:if(ro(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));rs()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return je(tr),null;case 4:return ds(),null;case 10:return Nr(i.type),null;case 22:case 23:return ro(i),Rr(),n!==null&&je(Ns),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Nr(qn),null;case 25:return null;default:return null}}function L_(n,i){switch(Xe(i),i.tag){case 3:Nr(qn),ds();break;case 26:case 27:case 5:Mn(i);break;case 4:ds();break;case 13:ro(i);break;case 19:je(tr);break;case 10:Nr(i.type);break;case 22:case 23:ro(i),Rr(),n!==null&&je(Ns);break;case 24:Nr(qn)}}function yd(n,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var _=u.next;o=_;do{if((o.tag&n)===n){u=void 0;var x=o.create,D=o.inst;u=x(),D.destroy=u}o=o.next}while(o!==_)}}catch(B){ci(i,i.return,B)}}function pc(n,i,o){try{var u=i.updateQueue,_=u!==null?u.lastEffect:null;if(_!==null){var x=_.next;u=x;do{if((u.tag&n)===n){var D=u.inst,B=D.destroy;if(B!==void 0){D.destroy=void 0,_=i;var re=o,xe=B;try{xe()}catch(De){ci(_,re,De)}}}u=u.next}while(u!==x)}}catch(De){ci(i,i.return,De)}}function z_(n){var i=n.updateQueue;if(i!==null){var o=n.stateNode;try{kn(i,o)}catch(u){ci(n,n.return,u)}}}function U_(n,i,o){o.props=xl(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){ci(n,i,u)}}function _d(n,i){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(_){ci(n,i,_)}}function wl(n,i){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(_){ci(n,i,_)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(_){ci(n,i,_)}else o.current=null}function V_(n){var i=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(_){ci(n,n.return,_)}}function Em(n,i,o){try{var u=n.stateNode;pT(u,n.type,o,i),u[Gt]=i}catch(_){ci(n,n.return,_)}}function j_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ec(n.type)||n.tag===4}function Sm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||j_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ec(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Am(n,i,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(n),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Vf));else if(u!==4&&(u===27&&Ec(n.type)&&(o=n.stateNode,i=null),n=n.child,n!==null))for(Am(n,i,o),n=n.sibling;n!==null;)Am(n,i,o),n=n.sibling}function Rf(n,i,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(u!==4&&(u===27&&Ec(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Rf(n,i,o),n=n.sibling;n!==null;)Rf(n,i,o),n=n.sibling}function B_(n){var i=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,_=i.attributes;_.length;)i.removeAttributeNode(_[0]);ks(i,u,o),i[jn]=n,i[Gt]=o}catch(x){ci(n,n.return,x)}}var Yl=!1,gr=!1,Nm=!1,F_=typeof WeakSet=="function"?WeakSet:Set,ls=null;function K1(n,i){if(n=n.containerInfo,Jm=Yf,n=S(n),I(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var _=u.anchorOffset,x=u.focusNode;u=u.focusOffset;try{o.nodeType,x.nodeType}catch{o=null;break e}var D=0,B=-1,re=-1,xe=0,De=0,Ue=n,Te=null;t:for(;;){for(var Se;Ue!==o||_!==0&&Ue.nodeType!==3||(B=D+_),Ue!==x||u!==0&&Ue.nodeType!==3||(re=D+u),Ue.nodeType===3&&(D+=Ue.nodeValue.length),(Se=Ue.firstChild)!==null;)Te=Ue,Ue=Se;for(;;){if(Ue===n)break t;if(Te===o&&++xe===_&&(B=D),Te===x&&++De===u&&(re=D),(Se=Ue.nextSibling)!==null)break;Ue=Te,Te=Ue.parentNode}Ue=Se}o=B===-1||re===-1?null:{start:B,end:re}}else o=null}o=o||{start:0,end:0}}else o=null;for(qm={focusedElem:n,selectionRange:o},Yf=!1,ls=i;ls!==null;)if(i=ls,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,ls=n;else for(;ls!==null;){switch(i=ls,x=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&x!==null){n=void 0,o=i,_=x.memoizedProps,x=x.memoizedState,u=o.stateNode;try{var Rt=xl(o.type,_,o.elementType===o.type);n=u.getSnapshotBeforeUpdate(Rt,x),u.__reactInternalSnapshotBeforeUpdate=n}catch(Et){ci(o,o.return,Et)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,o=n.nodeType,o===9)tp(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":tp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,ls=n;break}ls=i.return}}function H_(n,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:yc(n,o),u&4&&yd(5,o);break;case 1:if(yc(n,o),u&4)if(n=o.stateNode,i===null)try{n.componentDidMount()}catch(D){ci(o,o.return,D)}else{var _=xl(o.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(_,i,n.__reactInternalSnapshotBeforeUpdate)}catch(D){ci(o,o.return,D)}}u&64&&z_(o),u&512&&_d(o,o.return);break;case 3:if(yc(n,o),u&64&&(n=o.updateQueue,n!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{kn(n,i)}catch(D){ci(o,o.return,D)}}break;case 27:i===null&&u&4&&B_(o);case 26:case 5:yc(n,o),i===null&&u&4&&V_(o),u&512&&_d(o,o.return);break;case 12:yc(n,o);break;case 13:yc(n,o),u&4&&Y_(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=sT.bind(null,o),TT(n,o))));break;case 22:if(u=o.memoizedState!==null||Yl,!u){i=i!==null&&i.memoizedState!==null||gr,_=Yl;var x=gr;Yl=u,(gr=i)&&!x?_c(n,o,(o.subtreeFlags&8772)!==0):yc(n,o),Yl=_,gr=x}break;case 30:break;default:yc(n,o)}}function G_(n){var i=n.alternate;i!==null&&(n.alternate=null,G_(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Lt(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Li=null,Oa=!1;function Wl(n,i,o){for(o=o.child;o!==null;)Z_(n,i,o),o=o.sibling}function Z_(n,i,o){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(It,o)}catch{}switch(o.tag){case 26:gr||wl(o,i),Wl(n,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:gr||wl(o,i);var u=Li,_=Oa;Ec(o.type)&&(Li=o.stateNode,Oa=!1),Wl(n,i,o),Nd(o.stateNode),Li=u,Oa=_;break;case 5:gr||wl(o,i);case 6:if(u=Li,_=Oa,Li=null,Wl(n,i,o),Li=u,Oa=_,Li!==null)if(Oa)try{(Li.nodeType===9?Li.body:Li.nodeName==="HTML"?Li.ownerDocument.body:Li).removeChild(o.stateNode)}catch(x){ci(o,i,x)}else try{Li.removeChild(o.stateNode)}catch(x){ci(o,i,x)}break;case 18:Li!==null&&(Oa?(n=Li,M0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Od(n)):M0(Li,o.stateNode));break;case 4:u=Li,_=Oa,Li=o.stateNode.containerInfo,Oa=!0,Wl(n,i,o),Li=u,Oa=_;break;case 0:case 11:case 14:case 15:gr||pc(2,o,i),gr||pc(4,o,i),Wl(n,i,o);break;case 1:gr||(wl(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&U_(o,i,u)),Wl(n,i,o);break;case 21:Wl(n,i,o);break;case 22:gr=(u=gr)||o.memoizedState!==null,Wl(n,i,o),gr=u;break;default:Wl(n,i,o)}}function Y_(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Od(n)}catch(o){ci(i,i.return,o)}}function J1(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new F_),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new F_),i;default:throw Error(s(435,n.tag))}}function Rm(n,i){var o=J1(n);i.forEach(function(u){var _=aT.bind(null,n,u);o.has(u)||(o.add(u),u.then(_,_))})}function so(n,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var _=o[u],x=n,D=i,B=D;e:for(;B!==null;){switch(B.tag){case 27:if(Ec(B.type)){Li=B.stateNode,Oa=!1;break e}break;case 5:Li=B.stateNode,Oa=!1;break e;case 3:case 4:Li=B.stateNode.containerInfo,Oa=!0;break e}B=B.return}if(Li===null)throw Error(s(160));Z_(x,D,_),Li=null,Oa=!1,x=_.alternate,x!==null&&(x.return=null),_.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)W_(i,n),i=i.sibling}var nl=null;function W_(n,i){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:so(i,n),ao(n),u&4&&(pc(3,n,n.return),yd(3,n),pc(5,n,n.return));break;case 1:so(i,n),ao(n),u&512&&(gr||o===null||wl(o,o.return)),u&64&&Yl&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var _=nl;if(so(i,n),ao(n),u&512&&(gr||o===null||wl(o,o.return)),u&4){var x=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,_=_.ownerDocument||_;t:switch(u){case"title":x=_.getElementsByTagName("title")[0],(!x||x[da]||x[jn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=_.createElement(u),_.head.insertBefore(x,_.querySelector("head > title"))),ks(x,u,o),x[jn]=n,Bn(x),u=x;break e;case"link":var D=B0("link","href",_).get(u+(o.href||""));if(D){for(var B=0;B<D.length;B++)if(x=D[B],x.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&x.getAttribute("rel")===(o.rel==null?null:o.rel)&&x.getAttribute("title")===(o.title==null?null:o.title)&&x.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){D.splice(B,1);break t}}x=_.createElement(u),ks(x,u,o),_.head.appendChild(x);break;case"meta":if(D=B0("meta","content",_).get(u+(o.content||""))){for(B=0;B<D.length;B++)if(x=D[B],x.getAttribute("content")===(o.content==null?null:""+o.content)&&x.getAttribute("name")===(o.name==null?null:o.name)&&x.getAttribute("property")===(o.property==null?null:o.property)&&x.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&x.getAttribute("charset")===(o.charSet==null?null:o.charSet)){D.splice(B,1);break t}}x=_.createElement(u),ks(x,u,o),_.head.appendChild(x);break;default:throw Error(s(468,u))}x[jn]=n,Bn(x),u=x}n.stateNode=u}else F0(_,n.type,n.stateNode);else n.stateNode=j0(_,u,n.memoizedProps);else x!==u?(x===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):x.count--,u===null?F0(_,n.type,n.stateNode):j0(_,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Em(n,n.memoizedProps,o.memoizedProps)}break;case 27:so(i,n),ao(n),u&512&&(gr||o===null||wl(o,o.return)),o!==null&&u&4&&Em(n,n.memoizedProps,o.memoizedProps);break;case 5:if(so(i,n),ao(n),u&512&&(gr||o===null||wl(o,o.return)),n.flags&32){_=n.stateNode;try{Wi(_,"")}catch(Se){ci(n,n.return,Se)}}u&4&&n.stateNode!=null&&(_=n.memoizedProps,Em(n,_,o!==null?o.memoizedProps:_)),u&1024&&(Nm=!0);break;case 6:if(so(i,n),ao(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(Se){ci(n,n.return,Se)}}break;case 3:if(Hf=null,_=nl,nl=Bf(i.containerInfo),so(i,n),nl=_,ao(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Od(i.containerInfo)}catch(Se){ci(n,n.return,Se)}Nm&&(Nm=!1,X_(n));break;case 4:u=nl,nl=Bf(n.stateNode.containerInfo),so(i,n),ao(n),nl=u;break;case 12:so(i,n),ao(n);break;case 13:so(i,n),ao(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Dm=ui()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Rm(n,u)));break;case 22:_=n.memoizedState!==null;var re=o!==null&&o.memoizedState!==null,xe=Yl,De=gr;if(Yl=xe||_,gr=De||re,so(i,n),gr=De,Yl=xe,ao(n),u&8192)e:for(i=n.stateNode,i._visibility=_?i._visibility&-2:i._visibility|1,_&&(o===null||re||Yl||gr||Tu(n)),o=null,i=n;;){if(i.tag===5||i.tag===26){if(o===null){re=o=i;try{if(x=re.stateNode,_)D=x.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{B=re.stateNode;var Ue=re.memoizedProps.style,Te=Ue!=null&&Ue.hasOwnProperty("display")?Ue.display:null;B.style.display=Te==null||typeof Te=="boolean"?"":(""+Te).trim()}}catch(Se){ci(re,re.return,Se)}}}else if(i.tag===6){if(o===null){re=i;try{re.stateNode.nodeValue=_?"":re.memoizedProps}catch(Se){ci(re,re.return,Se)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Rm(n,o))));break;case 19:so(i,n),ao(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Rm(n,u)));break;case 30:break;case 21:break;default:so(i,n),ao(n)}}function ao(n){var i=n.flags;if(i&2){try{for(var o,u=n.return;u!==null;){if(j_(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var _=o.stateNode,x=Sm(n);Rf(n,x,_);break;case 5:var D=o.stateNode;o.flags&32&&(Wi(D,""),o.flags&=-33);var B=Sm(n);Rf(n,B,D);break;case 3:case 4:var re=o.stateNode.containerInfo,xe=Sm(n);Am(n,xe,re);break;default:throw Error(s(161))}}catch(De){ci(n,n.return,De)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function X_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;X_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function yc(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)H_(n,i.alternate,i),i=i.sibling}function Tu(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:pc(4,i,i.return),Tu(i);break;case 1:wl(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&U_(i,i.return,o),Tu(i);break;case 27:Nd(i.stateNode);case 26:case 5:wl(i,i.return),Tu(i);break;case 22:i.memoizedState===null&&Tu(i);break;case 30:Tu(i);break;default:Tu(i)}n=n.sibling}}function _c(n,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,_=n,x=i,D=x.flags;switch(x.tag){case 0:case 11:case 15:_c(_,x,o),yd(4,x);break;case 1:if(_c(_,x,o),u=x,_=u.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(xe){ci(u,u.return,xe)}if(u=x,_=u.updateQueue,_!==null){var B=u.stateNode;try{var re=_.shared.hiddenCallbacks;if(re!==null)for(_.shared.hiddenCallbacks=null,_=0;_<re.length;_++)At(re[_],B)}catch(xe){ci(u,u.return,xe)}}o&&D&64&&z_(x),_d(x,x.return);break;case 27:B_(x);case 26:case 5:_c(_,x,o),o&&u===null&&D&4&&V_(x),_d(x,x.return);break;case 12:_c(_,x,o);break;case 13:_c(_,x,o),o&&D&4&&Y_(_,x);break;case 22:x.memoizedState===null&&_c(_,x,o),_d(x,x.return);break;case 30:break;default:_c(_,x,o)}i=i.sibling}}function Cm(n,i){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Qa(o))}function Im(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Qa(n))}function Tl(n,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Q_(n,i,o,u),i=i.sibling}function Q_(n,i,o,u){var _=i.flags;switch(i.tag){case 0:case 11:case 15:Tl(n,i,o,u),_&2048&&yd(9,i);break;case 1:Tl(n,i,o,u);break;case 3:Tl(n,i,o,u),_&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Qa(n)));break;case 12:if(_&2048){Tl(n,i,o,u),n=i.stateNode;try{var x=i.memoizedProps,D=x.id,B=x.onPostCommit;typeof B=="function"&&B(D,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(re){ci(i,i.return,re)}}else Tl(n,i,o,u);break;case 13:Tl(n,i,o,u);break;case 23:break;case 22:x=i.stateNode,D=i.alternate,i.memoizedState!==null?x._visibility&2?Tl(n,i,o,u):vd(n,i):x._visibility&2?Tl(n,i,o,u):(x._visibility|=2,uh(n,i,o,u,(i.subtreeFlags&10256)!==0)),_&2048&&Cm(D,i);break;case 24:Tl(n,i,o,u),_&2048&&Im(i.alternate,i);break;default:Tl(n,i,o,u)}}function uh(n,i,o,u,_){for(_=_&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var x=n,D=i,B=o,re=u,xe=D.flags;switch(D.tag){case 0:case 11:case 15:uh(x,D,B,re,_),yd(8,D);break;case 23:break;case 22:var De=D.stateNode;D.memoizedState!==null?De._visibility&2?uh(x,D,B,re,_):vd(x,D):(De._visibility|=2,uh(x,D,B,re,_)),_&&xe&2048&&Cm(D.alternate,D);break;case 24:uh(x,D,B,re,_),_&&xe&2048&&Im(D.alternate,D);break;default:uh(x,D,B,re,_)}i=i.sibling}}function vd(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=n,u=i,_=u.flags;switch(u.tag){case 22:vd(o,u),_&2048&&Cm(u.alternate,u);break;case 24:vd(o,u),_&2048&&Im(u.alternate,u);break;default:vd(o,u)}i=i.sibling}}var bd=8192;function hh(n){if(n.subtreeFlags&bd)for(n=n.child;n!==null;)K_(n),n=n.sibling}function K_(n){switch(n.tag){case 26:hh(n),n.flags&bd&&n.memoizedState!==null&&LT(nl,n.memoizedState,n.memoizedProps);break;case 5:hh(n);break;case 3:case 4:var i=nl;nl=Bf(n.stateNode.containerInfo),hh(n),nl=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=bd,bd=16777216,hh(n),bd=i):hh(n));break;default:hh(n)}}function J_(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function xd(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];ls=u,$_(u,n)}J_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)q_(n),n=n.sibling}function q_(n){switch(n.tag){case 0:case 11:case 15:xd(n),n.flags&2048&&pc(9,n,n.return);break;case 3:xd(n);break;case 12:xd(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Cf(n)):xd(n);break;default:xd(n)}}function Cf(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];ls=u,$_(u,n)}J_(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:pc(8,i,i.return),Cf(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Cf(i));break;default:Cf(i)}n=n.sibling}}function $_(n,i){for(;ls!==null;){var o=ls;switch(o.tag){case 0:case 11:case 15:pc(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Qa(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,ls=u;else e:for(o=n;ls!==null;){u=ls;var _=u.sibling,x=u.return;if(G_(u),u===o){ls=null;break e}if(_!==null){_.return=x,ls=_;break e}ls=x}}}var q1={getCacheForType:function(n){var i=Oi(qn),o=i.data.get(n);return o===void 0&&(o=n(),i.data.set(n,o)),o}},$1=typeof WeakMap=="function"?WeakMap:Map,Zn=0,bi=null,rn=null,bn=0,Yn=0,oo=null,vc=!1,dh=!1,km=!1,Xl=0,nr=0,bc=0,Eu=0,Pm=0,Po=0,fh=0,wd=null,La=null,Mm=!1,Dm=0,If=1/0,kf=null,xc=null,Is=0,wc=null,gh=null,mh=0,Om=0,Lm=null,e0=null,Td=0,zm=null;function lo(){if((Zn&2)!==0&&bn!==0)return bn&-bn;if($.T!==null){var n=Ka;return n!==0?n:Gm()}return Ei()}function t0(){Po===0&&(Po=(bn&536870912)===0||_t?Wr():536870912);var n=Un.current;return n!==null&&(n.flags|=32),Po}function co(n,i,o){(n===bi&&(Yn===2||Yn===9)||n.cancelPendingCommit!==null)&&(ph(n,0),Tc(n,bn,Po,!1)),Qr(n,o),((Zn&2)===0||n!==bi)&&(n===bi&&((Zn&2)===0&&(Eu|=o),nr===4&&Tc(n,bn,Po,!1)),El(n))}function n0(n,i,o){if((Zn&6)!==0)throw Error(s(327));var u=!o&&(i&124)===0&&(i&n.expiredLanes)===0||On(n,i),_=u?nT(n,i):jm(n,i,!0),x=u;do{if(_===0){dh&&!u&&Tc(n,i,0,!1);break}else{if(o=n.current.alternate,x&&!eT(o)){_=jm(n,i,!1),x=!1;continue}if(_===2){if(x=i,n.errorRecoveryDisabledLanes&x)var D=0;else D=n.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){i=D;e:{var B=n;_=wd;var re=B.current.memoizedState.isDehydrated;if(re&&(ph(B,D).flags|=256),D=jm(B,D,!1),D!==2){if(km&&!re){B.errorRecoveryDisabledLanes|=x,Eu|=x,_=4;break e}x=La,La=_,x!==null&&(La===null?La=x:La.push.apply(La,x))}_=D}if(x=!1,_!==2)continue}}if(_===1){ph(n,0),Tc(n,i,0,!0);break}e:{switch(u=n,x=_,x){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Tc(u,i,Po,!vc);break e;case 2:La=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(_=Dm+300-ui(),10<_)){if(Tc(u,i,Po,!vc),mn(u,0,!0)!==0)break e;u.timeoutHandle=k0(i0.bind(null,u,o,La,kf,Mm,i,Po,Eu,fh,vc,x,2,-0,0),_);break e}i0(u,o,La,kf,Mm,i,Po,Eu,fh,vc,x,0,-0,0)}}break}while(!0);El(n)}function i0(n,i,o,u,_,x,D,B,re,xe,De,Ue,Te,Se){if(n.timeoutHandle=-1,Ue=i.subtreeFlags,(Ue&8192||(Ue&16785408)===16785408)&&(Id={stylesheets:null,count:0,unsuspend:OT},K_(i),Ue=zT(),Ue!==null)){n.cancelPendingCommit=Ue(u0.bind(null,n,i,x,o,u,_,D,B,re,De,1,Te,Se)),Tc(n,x,D,!xe);return}u0(n,i,x,o,u,_,D,B,re)}function eT(n){for(var i=n;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var _=o[u],x=_.getSnapshot;_=_.value;try{if(!$i(x(),_))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Tc(n,i,o,u){i&=~Pm,i&=~Eu,n.suspendedLanes|=i,n.pingedLanes&=~i,u&&(n.warmLanes|=i),u=n.expirationTimes;for(var _=i;0<_;){var x=31-Wn(_),D=1<<x;u[x]=-1,_&=~D}o!==0&&gs(n,o,i)}function Pf(){return(Zn&6)===0?(Ed(0),!1):!0}function Um(){if(rn!==null){if(Yn===0)var n=rn.return;else n=rn,As=Di=null,ru(n),vl=null,$o=0,n=rn;for(;n!==null;)L_(n.alternate,n),n=n.return;rn=null}}function ph(n,i){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,_T(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Um(),bi=n,rn=o=Hr(n.current,null),bn=i,Yn=0,oo=null,vc=!1,dh=On(n,i),km=!1,fh=Po=Pm=Eu=bc=nr=0,La=wd=null,Mm=!1,(i&8)!==0&&(i|=i&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=i;0<u;){var _=31-Wn(u),x=1<<_;i|=n[_],u&=~x}return Xl=i,er(),o}function r0(n,i){Tt=null,$.H=_u,i===$s||i===Pa?(i=P(),Yn=3):i===eo?(i=P(),Yn=4):Yn=i===w_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,oo=i,rn===null&&(nr=1,tl(n,on(i,n.current)))}function s0(){var n=$.H;return $.H=_u,n===null?_u:n}function a0(){var n=$.A;return $.A=q1,n}function Vm(){nr=4,vc||(bn&4194048)!==bn&&Un.current!==null||(dh=!0),(bc&134217727)===0&&(Eu&134217727)===0||bi===null||Tc(bi,bn,Po,!1)}function jm(n,i,o){var u=Zn;Zn|=2;var _=s0(),x=a0();(bi!==n||bn!==i)&&(kf=null,ph(n,i)),i=!1;var D=nr;e:do try{if(Yn!==0&&rn!==null){var B=rn,re=oo;switch(Yn){case 8:Um(),D=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(i=!0);var xe=Yn;if(Yn=0,oo=null,yh(n,B,re,xe),o&&dh){D=0;break e}break;default:xe=Yn,Yn=0,oo=null,yh(n,B,re,xe)}}tT(),D=nr;break}catch(De){r0(n,De)}while(!0);return i&&n.shellSuspendCounter++,As=Di=null,Zn=u,$.H=_,$.A=x,rn===null&&(bi=null,bn=0,er()),D}function tT(){for(;rn!==null;)o0(rn)}function nT(n,i){var o=Zn;Zn|=2;var u=s0(),_=a0();bi!==n||bn!==i?(kf=null,If=ui()+500,ph(n,i)):dh=On(n,i);e:do try{if(Yn!==0&&rn!==null){i=rn;var x=oo;t:switch(Yn){case 1:Yn=0,oo=null,yh(n,i,x,1);break;case 2:case 9:if(fl(x)){Yn=0,oo=null,l0(i);break}i=function(){Yn!==2&&Yn!==9||bi!==n||(Yn=7),El(n)},x.then(i,i);break e;case 3:Yn=7;break e;case 4:Yn=5;break e;case 7:fl(x)?(Yn=0,oo=null,l0(i)):(Yn=0,oo=null,yh(n,i,x,7));break;case 5:var D=null;switch(rn.tag){case 26:D=rn.memoizedState;case 5:case 27:var B=rn;if(!D||H0(D)){Yn=0,oo=null;var re=B.sibling;if(re!==null)rn=re;else{var xe=B.return;xe!==null?(rn=xe,Mf(xe)):rn=null}break t}}Yn=0,oo=null,yh(n,i,x,5);break;case 6:Yn=0,oo=null,yh(n,i,x,6);break;case 8:Um(),nr=6;break e;default:throw Error(s(462))}}iT();break}catch(De){r0(n,De)}while(!0);return As=Di=null,$.H=u,$.A=_,Zn=o,rn!==null?0:(bi=null,bn=0,er(),nr)}function iT(){for(;rn!==null&&!wa();)o0(rn)}function o0(n){var i=D_(n.alternate,n,Xl);n.memoizedProps=n.pendingProps,i===null?Mf(n):rn=i}function l0(n){var i=n,o=i.alternate;switch(i.tag){case 15:case 0:i=R_(o,i,i.pendingProps,i.type,void 0,bn);break;case 11:i=R_(o,i,i.pendingProps,i.type.render,i.ref,bn);break;case 5:ru(i);default:L_(o,i),i=rn=So(i,Xl),i=D_(o,i,Xl)}n.memoizedProps=n.pendingProps,i===null?Mf(n):rn=i}function yh(n,i,o,u){As=Di=null,ru(i),vl=null,$o=0;var _=i.return;try{if(Y1(n,_,i,o,bn)){nr=1,tl(n,on(o,n.current)),rn=null;return}}catch(x){if(_!==null)throw rn=_,x;nr=1,tl(n,on(o,n.current)),rn=null;return}i.flags&32768?(_t||u===1?n=!0:dh||(bn&536870912)!==0?n=!1:(vc=n=!0,(u===2||u===9||u===3||u===6)&&(u=Un.current,u!==null&&u.tag===13&&(u.flags|=16384))),c0(i,n)):Mf(i)}function Mf(n){var i=n;do{if((i.flags&32768)!==0){c0(i,vc);return}n=i.return;var o=X1(i.alternate,i,Xl);if(o!==null){rn=o;return}if(i=i.sibling,i!==null){rn=i;return}rn=i=n}while(i!==null);nr===0&&(nr=5)}function c0(n,i){do{var o=Q1(n.alternate,n);if(o!==null){o.flags&=32767,rn=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(n=n.sibling,n!==null)){rn=n;return}rn=n=o}while(n!==null);nr=6,rn=null}function u0(n,i,o,u,_,x,D,B,re){n.cancelPendingCommit=null;do Df();while(Is!==0);if((Zn&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(x=i.lanes|i.childLanes,x|=Ii,go(n,o,x,D,B,re),n===bi&&(rn=bi=null,bn=0),gh=i,wc=n,mh=o,Om=x,Lm=_,e0=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,oT(ni,function(){return m0(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,_=le.p,le.p=2,D=Zn,Zn|=4;try{K1(n,i,o)}finally{Zn=D,le.p=_,$.T=u}}Is=1,h0(),d0(),f0()}}function h0(){if(Is===1){Is=0;var n=wc,i=gh,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=$.T,$.T=null;var u=le.p;le.p=2;var _=Zn;Zn|=4;try{W_(i,n);var x=qm,D=S(n.containerInfo),B=x.focusedElem,re=x.selectionRange;if(D!==B&&B&&B.ownerDocument&&b(B.ownerDocument.documentElement,B)){if(re!==null&&I(B)){var xe=re.start,De=re.end;if(De===void 0&&(De=xe),"selectionStart"in B)B.selectionStart=xe,B.selectionEnd=Math.min(De,B.value.length);else{var Ue=B.ownerDocument||document,Te=Ue&&Ue.defaultView||window;if(Te.getSelection){var Se=Te.getSelection(),Rt=B.textContent.length,Et=Math.min(re.start,Rt),ti=re.end===void 0?Et:Math.min(re.end,Rt);!Se.extend&&Et>ti&&(D=ti,ti=Et,Et=D);var ge=m(B,Et),de=m(B,ti);if(ge&&de&&(Se.rangeCount!==1||Se.anchorNode!==ge.node||Se.anchorOffset!==ge.offset||Se.focusNode!==de.node||Se.focusOffset!==de.offset)){var ve=Ue.createRange();ve.setStart(ge.node,ge.offset),Se.removeAllRanges(),Et>ti?(Se.addRange(ve),Se.extend(de.node,de.offset)):(ve.setEnd(de.node,de.offset),Se.addRange(ve))}}}}for(Ue=[],Se=B;Se=Se.parentNode;)Se.nodeType===1&&Ue.push({element:Se,left:Se.scrollLeft,top:Se.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<Ue.length;B++){var Oe=Ue[B];Oe.element.scrollLeft=Oe.left,Oe.element.scrollTop=Oe.top}}Yf=!!Jm,qm=Jm=null}finally{Zn=_,le.p=u,$.T=o}}n.current=i,Is=2}}function d0(){if(Is===2){Is=0;var n=wc,i=gh,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=$.T,$.T=null;var u=le.p;le.p=2;var _=Zn;Zn|=4;try{H_(n,i.alternate,i)}finally{Zn=_,le.p=u,$.T=o}}Is=3}}function f0(){if(Is===4||Is===3){Is=0,Dn();var n=wc,i=gh,o=mh,u=e0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Is=5:(Is=0,gh=wc=null,g0(n,n.pendingLanes));var _=n.pendingLanes;if(_===0&&(xc=null),di(o),i=i.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(It,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=$.T,_=le.p,le.p=2,$.T=null;try{for(var x=n.onRecoverableError,D=0;D<u.length;D++){var B=u[D];x(B.value,{componentStack:B.stack})}}finally{$.T=i,le.p=_}}(mh&3)!==0&&Df(),El(n),_=n.pendingLanes,(o&4194090)!==0&&(_&42)!==0?n===zm?Td++:(Td=0,zm=n):Td=0,Ed(0)}}function g0(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Qa(i)))}function Df(n){return h0(),d0(),f0(),m0()}function m0(){if(Is!==5)return!1;var n=wc,i=Om;Om=0;var o=di(mh),u=$.T,_=le.p;try{le.p=32>o?32:o,$.T=null,o=Lm,Lm=null;var x=wc,D=mh;if(Is=0,gh=wc=null,mh=0,(Zn&6)!==0)throw Error(s(331));var B=Zn;if(Zn|=4,q_(x.current),Q_(x,x.current,D,o),Zn=B,Ed(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(It,x)}catch{}return!0}finally{le.p=_,$.T=u,g0(n,i)}}function p0(n,i,o){i=on(o,i),i=ch(n.stateNode,i,2),n=pe(n,i,2),n!==null&&(Qr(n,2),El(n))}function ci(n,i,o){if(n.tag===3)p0(n,n,o);else for(;i!==null;){if(i.tag===3){p0(i,n,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(xc===null||!xc.has(u))){n=on(o,n),o=b_(2),u=pe(i,o,2),u!==null&&(x_(o,u,i,n),Qr(u,2),El(u));break}}i=i.return}}function Bm(n,i,o){var u=n.pingCache;if(u===null){u=n.pingCache=new $1;var _=new Set;u.set(i,_)}else _=u.get(i),_===void 0&&(_=new Set,u.set(i,_));_.has(o)||(km=!0,_.add(o),n=rT.bind(null,n,i,o),i.then(n,n))}function rT(n,i,o){var u=n.pingCache;u!==null&&u.delete(i),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,bi===n&&(bn&o)===o&&(nr===4||nr===3&&(bn&62914560)===bn&&300>ui()-Dm?(Zn&2)===0&&ph(n,0):Pm|=o,fh===bn&&(fh=0)),El(n)}function y0(n,i){i===0&&(i=ir()),n=oi(n,i),n!==null&&(Qr(n,i),El(n))}function sT(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),y0(n,o)}function aT(n,i){var o=0;switch(n.tag){case 13:var u=n.stateNode,_=n.memoizedState;_!==null&&(o=_.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),y0(n,o)}function oT(n,i){return Os(n,i)}var Of=null,_h=null,Fm=!1,Lf=!1,Hm=!1,Su=0;function El(n){n!==_h&&n.next===null&&(_h===null?Of=_h=n:_h=_h.next=n),Lf=!0,Fm||(Fm=!0,cT())}function Ed(n,i){if(!Hm&&Lf){Hm=!0;do for(var o=!1,u=Of;u!==null;){if(n!==0){var _=u.pendingLanes;if(_===0)var x=0;else{var D=u.suspendedLanes,B=u.pingedLanes;x=(1<<31-Wn(42|n)+1)-1,x&=_&~(D&~B),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(o=!0,x0(u,x))}else x=bn,x=mn(u,u===bi?x:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(x&3)===0||On(u,x)||(o=!0,x0(u,x));u=u.next}while(o);Hm=!1}}function lT(){_0()}function _0(){Lf=Fm=!1;var n=0;Su!==0&&(yT()&&(n=Su),Su=0);for(var i=ui(),o=null,u=Of;u!==null;){var _=u.next,x=v0(u,i);x===0?(u.next=null,o===null?Of=_:o.next=_,_===null&&(_h=o)):(o=u,(n!==0||(x&3)!==0)&&(Lf=!0)),u=_}Ed(n)}function v0(n,i){for(var o=n.suspendedLanes,u=n.pingedLanes,_=n.expirationTimes,x=n.pendingLanes&-62914561;0<x;){var D=31-Wn(x),B=1<<D,re=_[D];re===-1?((B&o)===0||(B&u)!==0)&&(_[D]=ja(B,i)):re<=i&&(n.expiredLanes|=B),x&=~B}if(i=bi,o=bn,o=mn(n,n===i?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===i&&(Yn===2||Yn===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&xa(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||On(n,o)){if(i=o&-o,i===n.callbackPriority)return i;switch(u!==null&&xa(u),di(o)){case 2:case 8:o=Hi;break;case 32:o=ni;break;case 268435456:o=hi;break;default:o=ni}return u=b0.bind(null,n),o=Os(o,u),n.callbackPriority=i,n.callbackNode=o,i}return u!==null&&u!==null&&xa(u),n.callbackPriority=2,n.callbackNode=null,2}function b0(n,i){if(Is!==0&&Is!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Df()&&n.callbackNode!==o)return null;var u=bn;return u=mn(n,n===bi?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(n0(n,u,i),v0(n,ui()),n.callbackNode!=null&&n.callbackNode===o?b0.bind(null,n):null)}function x0(n,i){if(Df())return null;n0(n,i,!0)}function cT(){vT(function(){(Zn&6)!==0?Os(fo,lT):_0()})}function Gm(){return Su===0&&(Su=Wr()),Su}function w0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:bs(""+n)}function T0(n,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,n.id&&o.setAttribute("form",n.id),i.parentNode.insertBefore(o,i),n=new FormData(n),o.parentNode.removeChild(o),n}function uT(n,i,o,u,_){if(i==="submit"&&o&&o.stateNode===_){var x=w0((_[Gt]||null).action),D=u.submitter;D&&(i=(i=D[Gt]||null)?w0(i.formAction):D.getAttribute("formAction"),i!==null&&(x=i,D=null));var B=new $r("action","action",null,u,_);n.push({event:B,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Su!==0){var re=D?T0(_,D):new FormData(_);nh(o,{pending:!0,data:re,method:_.method,action:x},null,re)}}else typeof x=="function"&&(B.preventDefault(),re=D?T0(_,D):new FormData(_),nh(o,{pending:!0,data:re,method:_.method,action:x},x,re))},currentTarget:_}]})}}for(var Zm=0;Zm<zn.length;Zm++){var Ym=zn[Zm],hT=Ym.toLowerCase(),dT=Ym[0].toUpperCase()+Ym.slice(1);Nn(hT,"on"+dT)}Nn(wt,"onAnimationEnd"),Nn(Ut,"onAnimationIteration"),Nn(nn,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(_n,"onTransitionRun"),Nn(En,"onTransitionStart"),Nn(ut,"onTransitionCancel"),Nn(Fn,"onTransitionEnd"),zs("onMouseEnter",["mouseout","mouseover"]),zs("onMouseLeave",["mouseout","mouseover"]),zs("onPointerEnter",["pointerout","pointerover"]),zs("onPointerLeave",["pointerout","pointerover"]),ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ms("onBeforeInput",["compositionend","keypress","textInput","paste"]),ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sd));function E0(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],_=u.event;u=u.listeners;e:{var x=void 0;if(i)for(var D=u.length-1;0<=D;D--){var B=u[D],re=B.instance,xe=B.currentTarget;if(B=B.listener,re!==x&&_.isPropagationStopped())break e;x=B,_.currentTarget=xe;try{x(_)}catch(De){mc(De)}_.currentTarget=null,x=re}else for(D=0;D<u.length;D++){if(B=u[D],re=B.instance,xe=B.currentTarget,B=B.listener,re!==x&&_.isPropagationStopped())break e;x=B,_.currentTarget=xe;try{x(_)}catch(De){mc(De)}_.currentTarget=null,x=re}}}}function sn(n,i){var o=i[Zi];o===void 0&&(o=i[Zi]=new Set);var u=n+"__bubble";o.has(u)||(S0(i,n,2,!1),o.add(u))}function Wm(n,i,o){var u=0;i&&(u|=4),S0(o,n,u,i)}var zf="_reactListening"+Math.random().toString(36).slice(2);function Xm(n){if(!n[zf]){n[zf]=!0,Vo.forEach(function(o){o!=="selectionchange"&&(fT.has(o)||Wm(o,!1,n),Wm(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[zf]||(i[zf]=!0,Wm("selectionchange",!1,i))}}function S0(n,i,o,u){switch(Q0(i)){case 2:var _=jT;break;case 8:_=BT;break;default:_=lp}o=_.bind(null,i,o,n),_=void 0,!Vi||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(_=!0),u?_!==void 0?n.addEventListener(i,o,{capture:!0,passive:_}):n.addEventListener(i,o,!0):_!==void 0?n.addEventListener(i,o,{passive:_}):n.addEventListener(i,o,!1)}function Qm(n,i,o,u,_){var x=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var D=u.tag;if(D===3||D===4){var B=u.stateNode.containerInfo;if(B===_)break;if(D===4)for(D=u.return;D!==null;){var re=D.tag;if((re===3||re===4)&&D.stateNode.containerInfo===_)return;D=D.return}for(;B!==null;){if(D=Sn(B),D===null)return;if(re=D.tag,re===5||re===6||re===26||re===27){u=x=D;continue e}B=B.parentNode}}u=u.return}Xi(function(){var xe=x,De=ur(o),Ue=[];e:{var Te=Vt.get(n);if(Te!==void 0){var Se=$r,Rt=n;switch(n){case"keypress":if(Qt(o)===0)break e;case"keydown":case"keyup":Se=bo;break;case"focusin":Rt="focus",Se=js;break;case"focusout":Rt="blur",Se=js;break;case"beforeblur":case"afterblur":Se=js;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=Ji;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=ll;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=Ra;break;case wt:case Ut:case nn:Se=ma;break;case Fn:Se=Gs;break;case"scroll":case"scrollend":Se=Bo;break;case"wheel":Se=mi;break;case"copy":case"cut":case"paste":Se=Bs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=Hs;break;case"toggle":case"beforetoggle":Se=Tr}var Et=(i&4)!==0,ti=!Et&&(n==="scroll"||n==="scrollend"),ge=Et?Te!==null?Te+"Capture":null:Te;Et=[];for(var de=xe,ve;de!==null;){var Oe=de;if(ve=Oe.stateNode,Oe=Oe.tag,Oe!==5&&Oe!==26&&Oe!==27||ve===null||ge===null||(Oe=ot(de,ge),Oe!=null&&Et.push(Ad(de,Oe,ve))),ti)break;de=de.return}0<Et.length&&(Te=new Se(Te,Rt,null,o,De),Ue.push({event:Te,listeners:Et}))}}if((i&7)===0){e:{if(Te=n==="mouseover"||n==="pointerover",Se=n==="mouseout"||n==="pointerout",Te&&o!==xs&&(Rt=o.relatedTarget||o.fromElement)&&(Sn(Rt)||Rt[Or]))break e;if((Se||Te)&&(Te=De.window===De?De:(Te=De.ownerDocument)?Te.defaultView||Te.parentWindow:window,Se?(Rt=o.relatedTarget||o.toElement,Se=xe,Rt=Rt?Sn(Rt):null,Rt!==null&&(ti=d(Rt),Et=Rt.tag,Rt!==ti||Et!==5&&Et!==27&&Et!==6)&&(Rt=null)):(Se=null,Rt=xe),Se!==Rt)){if(Et=Ji,Oe="onMouseLeave",ge="onMouseEnter",de="mouse",(n==="pointerout"||n==="pointerover")&&(Et=Hs,Oe="onPointerLeave",ge="onPointerEnter",de="pointer"),ti=Se==null?Te:wn(Se),ve=Rt==null?Te:wn(Rt),Te=new Et(Oe,de+"leave",Se,o,De),Te.target=ti,Te.relatedTarget=ve,Oe=null,Sn(De)===xe&&(Et=new Et(ge,de+"enter",Rt,o,De),Et.target=ve,Et.relatedTarget=ti,Oe=Et),ti=Oe,Se&&Rt)t:{for(Et=Se,ge=Rt,de=0,ve=Et;ve;ve=vh(ve))de++;for(ve=0,Oe=ge;Oe;Oe=vh(Oe))ve++;for(;0<de-ve;)Et=vh(Et),de--;for(;0<ve-de;)ge=vh(ge),ve--;for(;de--;){if(Et===ge||ge!==null&&Et===ge.alternate)break t;Et=vh(Et),ge=vh(ge)}Et=null}else Et=null;Se!==null&&A0(Ue,Te,Se,Et,!1),Rt!==null&&ti!==null&&A0(Ue,ti,Rt,Et,!0)}}e:{if(Te=xe?wn(xe):window,Se=Te.nodeName&&Te.nodeName.toLowerCase(),Se==="select"||Se==="input"&&Te.type==="file")var at=Za;else if(An(Te))if(Ho)at=Ya;else{at=Ul;var tn=To}else Se=Te.nodeName,!Se||Se.toLowerCase()!=="input"||Te.type!=="checkbox"&&Te.type!=="radio"?xe&&vs(xe.elementType)&&(at=Za):at=Br;if(at&&(at=at(n,xe))){ws(Ue,at,o,De);break e}tn&&tn(n,Te,xe),n==="focusout"&&xe&&Te.type==="number"&&xe.memoizedProps.value!=null&&or(Te,"number",Te.value)}switch(tn=xe?wn(xe):window,n){case"focusin":(An(tn)||tn.contentEditable==="true")&&(Z=tn,oe=xe,Ne=null);break;case"focusout":Ne=oe=Z=null;break;case"mousedown":ye=!0;break;case"contextmenu":case"mouseup":case"dragend":ye=!1,Ae(Ue,o,De);break;case"selectionchange":if(z)break;case"keydown":case"keyup":Ae(Ue,o,De)}var gt;if(qi)e:{switch(n){case"compositionstart":var St="onCompositionStart";break e;case"compositionend":St="onCompositionEnd";break e;case"compositionupdate":St="onCompositionUpdate";break e}St=void 0}else zt?Ee(n,o)&&(St="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(St="onCompositionStart");St&&(k&&o.locale!=="ko"&&(zt||St!=="onCompositionStart"?St==="onCompositionEnd"&&zt&&(gt=xr()):(Ki=De,Pi="value"in Ki?Ki.value:Ki.textContent,zt=!0)),tn=Uf(xe,St),0<tn.length&&(St=new Ci(St,n,null,o,De),Ue.push({event:St,listeners:tn}),gt?St.data=gt:(gt=Ze(o),gt!==null&&(St.data=gt)))),(gt=R?$t(n,o):Wt(n,o))&&(St=Uf(xe,"onBeforeInput"),0<St.length&&(tn=new Ci("onBeforeInput","beforeinput",null,o,De),Ue.push({event:tn,listeners:St}),tn.data=gt)),uT(Ue,n,xe,o,De)}E0(Ue,i)})}function Ad(n,i,o){return{instance:n,listener:i,currentTarget:o}}function Uf(n,i){for(var o=i+"Capture",u=[];n!==null;){var _=n,x=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||x===null||(_=ot(n,o),_!=null&&u.unshift(Ad(n,_,x)),_=ot(n,i),_!=null&&u.push(Ad(n,_,x))),n.tag===3)return u;n=n.return}return[]}function vh(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function A0(n,i,o,u,_){for(var x=i._reactName,D=[];o!==null&&o!==u;){var B=o,re=B.alternate,xe=B.stateNode;if(B=B.tag,re!==null&&re===u)break;B!==5&&B!==26&&B!==27||xe===null||(re=xe,_?(xe=ot(o,x),xe!=null&&D.unshift(Ad(o,xe,re))):_||(xe=ot(o,x),xe!=null&&D.push(Ad(o,xe,re)))),o=o.return}D.length!==0&&n.push({event:i,listeners:D})}var gT=/\r\n?/g,mT=/\u0000|\uFFFD/g;function N0(n){return(typeof n=="string"?n:""+n).replace(gT,`
`).replace(mT,"")}function R0(n,i){return i=N0(i),N0(n)===i}function Vf(){}function ei(n,i,o,u,_,x){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Wi(n,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Wi(n,""+u);break;case"className":sr(n,"class",u);break;case"tabIndex":sr(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":sr(n,o,u);break;case"style":cr(n,u,x);break;case"data":if(i!=="object"){sr(n,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=bs(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(o==="formAction"?(i!=="input"&&ei(n,i,"name",_.name,_,null),ei(n,i,"formEncType",_.formEncType,_,null),ei(n,i,"formMethod",_.formMethod,_,null),ei(n,i,"formTarget",_.formTarget,_,null)):(ei(n,i,"encType",_.encType,_,null),ei(n,i,"method",_.method,_,null),ei(n,i,"target",_.target,_,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=bs(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=Vf);break;case"onScroll":u!=null&&sn("scroll",n);break;case"onScrollEnd":u!=null&&sn("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(_.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=bs(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":sn("beforetoggle",n),sn("toggle",n),ps(n,"popover",u);break;case"xlinkActuate":ii(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ii(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ii(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ii(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ii(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ii(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ii(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ii(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ii(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ps(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=jo.get(o)||o,ps(n,o,u))}}function Km(n,i,o,u,_,x){switch(o){case"style":cr(n,u,x);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(_.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"children":typeof u=="string"?Wi(n,u):(typeof u=="number"||typeof u=="bigint")&&Wi(n,""+u);break;case"onScroll":u!=null&&sn("scroll",n);break;case"onScrollEnd":u!=null&&sn("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Vf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ba.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(_=o.endsWith("Capture"),i=o.slice(2,_?o.length-7:void 0),x=n[Gt]||null,x=x!=null?x[o]:null,typeof x=="function"&&n.removeEventListener(i,x,_),typeof u=="function")){typeof x!="function"&&x!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(i,u,_);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):ps(n,o,u)}}}function ks(n,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":sn("error",n),sn("load",n);var u=!1,_=!1,x;for(x in o)if(o.hasOwnProperty(x)){var D=o[x];if(D!=null)switch(x){case"src":u=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ei(n,i,x,D,o,null)}}_&&ei(n,i,"srcSet",o.srcSet,o,null),u&&ei(n,i,"src",o.src,o,null);return;case"input":sn("invalid",n);var B=x=D=_=null,re=null,xe=null;for(u in o)if(o.hasOwnProperty(u)){var De=o[u];if(De!=null)switch(u){case"name":_=De;break;case"type":D=De;break;case"checked":re=De;break;case"defaultChecked":xe=De;break;case"value":x=De;break;case"defaultValue":B=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(s(137,i));break;default:ei(n,i,u,De,o,null)}}vr(n,x,B,re,xe,D,_,!1),ar(n);return;case"select":sn("invalid",n),u=D=x=null;for(_ in o)if(o.hasOwnProperty(_)&&(B=o[_],B!=null))switch(_){case"value":x=B;break;case"defaultValue":D=B;break;case"multiple":u=B;default:ei(n,i,_,B,o,null)}i=x,o=D,n.multiple=!!u,i!=null?lr(n,!!u,i,!1):o!=null&&lr(n,!!u,o,!0);return;case"textarea":sn("invalid",n),x=_=u=null;for(D in o)if(o.hasOwnProperty(D)&&(B=o[D],B!=null))switch(D){case"value":u=B;break;case"defaultValue":_=B;break;case"children":x=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(91));break;default:ei(n,i,D,B,o,null)}Yi(n,u,_,x),ar(n);return;case"option":for(re in o)if(o.hasOwnProperty(re)&&(u=o[re],u!=null))switch(re){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ei(n,i,re,u,o,null)}return;case"dialog":sn("beforetoggle",n),sn("toggle",n),sn("cancel",n),sn("close",n);break;case"iframe":case"object":sn("load",n);break;case"video":case"audio":for(u=0;u<Sd.length;u++)sn(Sd[u],n);break;case"image":sn("error",n),sn("load",n);break;case"details":sn("toggle",n);break;case"embed":case"source":case"link":sn("error",n),sn("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(xe in o)if(o.hasOwnProperty(xe)&&(u=o[xe],u!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ei(n,i,xe,u,o,null)}return;default:if(vs(i)){for(De in o)o.hasOwnProperty(De)&&(u=o[De],u!==void 0&&Km(n,i,De,u,o,void 0));return}}for(B in o)o.hasOwnProperty(B)&&(u=o[B],u!=null&&ei(n,i,B,u,o,null))}function pT(n,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,x=null,D=null,B=null,re=null,xe=null,De=null;for(Se in o){var Ue=o[Se];if(o.hasOwnProperty(Se)&&Ue!=null)switch(Se){case"checked":break;case"value":break;case"defaultValue":re=Ue;default:u.hasOwnProperty(Se)||ei(n,i,Se,null,u,Ue)}}for(var Te in u){var Se=u[Te];if(Ue=o[Te],u.hasOwnProperty(Te)&&(Se!=null||Ue!=null))switch(Te){case"type":x=Se;break;case"name":_=Se;break;case"checked":xe=Se;break;case"defaultChecked":De=Se;break;case"value":D=Se;break;case"defaultValue":B=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(s(137,i));break;default:Se!==Ue&&ei(n,i,Te,Se,u,Ue)}}In(n,D,B,re,xe,De,x,_);return;case"select":Se=D=B=Te=null;for(x in o)if(re=o[x],o.hasOwnProperty(x)&&re!=null)switch(x){case"value":break;case"multiple":Se=re;default:u.hasOwnProperty(x)||ei(n,i,x,null,u,re)}for(_ in u)if(x=u[_],re=o[_],u.hasOwnProperty(_)&&(x!=null||re!=null))switch(_){case"value":Te=x;break;case"defaultValue":B=x;break;case"multiple":D=x;default:x!==re&&ei(n,i,_,x,u,re)}i=B,o=D,u=Se,Te!=null?lr(n,!!o,Te,!1):!!u!=!!o&&(i!=null?lr(n,!!o,i,!0):lr(n,!!o,o?[]:"",!1));return;case"textarea":Se=Te=null;for(B in o)if(_=o[B],o.hasOwnProperty(B)&&_!=null&&!u.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:ei(n,i,B,null,u,_)}for(D in u)if(_=u[D],x=o[D],u.hasOwnProperty(D)&&(_!=null||x!=null))switch(D){case"value":Te=_;break;case"defaultValue":Se=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(s(91));break;default:_!==x&&ei(n,i,D,_,u,x)}yt(n,Te,Se);return;case"option":for(var Rt in o)if(Te=o[Rt],o.hasOwnProperty(Rt)&&Te!=null&&!u.hasOwnProperty(Rt))switch(Rt){case"selected":n.selected=!1;break;default:ei(n,i,Rt,null,u,Te)}for(re in u)if(Te=u[re],Se=o[re],u.hasOwnProperty(re)&&Te!==Se&&(Te!=null||Se!=null))switch(re){case"selected":n.selected=Te&&typeof Te!="function"&&typeof Te!="symbol";break;default:ei(n,i,re,Te,u,Se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in o)Te=o[Et],o.hasOwnProperty(Et)&&Te!=null&&!u.hasOwnProperty(Et)&&ei(n,i,Et,null,u,Te);for(xe in u)if(Te=u[xe],Se=o[xe],u.hasOwnProperty(xe)&&Te!==Se&&(Te!=null||Se!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(s(137,i));break;default:ei(n,i,xe,Te,u,Se)}return;default:if(vs(i)){for(var ti in o)Te=o[ti],o.hasOwnProperty(ti)&&Te!==void 0&&!u.hasOwnProperty(ti)&&Km(n,i,ti,void 0,u,Te);for(De in u)Te=u[De],Se=o[De],!u.hasOwnProperty(De)||Te===Se||Te===void 0&&Se===void 0||Km(n,i,De,Te,u,Se);return}}for(var ge in o)Te=o[ge],o.hasOwnProperty(ge)&&Te!=null&&!u.hasOwnProperty(ge)&&ei(n,i,ge,null,u,Te);for(Ue in u)Te=u[Ue],Se=o[Ue],!u.hasOwnProperty(Ue)||Te===Se||Te==null&&Se==null||ei(n,i,Ue,Te,u,Se)}var Jm=null,qm=null;function jf(n){return n.nodeType===9?n:n.ownerDocument}function C0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function I0(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function $m(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ep=null;function yT(){var n=window.event;return n&&n.type==="popstate"?n===ep?!1:(ep=n,!0):(ep=null,!1)}var k0=typeof setTimeout=="function"?setTimeout:void 0,_T=typeof clearTimeout=="function"?clearTimeout:void 0,P0=typeof Promise=="function"?Promise:void 0,vT=typeof queueMicrotask=="function"?queueMicrotask:typeof P0<"u"?function(n){return P0.resolve(null).then(n).catch(bT)}:k0;function bT(n){setTimeout(function(){throw n})}function Ec(n){return n==="head"}function M0(n,i){var o=i,u=0,_=0;do{var x=o.nextSibling;if(n.removeChild(o),x&&x.nodeType===8)if(o=x.data,o==="/$"){if(0<u&&8>u){o=u;var D=n.ownerDocument;if(o&1&&Nd(D.documentElement),o&2&&Nd(D.body),o&4)for(o=D.head,Nd(o),D=o.firstChild;D;){var B=D.nextSibling,re=D.nodeName;D[da]||re==="SCRIPT"||re==="STYLE"||re==="LINK"&&D.rel.toLowerCase()==="stylesheet"||o.removeChild(D),D=B}}if(_===0){n.removeChild(x),Od(i);return}_--}else o==="$"||o==="$?"||o==="$!"?_++:u=o.charCodeAt(0)-48;else u=0;o=x}while(o);Od(i)}function tp(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":tp(o),Lt(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function xT(n,i,o,u){for(;n.nodeType===1;){var _=o;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[da])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(x=n.getAttribute("rel"),x==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(x!==_.rel||n.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||n.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||n.getAttribute("title")!==(_.title==null?null:_.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(x=n.getAttribute("src"),(x!==(_.src==null?null:_.src)||n.getAttribute("type")!==(_.type==null?null:_.type)||n.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&x&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var x=_.name==null?null:""+_.name;if(_.type==="hidden"&&n.getAttribute("name")===x)return n}else return n;if(n=il(n.nextSibling),n===null)break}return null}function wT(n,i,o){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=il(n.nextSibling),n===null))return null;return n}function np(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function TT(n,i){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function il(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var ip=null;function D0(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return n;i--}else o==="/$"&&i++}n=n.previousSibling}return null}function O0(n,i,o){switch(i=jf(o),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Nd(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Lt(n)}var Mo=new Map,L0=new Set;function Bf(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ql=le.d;le.d={f:ET,r:ST,D:AT,C:NT,L:RT,m:CT,X:kT,S:IT,M:PT};function ET(){var n=Ql.f(),i=Pf();return n||i}function ST(n){var i=rr(n);i!==null&&i.tag===5&&i.type==="form"?ih(i):Ql.r(n)}var bh=typeof document>"u"?null:document;function z0(n,i,o){var u=bh;if(u&&typeof i=="string"&&i){var _=Ln(i);_='link[rel="'+n+'"][href="'+_+'"]',typeof o=="string"&&(_+='[crossorigin="'+o+'"]'),L0.has(_)||(L0.add(_),n={rel:n,crossOrigin:o,href:i},u.querySelector(_)===null&&(i=u.createElement("link"),ks(i,"link",n),Bn(i),u.head.appendChild(i)))}}function AT(n){Ql.D(n),z0("dns-prefetch",n,null)}function NT(n,i){Ql.C(n,i),z0("preconnect",n,i)}function RT(n,i,o){Ql.L(n,i,o);var u=bh;if(u&&n&&i){var _='link[rel="preload"][as="'+Ln(i)+'"]';i==="image"&&o&&o.imageSrcSet?(_+='[imagesrcset="'+Ln(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(_+='[imagesizes="'+Ln(o.imageSizes)+'"]')):_+='[href="'+Ln(n)+'"]';var x=_;switch(i){case"style":x=xh(n);break;case"script":x=wh(n)}Mo.has(x)||(n=M({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:n,as:i},o),Mo.set(x,n),u.querySelector(_)!==null||i==="style"&&u.querySelector(Rd(x))||i==="script"&&u.querySelector(Cd(x))||(i=u.createElement("link"),ks(i,"link",n),Bn(i),u.head.appendChild(i)))}}function CT(n,i){Ql.m(n,i);var o=bh;if(o&&n){var u=i&&typeof i.as=="string"?i.as:"script",_='link[rel="modulepreload"][as="'+Ln(u)+'"][href="'+Ln(n)+'"]',x=_;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=wh(n)}if(!Mo.has(x)&&(n=M({rel:"modulepreload",href:n},i),Mo.set(x,n),o.querySelector(_)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Cd(x)))return}u=o.createElement("link"),ks(u,"link",n),Bn(u),o.head.appendChild(u)}}}function IT(n,i,o){Ql.S(n,i,o);var u=bh;if(u&&n){var _=Ui(u).hoistableStyles,x=xh(n);i=i||"default";var D=_.get(x);if(!D){var B={loading:0,preload:null};if(D=u.querySelector(Rd(x)))B.loading=5;else{n=M({rel:"stylesheet",href:n,"data-precedence":i},o),(o=Mo.get(x))&&rp(n,o);var re=D=u.createElement("link");Bn(re),ks(re,"link",n),re._p=new Promise(function(xe,De){re.onload=xe,re.onerror=De}),re.addEventListener("load",function(){B.loading|=1}),re.addEventListener("error",function(){B.loading|=2}),B.loading|=4,Ff(D,i,u)}D={type:"stylesheet",instance:D,count:1,state:B},_.set(x,D)}}}function kT(n,i){Ql.X(n,i);var o=bh;if(o&&n){var u=Ui(o).hoistableScripts,_=wh(n),x=u.get(_);x||(x=o.querySelector(Cd(_)),x||(n=M({src:n,async:!0},i),(i=Mo.get(_))&&sp(n,i),x=o.createElement("script"),Bn(x),ks(x,"link",n),o.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(_,x))}}function PT(n,i){Ql.M(n,i);var o=bh;if(o&&n){var u=Ui(o).hoistableScripts,_=wh(n),x=u.get(_);x||(x=o.querySelector(Cd(_)),x||(n=M({src:n,async:!0,type:"module"},i),(i=Mo.get(_))&&sp(n,i),x=o.createElement("script"),Bn(x),ks(x,"link",n),o.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(_,x))}}function U0(n,i,o,u){var _=(_=Ge.current)?Bf(_):null;if(!_)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=xh(o.href),o=Ui(_).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=xh(o.href);var x=Ui(_).hoistableStyles,D=x.get(n);if(D||(_=_.ownerDocument||_,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(n,D),(x=_.querySelector(Rd(n)))&&!x._p&&(D.instance=x,D.state.loading=5),Mo.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Mo.set(n,o),x||MT(_,n,o,D.state))),i&&u===null)throw Error(s(528,""));return D}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=wh(o),o=Ui(_).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function xh(n){return'href="'+Ln(n)+'"'}function Rd(n){return'link[rel="stylesheet"]['+n+"]"}function V0(n){return M({},n,{"data-precedence":n.precedence,precedence:null})}function MT(n,i,o,u){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=n.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),ks(i,"link",o),Bn(i),n.head.appendChild(i))}function wh(n){return'[src="'+Ln(n)+'"]'}function Cd(n){return"script[async]"+n}function j0(n,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=n.querySelector('style[data-href~="'+Ln(o.href)+'"]');if(u)return i.instance=u,Bn(u),u;var _=M({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Bn(u),ks(u,"style",_),Ff(u,o.precedence,n),i.instance=u;case"stylesheet":_=xh(o.href);var x=n.querySelector(Rd(_));if(x)return i.state.loading|=4,i.instance=x,Bn(x),x;u=V0(o),(_=Mo.get(_))&&rp(u,_),x=(n.ownerDocument||n).createElement("link"),Bn(x);var D=x;return D._p=new Promise(function(B,re){D.onload=B,D.onerror=re}),ks(x,"link",u),i.state.loading|=4,Ff(x,o.precedence,n),i.instance=x;case"script":return x=wh(o.src),(_=n.querySelector(Cd(x)))?(i.instance=_,Bn(_),_):(u=o,(_=Mo.get(x))&&(u=M({},o),sp(u,_)),n=n.ownerDocument||n,_=n.createElement("script"),Bn(_),ks(_,"link",u),n.head.appendChild(_),i.instance=_);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Ff(u,o.precedence,n));return i.instance}function Ff(n,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=u.length?u[u.length-1]:null,x=_,D=0;D<u.length;D++){var B=u[D];if(B.dataset.precedence===i)x=B;else if(x!==_)break}x?x.parentNode.insertBefore(n,x.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(n,i.firstChild))}function rp(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function sp(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Hf=null;function B0(n,i,o){if(Hf===null){var u=new Map,_=Hf=new Map;_.set(o,u)}else _=Hf,u=_.get(o),u||(u=new Map,_.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),_=0;_<o.length;_++){var x=o[_];if(!(x[da]||x[jn]||n==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var D=x.getAttribute(i)||"";D=n+D;var B=u.get(D);B?B.push(x):u.set(D,[x])}}return u}function F0(n,i,o){n=n.ownerDocument||n,n.head.insertBefore(o,i==="title"?n.querySelector("head > title"):null)}function DT(n,i,o){if(o===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function H0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Id=null;function OT(){}function LT(n,i,o){if(Id===null)throw Error(s(475));var u=Id;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var _=xh(o.href),x=n.querySelector(Rd(_));if(x){n=x._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Gf.bind(u),n.then(u,u)),i.state.loading|=4,i.instance=x,Bn(x);return}x=n.ownerDocument||n,o=V0(o),(_=Mo.get(_))&&rp(o,_),x=x.createElement("link"),Bn(x);var D=x;D._p=new Promise(function(B,re){D.onload=B,D.onerror=re}),ks(x,"link",o),i.instance=x}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=Gf.bind(u),n.addEventListener("load",i),n.addEventListener("error",i))}}function zT(){if(Id===null)throw Error(s(475));var n=Id;return n.stylesheets&&n.count===0&&ap(n,n.stylesheets),0<n.count?function(i){var o=setTimeout(function(){if(n.stylesheets&&ap(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(o)}}:null}function Gf(){if(this.count--,this.count===0){if(this.stylesheets)ap(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Zf=null;function ap(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Zf=new Map,i.forEach(UT,n),Zf=null,Gf.call(n))}function UT(n,i){if(!(i.state.loading&4)){var o=Zf.get(n);if(o)var u=o.get(null);else{o=new Map,Zf.set(n,o);for(var _=n.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<_.length;x++){var D=_[x];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(o.set(D.dataset.precedence,D),u=D)}u&&o.set(null,u)}_=i.instance,D=_.getAttribute("data-precedence"),x=o.get(D)||u,x===u&&o.set(null,_),o.set(D,_),this.count++,u=Gf.bind(this),_.addEventListener("load",u),_.addEventListener("error",u),x?x.parentNode.insertBefore(_,x.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(_,n.firstChild)),i.state.loading|=4}}var kd={$$typeof:ie,Provider:null,Consumer:null,_currentValue:Ce,_currentValue2:Ce,_threadCount:0};function VT(n,i,o,u,_,x,D,B){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xr(0),this.hiddenUpdates=Xr(null),this.identifierPrefix=u,this.onUncaughtError=_,this.onCaughtError=x,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function G0(n,i,o,u,_,x,D,B,re,xe,De,Ue){return n=new VT(n,i,o,D,B,re,xe,Ue),i=1,x===!0&&(i|=24),x=yi(3,null,null,i),n.current=x,x.stateNode=n,i=No(),i.refCount++,n.pooledCache=i,i.refCount++,x.memoizedState={element:u,isDehydrated:o,cache:i},se(x),n}function Z0(n){return n?(n=ns,n):ns}function Y0(n,i,o,u,_,x){_=Z0(_),u.context===null?u.context=_:u.pendingContext=_,u=ue(i),u.payload={element:o},x=x===void 0?null:x,x!==null&&(u.callback=x),o=pe(n,u,i),o!==null&&(co(o,n,i),He(o,n,i))}function W0(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function op(n,i){W0(n,i),(n=n.alternate)&&W0(n,i)}function X0(n){if(n.tag===13){var i=oi(n,67108864);i!==null&&co(i,n,67108864),op(n,67108864)}}var Yf=!0;function jT(n,i,o,u){var _=$.T;$.T=null;var x=le.p;try{le.p=2,lp(n,i,o,u)}finally{le.p=x,$.T=_}}function BT(n,i,o,u){var _=$.T;$.T=null;var x=le.p;try{le.p=8,lp(n,i,o,u)}finally{le.p=x,$.T=_}}function lp(n,i,o,u){if(Yf){var _=cp(u);if(_===null)Qm(n,i,u,Wf,o),K0(n,u);else if(HT(_,n,i,o,u))u.stopPropagation();else if(K0(n,u),i&4&&-1<FT.indexOf(n)){for(;_!==null;){var x=rr(_);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var D=yr(x.pendingLanes);if(D!==0){var B=x;for(B.pendingLanes|=2,B.entangledLanes|=2;D;){var re=1<<31-Wn(D);B.entanglements[1]|=re,D&=~re}El(x),(Zn&6)===0&&(If=ui()+500,Ed(0))}}break;case 13:B=oi(x,2),B!==null&&co(B,x,2),Pf(),op(x,2)}if(x=cp(u),x===null&&Qm(n,i,u,Wf,o),x===_)break;_=x}_!==null&&u.stopPropagation()}else Qm(n,i,u,null,o)}}function cp(n){return n=ur(n),up(n)}var Wf=null;function up(n){if(Wf=null,n=Sn(n),n!==null){var i=d(n);if(i===null)n=null;else{var o=i.tag;if(o===13){if(n=v(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Wf=n,null}function Q0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(la()){case fo:return 2;case Hi:return 8;case ni:case Kt:return 32;case hi:return 268435456;default:return 32}default:return 32}}var hp=!1,Sc=null,Ac=null,Nc=null,Pd=new Map,Md=new Map,Rc=[],FT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function K0(n,i){switch(n){case"focusin":case"focusout":Sc=null;break;case"dragenter":case"dragleave":Ac=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Pd.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Md.delete(i.pointerId)}}function Dd(n,i,o,u,_,x){return n===null||n.nativeEvent!==x?(n={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:x,targetContainers:[_]},i!==null&&(i=rr(i),i!==null&&X0(i)),n):(n.eventSystemFlags|=u,i=n.targetContainers,_!==null&&i.indexOf(_)===-1&&i.push(_),n)}function HT(n,i,o,u,_){switch(i){case"focusin":return Sc=Dd(Sc,n,i,o,u,_),!0;case"dragenter":return Ac=Dd(Ac,n,i,o,u,_),!0;case"mouseover":return Nc=Dd(Nc,n,i,o,u,_),!0;case"pointerover":var x=_.pointerId;return Pd.set(x,Dd(Pd.get(x)||null,n,i,o,u,_)),!0;case"gotpointercapture":return x=_.pointerId,Md.set(x,Dd(Md.get(x)||null,n,i,o,u,_)),!0}return!1}function J0(n){var i=Sn(n.target);if(i!==null){var o=d(i);if(o!==null){if(i=o.tag,i===13){if(i=v(o),i!==null){n.blockedOn=i,Xn(n.priority,function(){if(o.tag===13){var u=lo();u=ha(u);var _=oi(o,u);_!==null&&co(_,o,u),op(o,u)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Xf(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=cp(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);xs=u,o.target.dispatchEvent(u),xs=null}else return i=rr(o),i!==null&&X0(i),n.blockedOn=o,!1;i.shift()}return!0}function q0(n,i,o){Xf(n)&&o.delete(i)}function GT(){hp=!1,Sc!==null&&Xf(Sc)&&(Sc=null),Ac!==null&&Xf(Ac)&&(Ac=null),Nc!==null&&Xf(Nc)&&(Nc=null),Pd.forEach(q0),Md.forEach(q0)}function Qf(n,i){n.blockedOn===i&&(n.blockedOn=null,hp||(hp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,GT)))}var Kf=null;function $0(n){Kf!==n&&(Kf=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Kf===n&&(Kf=null);for(var i=0;i<n.length;i+=3){var o=n[i],u=n[i+1],_=n[i+2];if(typeof u!="function"){if(up(u||o)===null)continue;break}var x=rr(o);x!==null&&(n.splice(i,3),i-=3,nh(x,{pending:!0,data:_,method:o.method,action:u},u,_))}}))}function Od(n){function i(re){return Qf(re,n)}Sc!==null&&Qf(Sc,n),Ac!==null&&Qf(Ac,n),Nc!==null&&Qf(Nc,n),Pd.forEach(i),Md.forEach(i);for(var o=0;o<Rc.length;o++){var u=Rc[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Rc.length&&(o=Rc[0],o.blockedOn===null);)J0(o),o.blockedOn===null&&Rc.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var _=o[u],x=o[u+1],D=_[Gt]||null;if(typeof x=="function")D||$0(o);else if(D){var B=null;if(x&&x.hasAttribute("formAction")){if(_=x,D=x[Gt]||null)B=D.formAction;else if(up(_)!==null)continue}else B=D.action;typeof B=="function"?o[u+1]=B:(o.splice(u,3),u-=3),$0(o)}}}function dp(n){this._internalRoot=n}Jf.prototype.render=dp.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,u=lo();Y0(o,u,n,i,null,null)},Jf.prototype.unmount=dp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Y0(n.current,2,null,n,null,null),Pf(),i[Or]=null}};function Jf(n){this._internalRoot=n}Jf.prototype.unstable_scheduleHydration=function(n){if(n){var i=Ei();n={blockedOn:null,target:n,priority:i};for(var o=0;o<Rc.length&&i!==0&&i<Rc[o].priority;o++);Rc.splice(o,0,n),o===0&&J0(n)}};var ev=e.version;if(ev!=="19.1.1")throw Error(s(527,ev,"19.1.1"));le.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=A(i),n=n!==null?N(n):null,n=n===null?null:n.stateNode,n};var ZT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qf.isDisabled&&qf.supportsFiber)try{It=qf.inject(ZT),Jt=qf}catch{}}return zd.createRoot=function(n,i){if(!l(n))throw Error(s(299));var o=!1,u="",_=gd,x=lh,D=md,B=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(_=i.onUncaughtError),i.onCaughtError!==void 0&&(x=i.onCaughtError),i.onRecoverableError!==void 0&&(D=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(B=i.unstable_transitionCallbacks)),i=G0(n,1,!1,null,null,o,u,_,x,D,B,null),n[Or]=i.current,Xm(n),new dp(i)},zd.hydrateRoot=function(n,i,o){if(!l(n))throw Error(s(299));var u=!1,_="",x=gd,D=lh,B=md,re=null,xe=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(_=o.identifierPrefix),o.onUncaughtError!==void 0&&(x=o.onUncaughtError),o.onCaughtError!==void 0&&(D=o.onCaughtError),o.onRecoverableError!==void 0&&(B=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(re=o.unstable_transitionCallbacks),o.formState!==void 0&&(xe=o.formState)),i=G0(n,1,!0,i,o??null,u,_,x,D,B,re,xe),i.context=Z0(null),o=i.current,u=lo(),u=ha(u),_=ue(u),_.callback=null,pe(o,_,u),o=u,i.current.lanes=o,Qr(i,o),El(i),n[Or]=i.current,Xm(n),new Jf(i)},zd.version="19.1.1",zd}var uv;function eE(){if(uv)return mp.exports;uv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),mp.exports=$T(),mp.exports}var tE=eE();function rx(r,e){const t=Ie.useRef(e);Ie.useEffect(function(){e!==t.current&&r.attributionControl!=null&&(t.current!=null&&r.attributionControl.removeAttribution(t.current),e!=null&&r.attributionControl.addAttribution(e)),t.current=e},[r,e])}var nE=zg();const iE=1;function rE(r){return Object.freeze({__version:iE,map:r})}function sx(r,e){return Object.freeze({...r,...e})}const gy=Ie.createContext(null);function Ug(){const r=Ie.use(gy);if(r==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return r}function ax(r){function e(t,s){const{instance:l,context:d}=r(t).current;Ie.useImperativeHandle(s,()=>l);const{children:v}=t;return v==null?null:Cu.createElement(gy,{value:d},v)}return Ie.forwardRef(e)}function sE(r){function e(t,s){const[l,d]=Ie.useState(!1),{instance:v}=r(t,d).current;Ie.useImperativeHandle(s,()=>v),Ie.useEffect(function(){l&&v.update()},[v,l,t.children]);const E=v._contentNode;return E?nE.createPortal(t.children,E):null}return Ie.forwardRef(e)}function aE(r){function e(t,s){const{instance:l}=r(t).current;return Ie.useImperativeHandle(s,()=>l),null}return Ie.forwardRef(e)}function my(r,e){const t=Ie.useRef(void 0);Ie.useEffect(function(){return e!=null&&r.instance.on(e),t.current=e,function(){t.current!=null&&r.instance.off(t.current),t.current=null}},[r,e])}function Vg(r,e){const t=r.pane??e.pane;return t?{...r,pane:t}:r}function oE(r,e){return function(s,l){const d=Ug(),v=r(Vg(s,d),d);return rx(d.map,s.attribution),my(v.current,s.eventHandlers),e(v.current,d,s,l),v}}var Bd={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var lE=Bd.exports,hv;function cE(){return hv||(hv=1,(function(r,e){(function(t,s){s(e)})(lE,(function(t){var s="1.9.4";function l(a){var c,p,w,C;for(p=1,w=arguments.length;p<w;p++){C=arguments[p];for(c in C)a[c]=C[c]}return a}var d=Object.create||(function(){function a(){}return function(c){return a.prototype=c,new a}})();function v(a,c){var p=Array.prototype.slice;if(a.bind)return a.bind.apply(a,p.call(arguments,1));var w=p.call(arguments,2);return function(){return a.apply(c,w.length?w.concat(p.call(arguments)):arguments)}}var E=0;function A(a){return"_leaflet_id"in a||(a._leaflet_id=++E),a._leaflet_id}function N(a,c,p){var w,C,U,ne;return ne=function(){w=!1,C&&(U.apply(p,C),C=!1)},U=function(){w?C=arguments:(a.apply(p,arguments),setTimeout(ne,c),w=!0)},U}function M(a,c,p){var w=c[1],C=c[0],U=w-C;return a===w&&p?a:((a-C)%U+U)%U+C}function j(){return!1}function V(a,c){if(c===!1)return a;var p=Math.pow(10,c===void 0?6:c);return Math.round(a*p)/p}function Q(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function te(a){return Q(a).split(/\s+/)}function J(a,c){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?d(a.options):{});for(var p in c)a.options[p]=c[p];return a.options}function K(a,c,p){var w=[];for(var C in a)w.push(encodeURIComponent(p?C.toUpperCase():C)+"="+encodeURIComponent(a[C]));return(!c||c.indexOf("?")===-1?"?":"&")+w.join("&")}var _e=/\{ *([\w_ -]+) *\}/g;function Re(a,c){return a.replace(_e,function(p,w){var C=c[w];if(C===void 0)throw new Error("No value provided for variable "+p);return typeof C=="function"&&(C=C(c)),C})}var ie=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function ke(a,c){for(var p=0;p<a.length;p++)if(a[p]===c)return p;return-1}var Ye="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Qe(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var ce=0;function H(a){var c=+new Date,p=Math.max(0,16-(c-ce));return ce=c+p,window.setTimeout(a,p)}var Y=window.requestAnimationFrame||Qe("RequestAnimationFrame")||H,he=window.cancelAnimationFrame||Qe("CancelAnimationFrame")||Qe("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function ae(a,c,p){if(p&&Y===H)a.call(c);else return Y.call(window,v(a,c))}function q(a){a&&he.call(window,a)}var X={__proto__:null,extend:l,create:d,bind:v,get lastId(){return E},stamp:A,throttle:N,wrapNum:M,falseFn:j,formatNum:V,trim:Q,splitWords:te,setOptions:J,getParamString:K,template:Re,isArray:ie,indexOf:ke,emptyImageUrl:Ye,requestFn:Y,cancelFn:he,requestAnimFrame:ae,cancelAnimFrame:q};function rt(){}rt.extend=function(a){var c=function(){J(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=c.__super__=this.prototype,w=d(p);w.constructor=c,c.prototype=w;for(var C in this)Object.prototype.hasOwnProperty.call(this,C)&&C!=="prototype"&&C!=="__super__"&&(c[C]=this[C]);return a.statics&&l(c,a.statics),a.includes&&(lt(a.includes),l.apply(null,[w].concat(a.includes))),l(w,a),delete w.statics,delete w.includes,w.options&&(w.options=p.options?d(p.options):{},l(w.options,a.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var U=0,ne=w._initHooks.length;U<ne;U++)w._initHooks[U].call(this)}},c},rt.include=function(a){var c=this.prototype.options;return l(this.prototype,a),a.options&&(this.prototype.options=c,this.mergeOptions(a.options)),this},rt.mergeOptions=function(a){return l(this.prototype.options,a),this},rt.addInitHook=function(a){var c=Array.prototype.slice.call(arguments,1),p=typeof a=="function"?a:function(){this[a].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function lt(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=ie(a)?a:[a];for(var c=0;c<a.length;c++)a[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var $={on:function(a,c,p){if(typeof a=="object")for(var w in a)this._on(w,a[w],c);else{a=te(a);for(var C=0,U=a.length;C<U;C++)this._on(a[C],c,p)}return this},off:function(a,c,p){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var w in a)this._off(w,a[w],c);else{a=te(a);for(var C=arguments.length===1,U=0,ne=a.length;U<ne;U++)C?this._off(a[U]):this._off(a[U],c,p)}return this},_on:function(a,c,p,w){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(a,c,p)===!1){p===this&&(p=void 0);var C={fn:c,ctx:p};w&&(C.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(C)}},_off:function(a,c,p){var w,C,U;if(this._events&&(w=this._events[a],!!w)){if(arguments.length===1){if(this._firingCount)for(C=0,U=w.length;C<U;C++)w[C].fn=j;delete this._events[a];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var ne=this._listens(a,c,p);if(ne!==!1){var fe=w[ne];this._firingCount&&(fe.fn=j,this._events[a]=w=w.slice()),w.splice(ne,1)}}},fire:function(a,c,p){if(!this.listens(a,p))return this;var w=l({},c,{type:a,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var C=this._events[a];if(C){this._firingCount=this._firingCount+1||1;for(var U=0,ne=C.length;U<ne;U++){var fe=C[U],we=fe.fn;fe.once&&this.off(a,we,fe.ctx),we.call(fe.ctx||this,w)}this._firingCount--}}return p&&this._propagateEvent(w),this},listens:function(a,c,p,w){typeof a!="string"&&console.warn('"string" type argument expected');var C=c;typeof c!="function"&&(w=!!c,C=void 0,p=void 0);var U=this._events&&this._events[a];if(U&&U.length&&this._listens(a,C,p)!==!1)return!0;if(w){for(var ne in this._eventParents)if(this._eventParents[ne].listens(a,c,p,w))return!0}return!1},_listens:function(a,c,p){if(!this._events)return!1;var w=this._events[a]||[];if(!c)return!!w.length;p===this&&(p=void 0);for(var C=0,U=w.length;C<U;C++)if(w[C].fn===c&&w[C].ctx===p)return C;return!1},once:function(a,c,p){if(typeof a=="object")for(var w in a)this._on(w,a[w],c,!0);else{a=te(a);for(var C=0,U=a.length;C<U;C++)this._on(a[C],c,p,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[A(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[A(a)],this},_propagateEvent:function(a){for(var c in this._eventParents)this._eventParents[c].fire(a.type,l({layer:a.target,propagatedFrom:a.target},a),!0)}};$.addEventListener=$.on,$.removeEventListener=$.clearAllEventListeners=$.off,$.addOneTimeEventListener=$.once,$.fireEvent=$.fire,$.hasEventListeners=$.listens;var le=rt.extend($);function Ce(a,c,p){this.x=p?Math.round(a):a,this.y=p?Math.round(c):c}var xt=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};Ce.prototype={clone:function(){return new Ce(this.x,this.y)},add:function(a){return this.clone()._add(F(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(F(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new Ce(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new Ce(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=xt(this.x),this.y=xt(this.y),this},distanceTo:function(a){a=F(a);var c=a.x-this.x,p=a.y-this.y;return Math.sqrt(c*c+p*p)},equals:function(a){return a=F(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=F(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+V(this.x)+", "+V(this.y)+")"}};function F(a,c,p){return a instanceof Ce?a:ie(a)?new Ce(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new Ce(a.x,a.y):new Ce(a,c,p)}function ee(a,c){if(a)for(var p=c?[a,c]:a,w=0,C=p.length;w<C;w++)this.extend(p[w])}ee.prototype={extend:function(a){var c,p;if(!a)return this;if(a instanceof Ce||typeof a[0]=="number"||"x"in a)c=p=F(a);else if(a=je(a),c=a.min,p=a.max,!c||!p)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=p.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(a){return F((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return F(this.min.x,this.max.y)},getTopRight:function(){return F(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var c,p;return typeof a[0]=="number"||a instanceof Ce?a=F(a):a=je(a),a instanceof ee?(c=a.min,p=a.max):c=p=a,c.x>=this.min.x&&p.x<=this.max.x&&c.y>=this.min.y&&p.y<=this.max.y},intersects:function(a){a=je(a);var c=this.min,p=this.max,w=a.min,C=a.max,U=C.x>=c.x&&w.x<=p.x,ne=C.y>=c.y&&w.y<=p.y;return U&&ne},overlaps:function(a){a=je(a);var c=this.min,p=this.max,w=a.min,C=a.max,U=C.x>c.x&&w.x<p.x,ne=C.y>c.y&&w.y<p.y;return U&&ne},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var c=this.min,p=this.max,w=Math.abs(c.x-p.x)*a,C=Math.abs(c.y-p.y)*a;return je(F(c.x-w,c.y-C),F(p.x+w,p.y+C))},equals:function(a){return a?(a=je(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function je(a,c){return!a||a instanceof ee?a:new ee(a,c)}function Me(a,c){if(a)for(var p=c?[a,c]:a,w=0,C=p.length;w<C;w++)this.extend(p[w])}Me.prototype={extend:function(a){var c=this._southWest,p=this._northEast,w,C;if(a instanceof Ke)w=a,C=a;else if(a instanceof Me){if(w=a._southWest,C=a._northEast,!w||!C)return this}else return a?this.extend(Ge(a)||Be(a)):this;return!c&&!p?(this._southWest=new Ke(w.lat,w.lng),this._northEast=new Ke(C.lat,C.lng)):(c.lat=Math.min(w.lat,c.lat),c.lng=Math.min(w.lng,c.lng),p.lat=Math.max(C.lat,p.lat),p.lng=Math.max(C.lng,p.lng)),this},pad:function(a){var c=this._southWest,p=this._northEast,w=Math.abs(c.lat-p.lat)*a,C=Math.abs(c.lng-p.lng)*a;return new Me(new Ke(c.lat-w,c.lng-C),new Ke(p.lat+w,p.lng+C))},getCenter:function(){return new Ke((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ke(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ke(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof Ke||"lat"in a?a=Ge(a):a=Be(a);var c=this._southWest,p=this._northEast,w,C;return a instanceof Me?(w=a.getSouthWest(),C=a.getNorthEast()):w=C=a,w.lat>=c.lat&&C.lat<=p.lat&&w.lng>=c.lng&&C.lng<=p.lng},intersects:function(a){a=Be(a);var c=this._southWest,p=this._northEast,w=a.getSouthWest(),C=a.getNorthEast(),U=C.lat>=c.lat&&w.lat<=p.lat,ne=C.lng>=c.lng&&w.lng<=p.lng;return U&&ne},overlaps:function(a){a=Be(a);var c=this._southWest,p=this._northEast,w=a.getSouthWest(),C=a.getNorthEast(),U=C.lat>c.lat&&w.lat<p.lat,ne=C.lng>c.lng&&w.lng<p.lng;return U&&ne},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,c){return a?(a=Be(a),this._southWest.equals(a.getSouthWest(),c)&&this._northEast.equals(a.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Be(a,c){return a instanceof Me?a:new Me(a,c)}function Ke(a,c,p){if(isNaN(a)||isNaN(c))throw new Error("Invalid LatLng object: ("+a+", "+c+")");this.lat=+a,this.lng=+c,p!==void 0&&(this.alt=+p)}Ke.prototype={equals:function(a,c){if(!a)return!1;a=Ge(a);var p=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return p<=(c===void 0?1e-9:c)},toString:function(a){return"LatLng("+V(this.lat,a)+", "+V(this.lng,a)+")"},distanceTo:function(a){return Bt.distance(this,Ge(a))},wrap:function(){return Bt.wrapLatLng(this)},toBounds:function(a){var c=180*a/40075017,p=c/Math.cos(Math.PI/180*this.lat);return Be([this.lat-c,this.lng-p],[this.lat+c,this.lng+p])},clone:function(){return new Ke(this.lat,this.lng,this.alt)}};function Ge(a,c,p){return a instanceof Ke?a:ie(a)&&typeof a[0]!="object"?a.length===3?new Ke(a[0],a[1],a[2]):a.length===2?new Ke(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new Ke(a.lat,"lng"in a?a.lng:a.lon,a.alt):c===void 0?null:new Ke(a,c,p)}var gn={latLngToPoint:function(a,c){var p=this.projection.project(a),w=this.scale(c);return this.transformation._transform(p,w)},pointToLatLng:function(a,c){var p=this.scale(c),w=this.transformation.untransform(a,p);return this.projection.unproject(w)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var c=this.projection.bounds,p=this.scale(a),w=this.transformation.transform(c.min,p),C=this.transformation.transform(c.max,p);return new ee(w,C)},infinite:!1,wrapLatLng:function(a){var c=this.wrapLng?M(a.lng,this.wrapLng,!0):a.lng,p=this.wrapLat?M(a.lat,this.wrapLat,!0):a.lat,w=a.alt;return new Ke(p,c,w)},wrapLatLngBounds:function(a){var c=a.getCenter(),p=this.wrapLatLng(c),w=c.lat-p.lat,C=c.lng-p.lng;if(w===0&&C===0)return a;var U=a.getSouthWest(),ne=a.getNorthEast(),fe=new Ke(U.lat-w,U.lng-C),we=new Ke(ne.lat-w,ne.lng-C);return new Me(fe,we)}},Bt=l({},gn,{wrapLng:[-180,180],R:6371e3,distance:function(a,c){var p=Math.PI/180,w=a.lat*p,C=c.lat*p,U=Math.sin((c.lat-a.lat)*p/2),ne=Math.sin((c.lng-a.lng)*p/2),fe=U*U+Math.cos(w)*Math.cos(C)*ne*ne,we=2*Math.atan2(Math.sqrt(fe),Math.sqrt(1-fe));return this.R*we}}),ds=6378137,pr={R:ds,MAX_LATITUDE:85.0511287798,project:function(a){var c=Math.PI/180,p=this.MAX_LATITUDE,w=Math.max(Math.min(p,a.lat),-p),C=Math.sin(w*c);return new Ce(this.R*a.lng*c,this.R*Math.log((1+C)/(1-C))/2)},unproject:function(a){var c=180/Math.PI;return new Ke((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*c,a.x*c/this.R)},bounds:(function(){var a=ds*Math.PI;return new ee([-a,-a],[a,a])})()};function Mn(a,c,p,w){if(ie(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=c,this._c=p,this._d=w}Mn.prototype={transform:function(a,c){return this._transform(a.clone(),c)},_transform:function(a,c){return c=c||1,a.x=c*(this._a*a.x+this._b),a.y=c*(this._c*a.y+this._d),a},untransform:function(a,c){return c=c||1,new Ce((a.x/c-this._b)/this._a,(a.y/c-this._d)/this._c)}};function pt(a,c,p,w){return new Mn(a,c,p,w)}var Os=l({},Bt,{code:"EPSG:3857",projection:pr,transformation:(function(){var a=.5/(Math.PI*pr.R);return pt(a,.5,-a,.5)})()}),xa=l({},Os,{code:"EPSG:900913"});function wa(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function Dn(a,c){var p="",w,C,U,ne,fe,we;for(w=0,U=a.length;w<U;w++){for(fe=a[w],C=0,ne=fe.length;C<ne;C++)we=fe[C],p+=(C?"L":"M")+we.x+" "+we.y;p+=c?Je.svg?"z":"x":""}return p||"M0 0"}var ui=document.documentElement.style,la="ActiveXObject"in window,fo=la&&!document.addEventListener,Hi="msLaunchUri"in navigator&&!("documentMode"in document),ni=Zi("webkit"),Kt=Zi("android"),hi=Zi("android 2")||Zi("android 3"),Lo=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),zo=Kt&&Zi("Google")&&Lo<537&&!("AudioNode"in window),It=!!window.opera,Jt=!Hi&&Zi("chrome"),Gi=Zi("gecko")&&!ni&&!It&&!la,Wn=!Jt&&Zi("safari"),Ta=Zi("phantom"),ca="OTransition"in ui,ua=navigator.platform.indexOf("Win")===0,fs=la&&"transition"in ui,Ls="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!hi,yr="MozPerspective"in ui,mn=!window.L_DISABLE_3D&&(fs||Ls||yr)&&!ca&&!Ta,On=typeof orientation<"u"||Zi("mobile"),ja=On&&ni,Wr=On&&Ls,ir=!window.PointerEvent&&window.MSPointerEvent,Xr=!!(window.PointerEvent||ir),Qr="ontouchstart"in window||!!window.TouchEvent,go=!window.L_NO_TOUCH&&(Qr||Xr),gs=On&&It,Uo=On&&Gi,ha=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,di=(function(){var a=!1;try{var c=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",j,c),window.removeEventListener("testPassiveEventSupport",j,c)}catch{}return a})(),Ei=(function(){return!!document.createElement("canvas").getContext})(),Xn=!!(document.createElementNS&&wa("svg").createSVGRect),hn=!!Xn&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),jn=!Xn&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var c=a.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}})(),Gt=navigator.platform.indexOf("Mac")===0,Or=navigator.platform.indexOf("Linux")===0;function Zi(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Je={ie:la,ielt9:fo,edge:Hi,webkit:ni,android:Kt,android23:hi,androidStock:zo,opera:It,chrome:Jt,gecko:Gi,safari:Wn,phantom:Ta,opera12:ca,win:ua,ie3d:fs,webkit3d:Ls,gecko3d:yr,any3d:mn,mobile:On,mobileWebkit:ja,mobileWebkit3d:Wr,msPointer:ir,pointer:Xr,touch:go,touchNative:Qr,mobileOpera:gs,mobileGecko:Uo,retina:ha,passiveEvents:di,canvas:Ei,svg:Xn,vml:jn,inlineSvg:hn,mac:Gt,linux:Or},zi=Je.msPointer?"MSPointerDown":"pointerdown",mo=Je.msPointer?"MSPointerMove":"pointermove",da=Je.msPointer?"MSPointerUp":"pointerup",Lt=Je.msPointer?"MSPointerCancel":"pointercancel",Sn={touchstart:zi,touchmove:mo,touchend:da,touchcancel:Lt},rr={touchstart:Kr,touchmove:Ea,touchend:Ea,touchcancel:Ea},wn={},Ui=!1;function Bn(a,c,p){return c==="touchstart"&&Si(),rr[c]?(p=rr[c].bind(this,p),a.addEventListener(Sn[c],p,!1),p):(console.warn("wrong event specified:",c),j)}function Vo(a,c,p){if(!Sn[c]){console.warn("wrong event specified:",c);return}a.removeEventListener(Sn[c],p,!1)}function Ba(a){wn[a.pointerId]=a}function ms(a){wn[a.pointerId]&&(wn[a.pointerId]=a)}function zs(a){delete wn[a.pointerId]}function Si(){Ui||(document.addEventListener(zi,Ba,!0),document.addEventListener(mo,ms,!0),document.addEventListener(da,zs,!0),document.addEventListener(Lt,zs,!0),Ui=!0)}function Ea(a,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var p in wn)c.touches.push(wn[p]);c.changedTouches=[c],a(c)}}function Kr(a,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&Qt(c),Ea(a,c)}function Jr(a){var c={},p,w;for(w in a)p=a[w],c[w]=p&&p.bind?p.bind(a):p;return a=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var ps=200;function sr(a,c){a.addEventListener("dblclick",c);var p=0,w;function C(U){if(U.detail!==1){w=U.detail;return}if(!(U.pointerType==="mouse"||U.sourceCapabilities&&!U.sourceCapabilities.firesTouchEvents)){var ne=wr(U);if(!(ne.some(function(we){return we instanceof HTMLLabelElement&&we.attributes.for})&&!ne.some(function(we){return we instanceof HTMLInputElement||we instanceof HTMLSelectElement}))){var fe=Date.now();fe-p<=ps?(w++,w===2&&c(Jr(U))):w=1,p=fe}}}return a.addEventListener("click",C),{dblclick:c,simDblclick:C}}function ii(a,c){a.removeEventListener("dblclick",c.dblclick),a.removeEventListener("click",c.simDblclick)}var _r=or(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ys=or(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),_s=ys==="webkitTransition"||ys==="OTransition"?ys+"End":"transitionend";function Sa(a){return typeof a=="string"?document.getElementById(a):a}function dn(a,c){var p=a.style[c]||a.currentStyle&&a.currentStyle[c];if((!p||p==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(a,null);p=w?w[c]:null}return p==="auto"?null:p}function Mt(a,c,p){var w=document.createElement(a);return w.className=c||"",p&&p.appendChild(w),w}function pn(a){var c=a.parentNode;c&&c.removeChild(a)}function Ai(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Ni(a){var c=a.parentNode;c&&c.lastChild!==a&&c.appendChild(a)}function Us(a){var c=a.parentNode;c&&c.firstChild!==a&&c.insertBefore(a,c.firstChild)}function ar(a,c){if(a.classList!==void 0)return a.classList.contains(c);var p=Ln(a);return p.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(p)}function bt(a,c){if(a.classList!==void 0)for(var p=te(c),w=0,C=p.length;w<C;w++)a.classList.add(p[w]);else if(!ar(a,c)){var U=Ln(a);po(a,(U?U+" ":"")+c)}}function yn(a,c){a.classList!==void 0?a.classList.remove(c):po(a,Q((" "+Ln(a)+" ").replace(" "+c+" "," ")))}function po(a,c){a.className.baseVal===void 0?a.className=c:a.className.baseVal=c}function Ln(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function In(a,c){"opacity"in a.style?a.style.opacity=c:"filter"in a.style&&vr(a,c)}function vr(a,c){var p=!1,w="DXImageTransform.Microsoft.Alpha";try{p=a.filters.item(w)}catch{if(c===1)return}c=Math.round(c*100),p?(p.Enabled=c!==100,p.Opacity=c):a.style.filter+=" progid:"+w+"(opacity="+c+")"}function or(a){for(var c=document.documentElement.style,p=0;p<a.length;p++)if(a[p]in c)return a[p];return!1}function lr(a,c,p){var w=c||new Ce(0,0);a.style[_r]=(Je.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(p?" scale("+p+")":"")}function yt(a,c){a._leaflet_pos=c,Je.any3d?lr(a,c):(a.style.left=c.x+"px",a.style.top=c.y+"px")}function Yi(a){return a._leaflet_pos||new Ce(0,0)}var Wi,qr,yo;if("onselectstart"in document)Wi=function(){ht(window,"selectstart",Qt)},qr=function(){ot(window,"selectstart",Qt)};else{var cr=or(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Wi=function(){if(cr){var a=document.documentElement.style;yo=a[cr],a[cr]="none"}},qr=function(){cr&&(document.documentElement.style[cr]=yo,yo=void 0)}}function vs(){ht(window,"dragstart",Qt)}function jo(){ot(window,"dragstart",Qt)}var fa,bs;function xs(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(ur(),fa=a,bs=a.style.outlineStyle,a.style.outlineStyle="none",ht(window,"keydown",ur))}function ur(){fa&&(fa.style.outlineStyle=bs,fa=void 0,bs=void 0,ot(window,"keydown",ur))}function ki(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Lr(a){var c=a.getBoundingClientRect();return{x:c.width/a.offsetWidth||1,y:c.height/a.offsetHeight||1,boundingClientRect:c}}var Fa={__proto__:null,TRANSFORM:_r,TRANSITION:ys,TRANSITION_END:_s,get:Sa,getStyle:dn,create:Mt,remove:pn,empty:Ai,toFront:Ni,toBack:Us,hasClass:ar,addClass:bt,removeClass:yn,setClass:po,getClass:Ln,setOpacity:In,testProp:or,setTransform:lr,setPosition:yt,getPosition:Yi,get disableTextSelection(){return Wi},get enableTextSelection(){return qr},disableImageDrag:vs,enableImageDrag:jo,preventOutline:xs,restoreOutline:ur,getSizedParentNode:ki,getScale:Lr};function ht(a,c,p,w){if(c&&typeof c=="object")for(var C in c)zr(a,C,c[C],p);else{c=te(c);for(var U=0,ne=c.length;U<ne;U++)zr(a,c[U],p,w)}return this}var Xi="_leaflet_events";function ot(a,c,p,w){if(arguments.length===1)Qi(a),delete a[Xi];else if(c&&typeof c=="object")for(var C in c)Ki(a,C,c[C],p);else if(c=te(c),arguments.length===2)Qi(a,function(fe){return ke(c,fe)!==-1});else for(var U=0,ne=c.length;U<ne;U++)Ki(a,c[U],p,w);return this}function Qi(a,c){for(var p in a[Xi]){var w=p.split(/\d/)[0];(!c||c(w))&&Ki(a,w,null,null,p)}}var Vi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function zr(a,c,p,w){var C=c+A(p)+(w?"_"+A(w):"");if(a[Xi]&&a[Xi][C])return this;var U=function(fe){return p.call(w||a,fe||window.event)},ne=U;!Je.touchNative&&Je.pointer&&c.indexOf("touch")===0?U=Bn(a,c,U):Je.touch&&c==="dblclick"?U=sr(a,U):"addEventListener"in a?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?a.addEventListener(Vi[c]||c,U,Je.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(U=function(fe){fe=fe||window.event,Ur(a,fe)&&ne(fe)},a.addEventListener(Vi[c],U,!1)):a.addEventListener(c,ne,!1):a.attachEvent("on"+c,U),a[Xi]=a[Xi]||{},a[Xi][C]=U}function Ki(a,c,p,w,C){C=C||c+A(p)+(w?"_"+A(w):"");var U=a[Xi]&&a[Xi][C];if(!U)return this;!Je.touchNative&&Je.pointer&&c.indexOf("touch")===0?Vo(a,c,U):Je.touch&&c==="dblclick"?ii(a,U):"removeEventListener"in a?a.removeEventListener(Vi[c]||c,U,!1):a.detachEvent("on"+c,U),a[Xi][C]=null}function Pi(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function br(a){return zr(a,"wheel",Pi),this}function xr(a){return ht(a,"mousedown touchstart dblclick contextmenu",Pi),a._leaflet_disable_click=!0,this}function Qt(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Ri(a){return Qt(a),Pi(a),this}function wr(a){if(a.composedPath)return a.composedPath();for(var c=[],p=a.target;p;)c.push(p),p=p.parentNode;return c}function fi(a,c){if(!c)return new Ce(a.clientX,a.clientY);var p=Lr(c),w=p.boundingClientRect;return new Ce((a.clientX-w.left)/p.x-c.clientLeft,(a.clientY-w.top)/p.y-c.clientTop)}var qt=Je.linux&&Je.chrome?window.devicePixelRatio:Je.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function $r(a){return Je.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/qt:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Ur(a,c){var p=c.relatedTarget;if(!p)return!0;try{for(;p&&p!==a;)p=p.parentNode}catch{return!1}return p!==a}var Bo={__proto__:null,on:ht,off:ot,stopPropagation:Pi,disableScrollPropagation:br,disableClickPropagation:xr,preventDefault:Qt,stop:Ri,getPropagationPath:wr,getMousePosition:fi,getWheelDelta:$r,isExternalTarget:Ur,addListener:ht,removeListener:ot},Aa=le.extend({run:function(a,c,p,w){this.stop(),this._el=a,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=Yi(a),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ae(this._animate,this),this._step()},_step:function(a){var c=+new Date-this._startTime,p=this._duration*1e3;c<p?this._runFrame(this._easeOut(c/p),a):(this._runFrame(1),this._complete())},_runFrame:function(a,c){var p=this._startPos.add(this._offset.multiplyBy(a));c&&p._round(),yt(this._el,p),this.fire("step")},_complete:function(){q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),kt=le.extend({options:{crs:Os,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,c){c=J(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=v(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(Ge(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ys&&Je.any3d&&!Je.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ht(this._proxy,_s,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,c,p){if(c=c===void 0?this._zoom:this._limitZoom(c),a=this._limitCenter(Ge(a),c,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=l({animate:p.animate},p.zoom),p.pan=l({animate:p.animate,duration:p.duration},p.pan));var w=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,c,p.zoom):this._tryAnimatedPan(a,p.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(a,c,p.pan&&p.pan.noMoveStart),this},setZoom:function(a,c){return this._loaded?this.setView(this.getCenter(),a,{zoom:c}):(this._zoom=a,this)},zoomIn:function(a,c){return a=a||(Je.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,c)},zoomOut:function(a,c){return a=a||(Je.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,c)},setZoomAround:function(a,c,p){var w=this.getZoomScale(c),C=this.getSize().divideBy(2),U=a instanceof Ce?a:this.latLngToContainerPoint(a),ne=U.subtract(C).multiplyBy(1-1/w),fe=this.containerPointToLatLng(C.add(ne));return this.setView(fe,c,{zoom:p})},_getBoundsCenterZoom:function(a,c){c=c||{},a=a.getBounds?a.getBounds():Be(a);var p=F(c.paddingTopLeft||c.padding||[0,0]),w=F(c.paddingBottomRight||c.padding||[0,0]),C=this.getBoundsZoom(a,!1,p.add(w));if(C=typeof c.maxZoom=="number"?Math.min(c.maxZoom,C):C,C===1/0)return{center:a.getCenter(),zoom:C};var U=w.subtract(p).divideBy(2),ne=this.project(a.getSouthWest(),C),fe=this.project(a.getNorthEast(),C),we=this.unproject(ne.add(fe).divideBy(2).add(U),C);return{center:we,zoom:C}},fitBounds:function(a,c){if(a=Be(a),!a.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(a,c);return this.setView(p.center,p.zoom,c)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,c){return this.setView(a,this._zoom,{pan:c})},panBy:function(a,c){if(a=F(a).round(),c=c||{},!a.x&&!a.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Aa,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){bt(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,p,c.duration||.25,c.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,c,p){if(p=p||{},p.animate===!1||!Je.any3d)return this.setView(a,c,p);this._stop();var w=this.project(this.getCenter()),C=this.project(a),U=this.getSize(),ne=this._zoom;a=Ge(a),c=c===void 0?ne:c;var fe=Math.max(U.x,U.y),we=fe*this.getZoomScale(ne,c),Le=C.distanceTo(w)||1,Xe=1.42,$e=Xe*Xe;function qe(Dt){var Di=Dt?-1:1,As=Dt?we:fe,Qs=we*we-fe*fe+Di*$e*$e*Le*Le,Nr=2*As*$e*Le,Xa=Qs/Nr,Jn=Math.sqrt(Xa*Xa+1)-Xa,Ks=Jn<1e-9?-18:Math.log(Jn);return Ks}function _t(Dt){return(Math.exp(Dt)-Math.exp(-Dt))/2}function fn(Dt){return(Math.exp(Dt)+Math.exp(-Dt))/2}function vn(Dt){return _t(Dt)/fn(Dt)}var Xt=qe(0);function dr(Dt){return fe*(fn(Xt)/fn(Xt+Xe*Dt))}function is(Dt){return fe*(fn(Xt)*vn(Xt+Xe*Dt)-_t(Xt))/$e}function Wa(Dt){return 1-Math.pow(1-Dt,1.5)}var _a=Date.now(),rs=(qe(1)-Xt)/Xe,Ss=p.duration?1e3*p.duration:1e3*rs*.8;function Gr(){var Dt=(Date.now()-_a)/Ss,Di=Wa(Dt)*rs;Dt<=1?(this._flyToFrame=ae(Gr,this),this._move(this.unproject(w.add(C.subtract(w).multiplyBy(is(Di)/Le)),ne),this.getScaleZoom(fe/dr(Di),ne),{flyTo:!0})):this._move(a,c)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),Gr.call(this),this},flyToBounds:function(a,c){var p=this._getBoundsCenterZoom(a,c);return this.flyTo(p.center,p.zoom,c)},setMaxBounds:function(a){return a=Be(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var c=this.options.minZoom;return this.options.minZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var c=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,c){this._enforcingBounds=!0;var p=this.getCenter(),w=this._limitCenter(p,this._zoom,Be(a));return p.equals(w)||this.panTo(w,c),this._enforcingBounds=!1,this},panInside:function(a,c){c=c||{};var p=F(c.paddingTopLeft||c.padding||[0,0]),w=F(c.paddingBottomRight||c.padding||[0,0]),C=this.project(this.getCenter()),U=this.project(a),ne=this.getPixelBounds(),fe=je([ne.min.add(p),ne.max.subtract(w)]),we=fe.getSize();if(!fe.contains(U)){this._enforcingBounds=!0;var Le=U.subtract(fe.getCenter()),Xe=fe.extend(U).getSize().subtract(we);C.x+=Le.x<0?-Xe.x:Xe.x,C.y+=Le.y<0?-Xe.y:Xe.y,this.panTo(this.unproject(C),c),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=l({animate:!1,pan:!0},a===!0?{animate:!0}:a);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),w=c.divideBy(2).round(),C=p.divideBy(2).round(),U=w.subtract(C);return!U.x&&!U.y?this:(a.animate&&a.pan?this.panBy(U):(a.pan&&this._rawPanBy(U),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(v(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=l({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=v(this._handleGeolocationResponse,this),p=v(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,p,a):navigator.geolocation.getCurrentPosition(c,p,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var c=a.code,p=a.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var c=a.coords.latitude,p=a.coords.longitude,w=new Ke(c,p),C=w.toBounds(a.coords.accuracy*2),U=this._locateOptions;if(U.setView){var ne=this.getBoundsZoom(C);this.setView(w,U.maxZoom?Math.min(ne,U.maxZoom):ne)}var fe={latlng:w,bounds:C,timestamp:a.timestamp};for(var we in a.coords)typeof a.coords[we]=="number"&&(fe[we]=a.coords[we]);this.fire("locationfound",fe)}},addHandler:function(a,c){if(!c)return this;var p=this[a]=new c(this);return this._handlers.push(p),this.options[a]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),pn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)pn(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,c){var p="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),w=Mt("div",p,c||this._mapPane);return a&&(this._panes[a]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),c=this.unproject(a.getBottomLeft()),p=this.unproject(a.getTopRight());return new Me(c,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,c,p){a=Be(a),p=F(p||[0,0]);var w=this.getZoom()||0,C=this.getMinZoom(),U=this.getMaxZoom(),ne=a.getNorthWest(),fe=a.getSouthEast(),we=this.getSize().subtract(p),Le=je(this.project(fe,w),this.project(ne,w)).getSize(),Xe=Je.any3d?this.options.zoomSnap:1,$e=we.x/Le.x,qe=we.y/Le.y,_t=c?Math.max($e,qe):Math.min($e,qe);return w=this.getScaleZoom(_t,w),Xe&&(w=Math.round(w/(Xe/100))*(Xe/100),w=c?Math.ceil(w/Xe)*Xe:Math.floor(w/Xe)*Xe),Math.max(C,Math.min(U,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Ce(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,c){var p=this._getTopLeftPoint(a,c);return new ee(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,c){var p=this.options.crs;return c=c===void 0?this._zoom:c,p.scale(a)/p.scale(c)},getScaleZoom:function(a,c){var p=this.options.crs;c=c===void 0?this._zoom:c;var w=p.zoom(a*p.scale(c));return isNaN(w)?1/0:w},project:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(Ge(a),c)},unproject:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(F(a),c)},layerPointToLatLng:function(a){var c=F(a).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(a){var c=this.project(Ge(a))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Ge(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(Be(a))},distance:function(a,c){return this.options.crs.distance(Ge(a),Ge(c))},containerPointToLayerPoint:function(a){return F(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return F(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var c=this.containerPointToLayerPoint(F(a));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ge(a)))},mouseEventToContainerPoint:function(a){return fi(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var c=this._container=Sa(a);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ht(c,"scroll",this._onScroll,this),this._containerId=A(c)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Je.any3d,bt(a,"leaflet-container"+(Je.touch?" leaflet-touch":"")+(Je.retina?" leaflet-retina":"")+(Je.ielt9?" leaflet-oldie":"")+(Je.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=dn(a,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),yt(this._mapPane,new Ce(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(bt(a.markerPane,"leaflet-zoom-hide"),bt(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,c,p){yt(this._mapPane,new Ce(0,0));var w=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var C=this._zoom!==c;this._moveStart(C,p)._move(a,c)._moveEnd(C),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(a,c){return a&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(a,c,p,w){c===void 0&&(c=this._zoom);var C=this._zoom!==c;return this._zoom=c,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),w?p&&p.pinch&&this.fire("zoom",p):((C||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){yt(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[A(this._container)]=this;var c=a?ot:ht;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Je.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){q(this._resizeRequest),this._resizeRequest=ae(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,c){for(var p=[],w,C=c==="mouseout"||c==="mouseover",U=a.target||a.srcElement,ne=!1;U;){if(w=this._targets[A(U)],w&&(c==="click"||c==="preclick")&&this._draggableMoved(w)){ne=!0;break}if(w&&w.listens(c,!0)&&(C&&!Ur(U,a)||(p.push(w),C))||U===this._container)break;U=U.parentNode}return!p.length&&!ne&&!C&&this.listens(c,!0)&&(p=[this]),p},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var c=a.target||a.srcElement;if(!(!this._loaded||c._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(c))){var p=a.type;p==="mousedown"&&xs(c),this._fireDOMEvent(a,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,c,p){if(a.type==="click"){var w=l({},a);w.type="preclick",this._fireDOMEvent(w,w.type,p)}var C=this._findEventTargets(a,c);if(p){for(var U=[],ne=0;ne<p.length;ne++)p[ne].listens(c,!0)&&U.push(p[ne]);C=U.concat(C)}if(C.length){c==="contextmenu"&&Qt(a);var fe=C[0],we={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var Le=fe.getLatLng&&(!fe._radius||fe._radius<=10);we.containerPoint=Le?this.latLngToContainerPoint(fe.getLatLng()):this.mouseEventToContainerPoint(a),we.layerPoint=this.containerPointToLayerPoint(we.containerPoint),we.latlng=Le?fe.getLatLng():this.layerPointToLatLng(we.layerPoint)}for(ne=0;ne<C.length;ne++)if(C[ne].fire(c,we,!0),we.originalEvent._stopped||C[ne].options.bubblingMouseEvents===!1&&ke(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,c=this._handlers.length;a<c;a++)this._handlers[a].disable()},whenReady:function(a,c){return this._loaded?a.call(c||this,{target:this}):this.on("load",a,c),this},_getMapPanePos:function(){return Yi(this._mapPane)||new Ce(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,c){var p=a&&c!==void 0?this._getNewPixelOrigin(a,c):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,c){var p=this.getSize()._divideBy(2);return this.project(a,c)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,c,p){var w=this._getNewPixelOrigin(p,c);return this.project(a,c)._subtract(w)},_latLngBoundsToNewLayerBounds:function(a,c,p){var w=this._getNewPixelOrigin(p,c);return je([this.project(a.getSouthWest(),c)._subtract(w),this.project(a.getNorthWest(),c)._subtract(w),this.project(a.getSouthEast(),c)._subtract(w),this.project(a.getNorthEast(),c)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,c,p){if(!p)return a;var w=this.project(a,c),C=this.getSize().divideBy(2),U=new ee(w.subtract(C),w.add(C)),ne=this._getBoundsOffset(U,p,c);return Math.abs(ne.x)<=1&&Math.abs(ne.y)<=1?a:this.unproject(w.add(ne),c)},_limitOffset:function(a,c){if(!c)return a;var p=this.getPixelBounds(),w=new ee(p.min.add(a),p.max.add(a));return a.add(this._getBoundsOffset(w,c))},_getBoundsOffset:function(a,c,p){var w=je(this.project(c.getNorthEast(),p),this.project(c.getSouthWest(),p)),C=w.min.subtract(a.min),U=w.max.subtract(a.max),ne=this._rebound(C.x,-U.x),fe=this._rebound(C.y,-U.y);return new Ce(ne,fe)},_rebound:function(a,c){return a+c>0?Math.round(a-c)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(c))},_limitZoom:function(a){var c=this.getMinZoom(),p=this.getMaxZoom(),w=Je.any3d?this.options.zoomSnap:1;return w&&(a=Math.round(a/w)*w),Math.max(c,Math.min(p,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){yn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,c){var p=this._getCenterOffset(a)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,c),!0)},_createAnimProxy:function(){var a=this._proxy=Mt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(c){var p=_r,w=this._proxy.style[p];lr(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),w===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){pn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),c=this.getZoom();lr(this._proxy,this.project(a,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,c,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(c),C=this._getCenterOffset(a)._divideBy(1-1/w);return p.animate!==!0&&!this.getSize().contains(C)?!1:(ae(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(a,c,!0)},this),!0)},_animateZoom:function(a,c,p,w){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=c,bt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:c,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(v(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&yn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Vs(a,c){return new kt(a,c)}var ji=rt.extend({options:{position:"topright"},initialize:function(a){J(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var c=this._map;return c&&c.removeControl(this),this.options.position=a,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var c=this._container=this.onAdd(a),p=this.getPosition(),w=a._controlCorners[p];return bt(c,"leaflet-control"),p.indexOf("bottom")!==-1?w.insertBefore(c,w.firstChild):w.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(pn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Ji=function(a){return new ji(a)};kt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},c="leaflet-",p=this._controlContainer=Mt("div",c+"control-container",this._container);function w(C,U){var ne=c+C+" "+c+U;a[C+U]=Mt("div",ne,p)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)pn(this._controlCorners[a]);pn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var _o=ji.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,c,p,w){return p<w?-1:w<p?1:0}},initialize:function(a,c,p){J(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in a)this._addLayer(a[w],w);for(w in c)this._addLayer(c[w],w,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return ji.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,c){return this._addLayer(a,c),this._map?this._update():this},addOverlay:function(a,c){return this._addLayer(a,c,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var c=this._getLayer(A(a));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){bt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(bt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):yn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return yn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",c=this._container=Mt("div",a),p=this.options.collapsed;c.setAttribute("aria-haspopup",!0),xr(c),br(c);var w=this._section=Mt("section",a+"-list");p&&(this._map.on("click",this.collapse,this),ht(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var C=this._layersLink=Mt("a",a+"-toggle",c);C.href="#",C.title="Layers",C.setAttribute("role","button"),ht(C,{keydown:function(U){U.keyCode===13&&this._expandSafely()},click:function(U){Qt(U),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=Mt("div",a+"-base",w),this._separator=Mt("div",a+"-separator",w),this._overlaysList=Mt("div",a+"-overlays",w),c.appendChild(w)},_getLayer:function(a){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&A(this._layers[c].layer)===a)return this._layers[c]},_addLayer:function(a,c,p){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:c,overlay:p}),this.options.sortLayers&&this._layers.sort(v(function(w,C){return this.options.sortFunction(w.layer,C.layer,w.name,C.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ai(this._baseLayersList),Ai(this._overlaysList),this._layerControlInputs=[];var a,c,p,w,C=0;for(p=0;p<this._layers.length;p++)w=this._layers[p],this._addItem(w),c=c||w.overlay,a=a||!w.overlay,C+=w.overlay?0:1;return this.options.hideSingleBase&&(a=a&&C>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=c&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var c=this._getLayer(A(a.target)),p=c.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;p&&this._map.fire(p,c)},_createRadioElement:function(a,c){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(c?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=p,w.firstChild},_addItem:function(a){var c=document.createElement("label"),p=this._map.hasLayer(a.layer),w;a.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=p):w=this._createRadioElement("leaflet-base-layers_"+A(this),p),this._layerControlInputs.push(w),w.layerId=A(a.layer),ht(w,"click",this._onInputClick,this);var C=document.createElement("span");C.innerHTML=" "+a.name;var U=document.createElement("span");c.appendChild(U),U.appendChild(w),U.appendChild(C);var ne=a.overlay?this._overlaysList:this._baseLayersList;return ne.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,c,p,w=[],C=[];this._handlingClick=!0;for(var U=a.length-1;U>=0;U--)c=a[U],p=this._getLayer(c.layerId).layer,c.checked?w.push(p):c.checked||C.push(p);for(U=0;U<C.length;U++)this._map.hasLayer(C[U])&&this._map.removeLayer(C[U]);for(U=0;U<w.length;U++)this._map.hasLayer(w[U])||this._map.addLayer(w[U]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,c,p,w=this._map.getZoom(),C=a.length-1;C>=0;C--)c=a[C],p=this._getLayer(c.layerId).layer,c.disabled=p.options.minZoom!==void 0&&w<p.options.minZoom||p.options.maxZoom!==void 0&&w>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,ht(a,"click",Qt),this.expand();var c=this;setTimeout(function(){ot(a,"click",Qt),c._preventClick=!1})}}),ll=function(a,c,p){return new _o(a,c,p)},ga=ji.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var c="leaflet-control-zoom",p=Mt("div",c+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,c+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,c+"-out",p,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,c,p,w,C){var U=Mt("a",p,w);return U.innerHTML=a,U.href="#",U.title=c,U.setAttribute("role","button"),U.setAttribute("aria-label",c),xr(U),ht(U,"click",Ri),ht(U,"click",C,this),ht(U,"click",this._refocusOnMap,this),U},_updateDisabled:function(){var a=this._map,c="leaflet-disabled";yn(this._zoomInButton,c),yn(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(bt(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(bt(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});kt.mergeOptions({zoomControl:!0}),kt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ga,this.addControl(this.zoomControl))});var js=function(a){return new ga(a)},Ha=ji.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var c="leaflet-control-scale",p=Mt("div",c),w=this.options;return this._addScales(w,c+"-line",p),a.on(w.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),p},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,c,p){a.metric&&(this._mScale=Mt("div",c,p)),a.imperial&&(this._iScale=Mt("div",c,p))},_update:function(){var a=this._map,c=a.getSize().y/2,p=a.distance(a.containerPointToLatLng([0,c]),a.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(p)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var c=this._getRoundNum(a),p=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,p,c/a)},_updateImperial:function(a){var c=a*3.2808399,p,w,C;c>5280?(p=c/5280,w=this._getRoundNum(p),this._updateScale(this._iScale,w+" mi",w/p)):(C=this._getRoundNum(c),this._updateScale(this._iScale,C+" ft",C/c))},_updateScale:function(a,c,p){a.style.width=Math.round(this.options.maxWidth*p)+"px",a.innerHTML=c},_getRoundNum:function(a){var c=Math.pow(10,(Math.floor(a)+"").length-1),p=a/c;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,c*p}}),ma=function(a){return new Ha(a)},cl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Bs=ji.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Je.inlineSvg?cl+" ":"")+"Leaflet</a>"},initialize:function(a){J(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Mt("div","leaflet-control-attribution"),xr(this._container);for(var c in a._layers)a._layers[c].getAttribution&&this.addAttribution(a._layers[c].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var c in this._attributions)this._attributions[c]&&a.push(c);var p=[];this.options.prefix&&p.push(this.options.prefix),a.length&&p.push(a.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});kt.mergeOptions({attributionControl:!0}),kt.addInitHook(function(){this.options.attributionControl&&new Bs().addTo(this)});var ul=function(a){return new Bs(a)};ji.Layers=_o,ji.Zoom=ga,ji.Scale=Ha,ji.Attribution=Bs,Ji.layers=ll,Ji.zoom=js,Ji.scale=ma,Ji.attribution=ul;var Ci=rt.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ci.addTo=function(a,c){return a.addHandler(c,this),this};var pa={Events:$},Na=Je.touch?"touchstart mousedown":"mousedown",es=le.extend({options:{clickTolerance:3},initialize:function(a,c,p,w){J(this,w),this._element=a,this._dragStartTarget=c||a,this._preventOutline=p},enable:function(){this._enabled||(ht(this._dragStartTarget,Na,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(es._dragging===this&&this.finishDrag(!0),ot(this._dragStartTarget,Na,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!ar(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){es._dragging===this&&this.finishDrag();return}if(!(es._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(es._dragging=this,this._preventOutline&&xs(this._element),vs(),Wi(),!this._moving)){this.fire("down");var c=a.touches?a.touches[0]:a,p=ki(this._element);this._startPoint=new Ce(c.clientX,c.clientY),this._startPos=Yi(this._element),this._parentScale=Lr(p);var w=a.type==="mousedown";ht(document,w?"mousemove":"touchmove",this._onMove,this),ht(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var c=a.touches&&a.touches.length===1?a.touches[0]:a,p=new Ce(c.clientX,c.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,Qt(a),this._moved||(this.fire("dragstart"),this._moved=!0,bt(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),bt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),yt(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){yn(document.body,"leaflet-dragging"),this._lastTarget&&(yn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ot(document,"mousemove touchmove",this._onMove,this),ot(document,"mouseup touchend touchcancel",this._onUp,this),jo(),qr();var c=this._moved&&this._moving;this._moving=!1,es._dragging=!1,c&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Fs(a,c,p){var w,C=[1,4,2,8],U,ne,fe,we,Le,Xe,$e,qe;for(U=0,Xe=a.length;U<Xe;U++)a[U]._code=Tr(a[U],c);for(fe=0;fe<4;fe++){for($e=C[fe],w=[],U=0,Xe=a.length,ne=Xe-1;U<Xe;ne=U++)we=a[U],Le=a[ne],we._code&$e?Le._code&$e||(qe=an(Le,we,$e,c,p),qe._code=Tr(qe,c),w.push(qe)):(Le._code&$e&&(qe=an(Le,we,$e,c,p),qe._code=Tr(qe,c),w.push(qe)),w.push(we));a=w}return a}function Vr(a,c){var p,w,C,U,ne,fe,we,Le,Xe;if(!a||a.length===0)throw new Error("latlngs not passed");f(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var $e=Ge([0,0]),qe=Be(a),_t=qe.getNorthWest().distanceTo(qe.getSouthWest())*qe.getNorthEast().distanceTo(qe.getNorthWest());_t<1700&&($e=vo(a));var fn=a.length,vn=[];for(p=0;p<fn;p++){var Xt=Ge(a[p]);vn.push(c.project(Ge([Xt.lat-$e.lat,Xt.lng-$e.lng])))}for(fe=we=Le=0,p=0,w=fn-1;p<fn;w=p++)C=vn[p],U=vn[w],ne=C.y*U.x-U.y*C.x,we+=(C.x+U.x)*ne,Le+=(C.y+U.y)*ne,fe+=ne*3;fe===0?Xe=vn[0]:Xe=[we/fe,Le/fe];var dr=c.unproject(F(Xe));return Ge([dr.lat+$e.lat,dr.lng+$e.lng])}function vo(a){for(var c=0,p=0,w=0,C=0;C<a.length;C++){var U=Ge(a[C]);c+=U.lat,p+=U.lng,w++}return Ge([c/w,p/w])}var bo={__proto__:null,clipPolygon:Fs,polygonCenter:Vr,centroid:vo};function ri(a,c){if(!c||!a.length)return a.slice();var p=c*c;return a=Gs(a,p),a=Ra(a,p),a}function Hs(a,c,p){return Math.sqrt(qi(a,c,p,!0))}function hr(a,c,p){return qi(a,c,p)}function Ra(a,c){var p=a.length,w=typeof Uint8Array<"u"?Uint8Array:Array,C=new w(p);C[0]=C[p-1]=1,Ga(a,C,c,0,p-1);var U,ne=[];for(U=0;U<p;U++)C[U]&&ne.push(a[U]);return ne}function Ga(a,c,p,w,C){var U=0,ne,fe,we;for(fe=w+1;fe<=C-1;fe++)we=qi(a[fe],a[w],a[C],!0),we>U&&(ne=fe,U=we);U>p&&(c[ne]=1,Ga(a,c,p,w,ne),Ga(a,c,p,ne,C))}function Gs(a,c){for(var p=[a[0]],w=1,C=0,U=a.length;w<U;w++)Fo(a[w],a[C])>c&&(p.push(a[w]),C=w);return C<U-1&&p.push(a[U-1]),p}var gi;function mi(a,c,p,w,C){var U=w?gi:Tr(a,p),ne=Tr(c,p),fe,we,Le;for(gi=ne;;){if(!(U|ne))return[a,c];if(U&ne)return!1;fe=U||ne,we=an(a,c,fe,p,C),Le=Tr(we,p),fe===U?(a=we,U=Le):(c=we,ne=Le)}}function an(a,c,p,w,C){var U=c.x-a.x,ne=c.y-a.y,fe=w.min,we=w.max,Le,Xe;return p&8?(Le=a.x+U*(we.y-a.y)/ne,Xe=we.y):p&4?(Le=a.x+U*(fe.y-a.y)/ne,Xe=fe.y):p&2?(Le=we.x,Xe=a.y+ne*(we.x-a.x)/U):p&1&&(Le=fe.x,Xe=a.y+ne*(fe.x-a.x)/U),new Ce(Le,Xe,C)}function Tr(a,c){var p=0;return a.x<c.min.x?p|=1:a.x>c.max.x&&(p|=2),a.y<c.min.y?p|=4:a.y>c.max.y&&(p|=8),p}function Fo(a,c){var p=c.x-a.x,w=c.y-a.y;return p*p+w*w}function qi(a,c,p,w){var C=c.x,U=c.y,ne=p.x-C,fe=p.y-U,we=ne*ne+fe*fe,Le;return we>0&&(Le=((a.x-C)*ne+(a.y-U)*fe)/we,Le>1?(C=p.x,U=p.y):Le>0&&(C+=ne*Le,U+=fe*Le)),ne=a.x-C,fe=a.y-U,w?ne*ne+fe*fe:new Ce(C,U)}function f(a){return!ie(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function R(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),f(a)}function k(a,c){var p,w,C,U,ne,fe,we,Le;if(!a||a.length===0)throw new Error("latlngs not passed");f(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Xe=Ge([0,0]),$e=Be(a),qe=$e.getNorthWest().distanceTo($e.getSouthWest())*$e.getNorthEast().distanceTo($e.getNorthWest());qe<1700&&(Xe=vo(a));var _t=a.length,fn=[];for(p=0;p<_t;p++){var vn=Ge(a[p]);fn.push(c.project(Ge([vn.lat-Xe.lat,vn.lng-Xe.lng])))}for(p=0,w=0;p<_t-1;p++)w+=fn[p].distanceTo(fn[p+1])/2;if(w===0)Le=fn[0];else for(p=0,U=0;p<_t-1;p++)if(ne=fn[p],fe=fn[p+1],C=ne.distanceTo(fe),U+=C,U>w){we=(U-w)/C,Le=[fe.x-we*(fe.x-ne.x),fe.y-we*(fe.y-ne.y)];break}var Xt=c.unproject(F(Le));return Ge([Xt.lat+Xe.lat,Xt.lng+Xe.lng])}var G={__proto__:null,simplify:ri,pointToSegmentDistance:Hs,closestPointOnSegment:hr,clipSegment:mi,_getEdgeIntersection:an,_getBitCode:Tr,_sqClosestPointOnSegment:qi,isFlat:f,_flat:R,polylineCenter:k},me={project:function(a){return new Ce(a.lng,a.lat)},unproject:function(a){return new Ke(a.y,a.x)},bounds:new ee([-180,-90],[180,90])},Ee={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ee([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var c=Math.PI/180,p=this.R,w=a.lat*c,C=this.R_MINOR/p,U=Math.sqrt(1-C*C),ne=U*Math.sin(w),fe=Math.tan(Math.PI/4-w/2)/Math.pow((1-ne)/(1+ne),U/2);return w=-p*Math.log(Math.max(fe,1e-10)),new Ce(a.lng*c*p,w)},unproject:function(a){for(var c=180/Math.PI,p=this.R,w=this.R_MINOR/p,C=Math.sqrt(1-w*w),U=Math.exp(-a.y/p),ne=Math.PI/2-2*Math.atan(U),fe=0,we=.1,Le;fe<15&&Math.abs(we)>1e-7;fe++)Le=C*Math.sin(ne),Le=Math.pow((1-Le)/(1+Le),C/2),we=Math.PI/2-2*Math.atan(U*Le)-ne,ne+=we;return new Ke(ne*c,a.x*c/p)}},Ze={__proto__:null,LonLat:me,Mercator:Ee,SphericalMercator:pr},zt=l({},Bt,{code:"EPSG:3395",projection:Ee,transformation:(function(){var a=.5/(Math.PI*Ee.R);return pt(a,.5,-a,.5)})()}),$t=l({},Bt,{code:"EPSG:4326",projection:me,transformation:pt(1/180,1,-1/180,.5)}),Wt=l({},gn,{projection:me,transformation:pt(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,c){var p=c.lng-a.lng,w=c.lat-a.lat;return Math.sqrt(p*p+w*w)},infinite:!0});gn.Earth=Bt,gn.EPSG3395=zt,gn.EPSG3857=Os,gn.EPSG900913=xa,gn.EPSG4326=$t,gn.Simple=Wt;var en=le.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[A(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[A(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var c=a.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var p=this.getEvents();c.on(p,this),this.once("remove",function(){c.off(p,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});kt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var c=A(a);return this._layers[c]?this:(this._layers[c]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var c=A(a);return this._layers[c]?(this._loaded&&a.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return A(a)in this._layers},eachLayer:function(a,c){for(var p in this._layers)a.call(c,this._layers[p]);return this},_addLayers:function(a){a=a?ie(a)?a:[a]:[];for(var c=0,p=a.length;c<p;c++)this.addLayer(a[c])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[A(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var c=A(a);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,c=-1/0,p=this._getZoomSpan();for(var w in this._zoomBoundLayers){var C=this._zoomBoundLayers[w].options;a=C.minZoom===void 0?a:Math.min(a,C.minZoom),c=C.maxZoom===void 0?c:Math.max(c,C.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=a===1/0?void 0:a,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var An=en.extend({initialize:function(a,c){J(this,c),this._layers={};var p,w;if(a)for(p=0,w=a.length;p<w;p++)this.addLayer(a[p])},addLayer:function(a){var c=this.getLayerId(a);return this._layers[c]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var c=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(a){var c=typeof a=="number"?a:this.getLayerId(a);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var c=Array.prototype.slice.call(arguments,1),p,w;for(p in this._layers)w=this._layers[p],w[a]&&w[a].apply(w,c);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,c){for(var p in this._layers)a.call(c,this._layers[p]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return A(a)}}),ws=function(a,c){return new An(a,c)},Tn=An.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),An.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),An.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new Me;for(var c in this._layers){var p=this._layers[c];a.extend(p.getBounds?p.getBounds():p.getLatLng())}return a}}),jr=function(a,c){return new Tn(a,c)},Er=rt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){J(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,c){var p=this._getIconUrl(a);if(!p){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(p,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(w,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(a,c){var p=this.options,w=p[c+"Size"];typeof w=="number"&&(w=[w,w]);var C=F(w),U=F(c==="shadow"&&p.shadowAnchor||p.iconAnchor||C&&C.divideBy(2,!0));a.className="leaflet-marker-"+c+" "+(p.className||""),U&&(a.style.marginLeft=-U.x+"px",a.style.marginTop=-U.y+"px"),C&&(a.style.width=C.x+"px",a.style.height=C.y+"px")},_createImg:function(a,c){return c=c||document.createElement("img"),c.src=a,c},_getIconUrl:function(a){return Je.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function xo(a){return new Er(a)}var Za=Er.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Za.imagePath!="string"&&(Za.imagePath=this._detectIconPath()),(this.options.imagePath||Za.imagePath)+Er.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var c=function(p,w,C){var U=w.exec(p);return U&&U[C]};return a=c(a,/^url\((['"])?(.+)\1\)$/,2),a&&c(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Mt("div","leaflet-default-icon-path",document.body),c=dn(a,"background-image")||dn(a,"backgroundImage");if(document.body.removeChild(a),c=this._stripUrl(c),c)return c;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),Ho=Ci.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new es(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),bt(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&yn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var c=this._marker,p=c._map,w=this._marker.options.autoPanSpeed,C=this._marker.options.autoPanPadding,U=Yi(c._icon),ne=p.getPixelBounds(),fe=p.getPixelOrigin(),we=je(ne.min._subtract(fe).add(C),ne.max._subtract(fe).subtract(C));if(!we.contains(U)){var Le=F((Math.max(we.max.x,U.x)-we.max.x)/(ne.max.x-we.max.x)-(Math.min(we.min.x,U.x)-we.min.x)/(ne.min.x-we.min.x),(Math.max(we.max.y,U.y)-we.max.y)/(ne.max.y-we.max.y)-(Math.min(we.min.y,U.y)-we.min.y)/(ne.min.y-we.min.y)).multiplyBy(w);p.panBy(Le,{animate:!1}),this._draggable._newPos._add(Le),this._draggable._startPos._add(Le),yt(c._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=ae(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(q(this._panRequest),this._panRequest=ae(this._adjustPan.bind(this,a)))},_onDrag:function(a){var c=this._marker,p=c._shadow,w=Yi(c._icon),C=c._map.layerPointToLatLng(w);p&&yt(p,w),c._latlng=C,a.latlng=C,a.oldLatLng=this._oldLatLng,c.fire("move",a).fire("drag",a)},_onDragEnd:function(a){q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Ts=en.extend({options:{icon:new Za,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,c){J(this,c),this._latlng=Ge(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var c=this._latlng;return this._latlng=Ge(a),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=a.icon.createIcon(this._icon),w=!1;p!==this._icon&&(this._icon&&this._removeIcon(),w=!0,a.title&&(p.title=a.title),p.tagName==="IMG"&&(p.alt=a.alt||"")),bt(p,c),a.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ht(p,"focus",this._panOnFocus,this);var C=a.icon.createShadow(this._shadow),U=!1;C!==this._shadow&&(this._removeShadow(),U=!0),C&&(bt(C,c),C.alt=""),this._shadow=C,a.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),C&&U&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ot(this._icon,"focus",this._panOnFocus,this),pn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&pn(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&yt(this._icon,a),this._shadow&&yt(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(bt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ho)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ho(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&In(this._icon,a),this._shadow&&In(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var c=this.options.icon.options,p=c.iconSize?F(c.iconSize):F(0,0),w=c.iconAnchor?F(c.iconAnchor):F(0,0);a.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:p.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Zs(a,c){return new Ts(a,c)}var Sr=en.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return J(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Es=Sr.extend({options:{fill:!0,radius:10},initialize:function(a,c){J(this,c),this._latlng=Ge(a),this._radius=this.options.radius},setLatLng:function(a){var c=this._latlng;return this._latlng=Ge(a),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var c=a&&a.radius||this._radius;return Sr.prototype.setStyle.call(this,a),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,c=this._radiusY||a,p=this._clickTolerance(),w=[a+p,c+p];this._pxBounds=new ee(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function wo(a,c){return new Es(a,c)}var To=Es.extend({initialize:function(a,c,p){if(typeof c=="number"&&(c=l({},p,{radius:c})),J(this,c),this._latlng=Ge(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new Me(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Sr.prototype.setStyle,_project:function(){var a=this._latlng.lng,c=this._latlng.lat,p=this._map,w=p.options.crs;if(w.distance===Bt.distance){var C=Math.PI/180,U=this._mRadius/Bt.R/C,ne=p.project([c+U,a]),fe=p.project([c-U,a]),we=ne.add(fe).divideBy(2),Le=p.unproject(we).lat,Xe=Math.acos((Math.cos(U*C)-Math.sin(c*C)*Math.sin(Le*C))/(Math.cos(c*C)*Math.cos(Le*C)))/C;(isNaN(Xe)||Xe===0)&&(Xe=U/Math.cos(Math.PI/180*c)),this._point=we.subtract(p.getPixelOrigin()),this._radius=isNaN(Xe)?0:we.x-p.project([Le,a-Xe]).x,this._radiusY=we.y-ne.y}else{var $e=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint($e).x}this._updateBounds()}});function Ul(a,c,p){return new To(a,c,p)}var Br=Sr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,c){J(this,c),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var c=1/0,p=null,w=qi,C,U,ne=0,fe=this._parts.length;ne<fe;ne++)for(var we=this._parts[ne],Le=1,Xe=we.length;Le<Xe;Le++){C=we[Le-1],U=we[Le];var $e=w(a,C,U,!0);$e<c&&(c=$e,p=w(a,C,U))}return p&&(p.distance=Math.sqrt(c)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return k(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,c){return c=c||this._defaultShape(),a=Ge(a),c.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new Me,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return f(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var c=[],p=f(a),w=0,C=a.length;w<C;w++)p?(c[w]=Ge(a[w]),this._bounds.extend(c[w])):c[w]=this._convertLatLngs(a[w]);return c},_project:function(){var a=new ee;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),c=new Ce(a,a);this._rawPxBounds&&(this._pxBounds=new ee([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(a,c,p){var w=a[0]instanceof Ke,C=a.length,U,ne;if(w){for(ne=[],U=0;U<C;U++)ne[U]=this._map.latLngToLayerPoint(a[U]),p.extend(ne[U]);c.push(ne)}else for(U=0;U<C;U++)this._projectLatlngs(a[U],c,p)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,p,w,C,U,ne,fe,we;for(p=0,C=0,U=this._rings.length;p<U;p++)for(we=this._rings[p],w=0,ne=we.length;w<ne-1;w++)fe=mi(we[w],we[w+1],a,w,!0),fe&&(c[C]=c[C]||[],c[C].push(fe[0]),(fe[1]!==we[w+1]||w===ne-2)&&(c[C].push(fe[1]),C++))}},_simplifyPoints:function(){for(var a=this._parts,c=this.options.smoothFactor,p=0,w=a.length;p<w;p++)a[p]=ri(a[p],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,c){var p,w,C,U,ne,fe,we=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(p=0,U=this._parts.length;p<U;p++)for(fe=this._parts[p],w=0,ne=fe.length,C=ne-1;w<ne;C=w++)if(!(!c&&w===0)&&Hs(a,fe[C],fe[w])<=we)return!0;return!1}});function Ya(a,c){return new Br(a,c)}Br._flat=R;var Eo=Br.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Vr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var c=Br.prototype._convertLatLngs.call(this,a),p=c.length;return p>=2&&c[0]instanceof Ke&&c[0].equals(c[p-1])&&c.pop(),c},_setLatLngs:function(a){Br.prototype._setLatLngs.call(this,a),f(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return f(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,c=this.options.weight,p=new Ce(c,c);if(a=new ee(a.min.subtract(p),a.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,C=this._rings.length,U;w<C;w++)U=Fs(this._rings[w],a,!0),U.length&&this._parts.push(U)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var c=!1,p,w,C,U,ne,fe,we,Le;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(U=0,we=this._parts.length;U<we;U++)for(p=this._parts[U],ne=0,Le=p.length,fe=Le-1;ne<Le;fe=ne++)w=p[ne],C=p[fe],w.y>a.y!=C.y>a.y&&a.x<(C.x-w.x)*(a.y-w.y)/(C.y-w.y)+w.x&&(c=!c);return c||Br.prototype._containsPoint.call(this,a,!0)}});function $i(a,c){return new Eo(a,c)}var Ar=Tn.extend({initialize:function(a,c){J(this,c),this._layers={},a&&this.addData(a)},addData:function(a){var c=ie(a)?a:a.features,p,w,C;if(c){for(p=0,w=c.length;p<w;p++)C=c[p],(C.geometries||C.geometry||C.features||C.coordinates)&&this.addData(C);return this}var U=this.options;if(U.filter&&!U.filter(a))return this;var ne=ts(a,U);return ne?(ne.feature=oe(a),ne.defaultOptions=ne.options,this.resetStyle(ne),U.onEachFeature&&U.onEachFeature(a,ne),this.addLayer(ne)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=l({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(c){this._setLayerStyle(c,a)},this)},_setLayerStyle:function(a,c){a.setStyle&&(typeof c=="function"&&(c=c(a.feature)),a.setStyle(c))}});function ts(a,c){var p=a.type==="Feature"?a.geometry:a,w=p?p.coordinates:null,C=[],U=c&&c.pointToLayer,ne=c&&c.coordsToLatLng||b,fe,we,Le,Xe;if(!w&&!p)return null;switch(p.type){case"Point":return fe=ne(w),m(U,a,fe,c);case"MultiPoint":for(Le=0,Xe=w.length;Le<Xe;Le++)fe=ne(w[Le]),C.push(m(U,a,fe,c));return new Tn(C);case"LineString":case"MultiLineString":return we=S(w,p.type==="LineString"?0:1,ne),new Br(we,c);case"Polygon":case"MultiPolygon":return we=S(w,p.type==="Polygon"?1:2,ne),new Eo(we,c);case"GeometryCollection":for(Le=0,Xe=p.geometries.length;Le<Xe;Le++){var $e=ts({geometry:p.geometries[Le],type:"Feature",properties:a.properties},c);$e&&C.push($e)}return new Tn(C);case"FeatureCollection":for(Le=0,Xe=p.features.length;Le<Xe;Le++){var qe=ts(p.features[Le],c);qe&&C.push(qe)}return new Tn(C);default:throw new Error("Invalid GeoJSON object.")}}function m(a,c,p,w){return a?a(c,p):new Ts(p,w&&w.markersInheritOptions&&w)}function b(a){return new Ke(a[1],a[0],a[2])}function S(a,c,p){for(var w=[],C=0,U=a.length,ne;C<U;C++)ne=c?S(a[C],c-1,p):(p||b)(a[C]),w.push(ne);return w}function I(a,c){return a=Ge(a),a.alt!==void 0?[V(a.lng,c),V(a.lat,c),V(a.alt,c)]:[V(a.lng,c),V(a.lat,c)]}function z(a,c,p,w){for(var C=[],U=0,ne=a.length;U<ne;U++)C.push(c?z(a[U],f(a[U])?0:c-1,p,w):I(a[U],w));return!c&&p&&C.length>0&&C.push(C[0].slice()),C}function Z(a,c){return a.feature?l({},a.feature,{geometry:c}):oe(c)}function oe(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Ne={toGeoJSON:function(a){return Z(this,{type:"Point",coordinates:I(this.getLatLng(),a)})}};Ts.include(Ne),To.include(Ne),Es.include(Ne),Br.include({toGeoJSON:function(a){var c=!f(this._latlngs),p=z(this._latlngs,c?1:0,!1,a);return Z(this,{type:(c?"Multi":"")+"LineString",coordinates:p})}}),Eo.include({toGeoJSON:function(a){var c=!f(this._latlngs),p=c&&!f(this._latlngs[0]),w=z(this._latlngs,p?2:c?1:0,!0,a);return c||(w=[w]),Z(this,{type:(p?"Multi":"")+"Polygon",coordinates:w})}}),An.include({toMultiPoint:function(a){var c=[];return this.eachLayer(function(p){c.push(p.toGeoJSON(a).geometry.coordinates)}),Z(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(a){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(a);var p=c==="GeometryCollection",w=[];return this.eachLayer(function(C){if(C.toGeoJSON){var U=C.toGeoJSON(a);if(p)w.push(U.geometry);else{var ne=oe(U);ne.type==="FeatureCollection"?w.push.apply(w,ne.features):w.push(ne)}}}),p?Z(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function ye(a,c){return new Ar(a,c)}var Ae=ye,We=en.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,c,p){this._url=a,this._bounds=Be(c),J(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(bt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){pn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Ni(this._image),this},bringToBack:function(){return this._map&&Us(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=Be(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",c=this._image=a?this._url:Mt("img");if(bt(c,"leaflet-image-layer"),this._zoomAnimated&&bt(c,"leaflet-zoom-animated"),this.options.className&&bt(c,this.options.className),c.onselectstart=j,c.onmousemove=j,c.onload=v(this.fire,this,"load"),c.onerror=v(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(a){var c=this._map.getZoomScale(a.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;lr(this._image,p,c)},_reset:function(){var a=this._image,c=new ee(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=c.getSize();yt(a,c.min),a.style.width=p.x+"px",a.style.height=p.y+"px"},_updateOpacity:function(){In(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Fe=function(a,c,p){return new We(a,c,p)},it=We.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",c=this._image=a?this._url:Mt("video");if(bt(c,"leaflet-image-layer"),this._zoomAnimated&&bt(c,"leaflet-zoom-animated"),this.options.className&&bt(c,this.options.className),c.onselectstart=j,c.onmousemove=j,c.onloadeddata=v(this.fire,this,"load"),a){for(var p=c.getElementsByTagName("source"),w=[],C=0;C<p.length;C++)w.push(p[C].src);this._url=p.length>0?w:[c.src];return}ie(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var U=0;U<this._url.length;U++){var ne=Mt("source");ne.src=this._url[U],c.appendChild(ne)}}});function dt(a,c,p){return new it(a,c,p)}var ct=We.extend({_initImage:function(){var a=this._image=this._url;bt(a,"leaflet-image-layer"),this._zoomAnimated&&bt(a,"leaflet-zoom-animated"),this.options.className&&bt(a,this.options.className),a.onselectstart=j,a.onmousemove=j}});function wt(a,c,p){return new ct(a,c,p)}var Ut=en.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,c){a&&(a instanceof Ke||ie(a))?(this._latlng=Ge(a),J(this,c)):(J(this,a),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&In(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&In(this._container,1),this.bringToFront(),this.options.interactive&&(bt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(In(this._container,0),this._removeTimeout=setTimeout(v(pn,void 0,this._container),200)):pn(this._container),this.options.interactive&&(yn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Ge(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ni(this._container),this},bringToBack:function(){return this._map&&Us(this._container),this},_prepareOpen:function(a){var c=this._source;if(!c._map)return!1;if(c instanceof Tn){c=null;var p=this._source._layers;for(var w in p)if(p[w]._map){c=p[w];break}if(!c)return!1;this._source=c}if(!a)if(c.getCenter)a=c.getCenter();else if(c.getLatLng)a=c.getLatLng();else if(c.getBounds)a=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")a.innerHTML=c;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),c=F(this.options.offset),p=this._getAnchor();this._zoomAnimated?yt(this._container,a.add(p)):c=c.add(a).add(p);var w=this._containerBottom=-c.y,C=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=w+"px",this._container.style.left=C+"px"}},_getAnchor:function(){return[0,0]}});kt.include({_initOverlay:function(a,c,p,w){var C=c;return C instanceof a||(C=new a(w).setContent(c)),p&&C.setLatLng(p),C}}),en.include({_initOverlay:function(a,c,p,w){var C=p;return C instanceof a?(J(C,w),C._source=this):(C=c&&!w?c:new a(w,this),C.setContent(p)),C}});var nn=Ut.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Ut.prototype.openOn.call(this,a)},onAdd:function(a){Ut.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Sr||this._source.on("preclick",Pi))},onRemove:function(a){Ut.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Sr||this._source.off("preclick",Pi))},getEvents:function(){var a=Ut.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",c=this._container=Mt("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=Mt("div",a+"-content-wrapper",c);if(this._contentNode=Mt("div",a+"-content",p),xr(c),br(this._contentNode),ht(c,"contextmenu",Pi),this._tipContainer=Mt("div",a+"-tip-container",c),this._tip=Mt("div",a+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=Mt("a",a+"-close-button",c);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',ht(w,"click",function(C){Qt(C),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,c=a.style;c.width="",c.whiteSpace="nowrap";var p=a.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),c.width=p+1+"px",c.whiteSpace="",c.height="";var w=a.offsetHeight,C=this.options.maxHeight,U="leaflet-popup-scrolled";C&&w>C?(c.height=C+"px",bt(a,U)):yn(a,U),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),p=this._getAnchor();yt(this._container,c.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,c=parseInt(dn(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+c,w=this._containerWidth,C=new Ce(this._containerLeft,-p-this._containerBottom);C._add(Yi(this._container));var U=a.layerPointToContainerPoint(C),ne=F(this.options.autoPanPadding),fe=F(this.options.autoPanPaddingTopLeft||ne),we=F(this.options.autoPanPaddingBottomRight||ne),Le=a.getSize(),Xe=0,$e=0;U.x+w+we.x>Le.x&&(Xe=U.x+w-Le.x+we.x),U.x-Xe-fe.x<0&&(Xe=U.x-fe.x),U.y+p+we.y>Le.y&&($e=U.y+p-Le.y+we.y),U.y-$e-fe.y<0&&($e=U.y-fe.y),(Xe||$e)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([Xe,$e]))}},_getAnchor:function(){return F(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),_n=function(a,c){return new nn(a,c)};kt.mergeOptions({closePopupOnClick:!0}),kt.include({openPopup:function(a,c,p){return this._initOverlay(nn,a,c,p).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),en.include({bindPopup:function(a,c){return this._popup=this._initOverlay(nn,this._popup,a,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Tn||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Ri(a);var c=a.layer||a.target;if(this._popup._source===c&&!(c instanceof Sr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=c,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var En=Ut.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Ut.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Ut.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Ut.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",c=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Mt("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+A(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var c,p,w=this._map,C=this._container,U=w.latLngToContainerPoint(w.getCenter()),ne=w.layerPointToContainerPoint(a),fe=this.options.direction,we=C.offsetWidth,Le=C.offsetHeight,Xe=F(this.options.offset),$e=this._getAnchor();fe==="top"?(c=we/2,p=Le):fe==="bottom"?(c=we/2,p=0):fe==="center"?(c=we/2,p=Le/2):fe==="right"?(c=0,p=Le/2):fe==="left"?(c=we,p=Le/2):ne.x<U.x?(fe="right",c=0,p=Le/2):(fe="left",c=we+(Xe.x+$e.x)*2,p=Le/2),a=a.subtract(F(c,p,!0)).add(Xe).add($e),yn(C,"leaflet-tooltip-right"),yn(C,"leaflet-tooltip-left"),yn(C,"leaflet-tooltip-top"),yn(C,"leaflet-tooltip-bottom"),bt(C,"leaflet-tooltip-"+fe),yt(C,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&In(this._container,a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(c)},_getAnchor:function(){return F(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ut=function(a,c){return new En(a,c)};kt.include({openTooltip:function(a,c,p){return this._initOverlay(En,a,c,p).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),en.include({bindTooltip:function(a,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(En,this._tooltip,a,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var c=a?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[c](p),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Tn||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&(ht(c,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),ht(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var c=a.latlng,p,w;this._tooltip.options.sticky&&a.originalEvent&&(p=this._map.mouseEventToContainerPoint(a.originalEvent),w=this._map.containerPointToLayerPoint(p),c=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(c)}});var Fn=Er.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var c=a&&a.tagName==="DIV"?a:document.createElement("div"),p=this.options;if(p.html instanceof Element?(Ai(c),c.appendChild(p.html)):c.innerHTML=p.html!==!1?p.html:"",p.bgPos){var w=F(p.bgPos);c.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function Vt(a){return new Fn(a)}Er.Default=Za;var zn=en.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Je.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){J(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),pn(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ni(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Us(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=N(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof Ce?a:new Ce(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var c=this.getPane().children,p=-a(-1/0,1/0),w=0,C=c.length,U;w<C;w++)U=c[w].style.zIndex,c[w]!==this._container&&U&&(p=a(p,+U));isFinite(p)&&(this.options.zIndex=p+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Je.ielt9){In(this._container,this.options.opacity);var a=+new Date,c=!1,p=!1;for(var w in this._tiles){var C=this._tiles[w];if(!(!C.current||!C.loaded)){var U=Math.min(1,(a-C.loaded)/200);In(C.el,U),U<1?c=!0:(C.active?p=!0:this._onOpaqueTile(C),C.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),c&&(q(this._fadeFrame),this._fadeFrame=ae(this._updateOpacity,this))}},_onOpaqueTile:j,_initContainer:function(){this._container||(this._container=Mt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,c=this.options.maxZoom;if(a!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===a?(this._levels[p].el.style.zIndex=c-Math.abs(a-p),this._onUpdateLevel(p)):(pn(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var w=this._levels[a],C=this._map;return w||(w=this._levels[a]={},w.el=Mt("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=c,w.origin=C.project(C.unproject(C.getPixelOrigin()),a).round(),w.zoom=a,this._setZoomTransform(w,C.getCenter(),C.getZoom()),j(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:j,_onRemoveLevel:j,_onCreateLevel:j,_pruneTiles:function(){if(this._map){var a,c,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)c=this._tiles[a],c.retain=c.current;for(a in this._tiles)if(c=this._tiles[a],c.current&&!c.active){var w=c.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var c in this._tiles)this._tiles[c].coords.z===a&&this._removeTile(c)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)pn(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,c,p,w){var C=Math.floor(a/2),U=Math.floor(c/2),ne=p-1,fe=new Ce(+C,+U);fe.z=+ne;var we=this._tileCoordsToKey(fe),Le=this._tiles[we];return Le&&Le.active?(Le.retain=!0,!0):(Le&&Le.loaded&&(Le.retain=!0),ne>w?this._retainParent(C,U,ne,w):!1)},_retainChildren:function(a,c,p,w){for(var C=2*a;C<2*a+2;C++)for(var U=2*c;U<2*c+2;U++){var ne=new Ce(C,U);ne.z=p+1;var fe=this._tileCoordsToKey(ne),we=this._tiles[fe];if(we&&we.active){we.retain=!0;continue}else we&&we.loaded&&(we.retain=!0);p+1<w&&this._retainChildren(C,U,p+1,w)}},_resetView:function(a){var c=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var c=this.options;return c.minNativeZoom!==void 0&&a<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<a?c.maxNativeZoom:a},_setView:function(a,c,p,w){var C=Math.round(c);this.options.maxZoom!==void 0&&C>this.options.maxZoom||this.options.minZoom!==void 0&&C<this.options.minZoom?C=void 0:C=this._clampZoom(C);var U=this.options.updateWhenZooming&&C!==this._tileZoom;(!w||U)&&(this._tileZoom=C,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),C!==void 0&&this._update(a),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(a,c)},_setZoomTransforms:function(a,c){for(var p in this._levels)this._setZoomTransform(this._levels[p],a,c)},_setZoomTransform:function(a,c,p){var w=this._map.getZoomScale(p,a.zoom),C=a.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(c,p)).round();Je.any3d?lr(a.el,C,w):yt(a.el,C)},_resetGrid:function(){var a=this._map,c=a.options.crs,p=this._tileSize=this.getTileSize(),w=this._tileZoom,C=this._map.getPixelWorldBounds(this._tileZoom);C&&(this._globalTileRange=this._pxBoundsToTileRange(C)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,c.wrapLng[0]],w).x/p.x),Math.ceil(a.project([0,c.wrapLng[1]],w).x/p.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([c.wrapLat[0],0],w).y/p.x),Math.ceil(a.project([c.wrapLat[1],0],w).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var c=this._map,p=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),w=c.getZoomScale(p,this._tileZoom),C=c.project(a,this._tileZoom).floor(),U=c.getSize().divideBy(w*2);return new ee(C.subtract(U),C.add(U))},_update:function(a){var c=this._map;if(c){var p=this._clampZoom(c.getZoom());if(a===void 0&&(a=c.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(a),C=this._pxBoundsToTileRange(w),U=C.getCenter(),ne=[],fe=this.options.keepBuffer,we=new ee(C.getBottomLeft().subtract([fe,-fe]),C.getTopRight().add([fe,-fe]));if(!(isFinite(C.min.x)&&isFinite(C.min.y)&&isFinite(C.max.x)&&isFinite(C.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Le in this._tiles){var Xe=this._tiles[Le].coords;(Xe.z!==this._tileZoom||!we.contains(new Ce(Xe.x,Xe.y)))&&(this._tiles[Le].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(a,p);return}for(var $e=C.min.y;$e<=C.max.y;$e++)for(var qe=C.min.x;qe<=C.max.x;qe++){var _t=new Ce(qe,$e);if(_t.z=this._tileZoom,!!this._isValidTile(_t)){var fn=this._tiles[this._tileCoordsToKey(_t)];fn?fn.current=!0:ne.push(_t)}}if(ne.sort(function(Xt,dr){return Xt.distanceTo(U)-dr.distanceTo(U)}),ne.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var vn=document.createDocumentFragment();for(qe=0;qe<ne.length;qe++)this._addTile(ne[qe],vn);this._level.el.appendChild(vn)}}}},_isValidTile:function(a){var c=this._map.options.crs;if(!c.infinite){var p=this._globalTileRange;if(!c.wrapLng&&(a.x<p.min.x||a.x>p.max.x)||!c.wrapLat&&(a.y<p.min.y||a.y>p.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(a);return Be(this.options.bounds).overlaps(w)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var c=this._map,p=this.getTileSize(),w=a.scaleBy(p),C=w.add(p),U=c.unproject(w,a.z),ne=c.unproject(C,a.z);return[U,ne]},_tileCoordsToBounds:function(a){var c=this._tileCoordsToNwSe(a),p=new Me(c[0],c[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var c=a.split(":"),p=new Ce(+c[0],+c[1]);return p.z=+c[2],p},_removeTile:function(a){var c=this._tiles[a];c&&(pn(c.el),delete this._tiles[a],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){bt(a,"leaflet-tile");var c=this.getTileSize();a.style.width=c.x+"px",a.style.height=c.y+"px",a.onselectstart=j,a.onmousemove=j,Je.ielt9&&this.options.opacity<1&&In(a,this.options.opacity)},_addTile:function(a,c){var p=this._getTilePos(a),w=this._tileCoordsToKey(a),C=this.createTile(this._wrapCoords(a),v(this._tileReady,this,a));this._initTile(C),this.createTile.length<2&&ae(v(this._tileReady,this,a,null,C)),yt(C,p),this._tiles[w]={el:C,coords:a,current:!0},c.appendChild(C),this.fire("tileloadstart",{tile:C,coords:a})},_tileReady:function(a,c,p){c&&this.fire("tileerror",{error:c,tile:p,coords:a});var w=this._tileCoordsToKey(a);p=this._tiles[w],p&&(p.loaded=+new Date,this._map._fadeAnimated?(In(p.el,0),q(this._fadeFrame),this._fadeFrame=ae(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),c||(bt(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Je.ielt9||!this._map._fadeAnimated?ae(this._pruneTiles,this):setTimeout(v(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var c=new Ce(this._wrapX?M(a.x,this._wrapX):a.x,this._wrapY?M(a.y,this._wrapY):a.y);return c.z=a.z,c},_pxBoundsToTileRange:function(a){var c=this.getTileSize();return new ee(a.min.unscaleBy(c).floor(),a.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Nn(a){return new zn(a)}var mt=zn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,c){this._url=a,c=J(this,c),c.detectRetina&&Je.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,c){return this._url===a&&c===void 0&&(c=!0),this._url=a,c||this.redraw(),this},createTile:function(a,c){var p=document.createElement("img");return ht(p,"load",v(this._tileOnLoad,this,c,p)),ht(p,"error",v(this._tileOnError,this,c,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(a),p},getTileUrl:function(a){var c={r:Je.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-a.y;this.options.tms&&(c.y=p),c["-y"]=p}return Re(this._url,l(c,this.options))},_tileOnLoad:function(a,c){Je.ielt9?setTimeout(v(a,this,null,c),0):a(null,c)},_tileOnError:function(a,c,p){var w=this.options.errorTileUrl;w&&c.getAttribute("src")!==w&&(c.src=w),a(p,c)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,c=this.options.maxZoom,p=this.options.zoomReverse,w=this.options.zoomOffset;return p&&(a=c-a),a+w},_getSubdomain:function(a){var c=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var a,c;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(c=this._tiles[a].el,c.onload=j,c.onerror=j,!c.complete)){c.src=Ye;var p=this._tiles[a].coords;pn(c),delete this._tiles[a],this.fire("tileabort",{tile:c,coords:p})}},_removeTile:function(a){var c=this._tiles[a];if(c)return c.el.setAttribute("src",Ye),zn.prototype._removeTile.call(this,a)},_tileReady:function(a,c,p){if(!(!this._map||p&&p.getAttribute("src")===Ye))return zn.prototype._tileReady.call(this,a,c,p)}});function on(a,c){return new mt(a,c)}var pi=mt.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,c){this._url=a;var p=l({},this.defaultWmsParams);for(var w in c)w in this.options||(p[w]=c[w]);c=J(this,c);var C=c.detectRetina&&Je.retina?2:1,U=this.getTileSize();p.width=U.x*C,p.height=U.y*C,this.wmsParams=p},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,mt.prototype.onAdd.call(this,a)},getTileUrl:function(a){var c=this._tileCoordsToNwSe(a),p=this._crs,w=je(p.project(c[0]),p.project(c[1])),C=w.min,U=w.max,ne=(this._wmsVersion>=1.3&&this._crs===$t?[C.y,C.x,U.y,U.x]:[C.x,C.y,U.x,U.y]).join(","),fe=mt.prototype.getTileUrl.call(this,a);return fe+K(this.wmsParams,fe,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ne},setParams:function(a,c){return l(this.wmsParams,a),c||this.redraw(),this}});function Qn(a,c){return new pi(a,c)}mt.WMS=pi,on.wms=Qn;var Ii=en.extend({options:{padding:.1},initialize:function(a){J(this,a),A(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),bt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,c){var p=this._map.getZoomScale(c,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),C=this._map.project(this._center,c),U=w.multiplyBy(-p).add(C).subtract(this._map._getNewPixelOrigin(a,c));Je.any3d?lr(this._container,U,p):yt(this._container,U)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,c=this._map.getSize(),p=this._map.containerPointToLayerPoint(c.multiplyBy(-a)).round();this._bounds=new ee(p,p.add(c.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),er=Ii.extend({options:{tolerance:0},getEvents:function(){var a=Ii.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ii.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");ht(a,"mousemove",this._onMouseMove,this),ht(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ht(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){q(this._redrawRequest),delete this._ctx,pn(this._container),ot(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var c in this._layers)a=this._layers[c],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ii.prototype._update.call(this);var a=this._bounds,c=this._container,p=a.getSize(),w=Je.retina?2:1;yt(c,a.min),c.width=w*p.x,c.height=w*p.y,c.style.width=p.x+"px",c.style.height=p.y+"px",Je.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Ii.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[A(a)]=a;var c=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var c=a._order,p=c.next,w=c.prev;p?p.prev=w:this._drawLast=w,w?w.next=p:this._drawFirst=p,delete a._order,delete this._layers[A(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var c=a.options.dashArray.split(/[, ]+/),p=[],w,C;for(C=0;C<c.length;C++){if(w=Number(c[C]),isNaN(w))return;p.push(w)}a.options._dashArray=p}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||ae(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var c=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ee,this._redrawBounds.extend(a._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(a._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var c=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,c=this._redrawBounds;if(this._ctx.save(),c){var p=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)a=w.layer,(!c||a._pxBounds&&a._pxBounds.intersects(c))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,c){if(this._drawing){var p,w,C,U,ne=a._parts,fe=ne.length,we=this._ctx;if(fe){for(we.beginPath(),p=0;p<fe;p++){for(w=0,C=ne[p].length;w<C;w++)U=ne[p][w],we[w?"lineTo":"moveTo"](U.x,U.y);c&&we.closePath()}this._fillStroke(we,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var c=a._point,p=this._ctx,w=Math.max(Math.round(a._radius),1),C=(Math.max(Math.round(a._radiusY),1)||w)/w;C!==1&&(p.save(),p.scale(1,C)),p.beginPath(),p.arc(c.x,c.y/C,w,0,Math.PI*2,!1),C!==1&&p.restore(),this._fillStroke(p,a)}},_fillStroke:function(a,c){var p=c.options;p.fill&&(a.globalAlpha=p.fillOpacity,a.fillStyle=p.fillColor||p.color,a.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(a.setLineDash&&a.setLineDash(c.options&&c.options._dashArray||[]),a.globalAlpha=p.opacity,a.lineWidth=p.weight,a.strokeStyle=p.color,a.lineCap=p.lineCap,a.lineJoin=p.lineJoin,a.stroke())},_onClick:function(a){for(var c=this._map.mouseEventToLayerPoint(a),p,w,C=this._drawFirst;C;C=C.next)p=C.layer,p.options.interactive&&p._containsPoint(c)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(p))&&(w=p);this._fireEvent(w?[w]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,c)}},_handleMouseOut:function(a){var c=this._hoveredLayer;c&&(yn(this._container,"leaflet-interactive"),this._fireEvent([c],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,c){if(!this._mouseHoverThrottled){for(var p,w,C=this._drawFirst;C;C=C.next)p=C.layer,p.options.interactive&&p._containsPoint(c)&&(w=p);w!==this._hoveredLayer&&(this._handleMouseOut(a),w&&(bt(this._container,"leaflet-interactive"),this._fireEvent([w],a,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(v(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,c,p){this._map._fireDOMEvent(c,p||c.type,a)},_bringToFront:function(a){var c=a._order;if(c){var p=c.next,w=c.prev;if(p)p.prev=w;else return;w?w.next=p:p&&(this._drawFirst=p),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(a)}},_bringToBack:function(a){var c=a._order;if(c){var p=c.next,w=c.prev;if(w)w.next=p;else return;p?p.prev=w:w&&(this._drawLast=w),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(a)}}});function si(a){return Je.canvas?new er(a):null}var ai=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),oi={_initContainer:function(){this._container=Mt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ii.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var c=a._container=ai("shape");bt(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",a._path=ai("path"),c.appendChild(a._path),this._updateStyle(a),this._layers[A(a)]=a},_addPath:function(a){var c=a._container;this._container.appendChild(c),a.options.interactive&&a.addInteractiveTarget(c)},_removePath:function(a){var c=a._container;pn(c),a.removeInteractiveTarget(c),delete this._layers[A(a)]},_updateStyle:function(a){var c=a._stroke,p=a._fill,w=a.options,C=a._container;C.stroked=!!w.stroke,C.filled=!!w.fill,w.stroke?(c||(c=a._stroke=ai("stroke")),C.appendChild(c),c.weight=w.weight+"px",c.color=w.color,c.opacity=w.opacity,w.dashArray?c.dashStyle=ie(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=w.lineCap.replace("butt","flat"),c.joinstyle=w.lineJoin):c&&(C.removeChild(c),a._stroke=null),w.fill?(p||(p=a._fill=ai("fill")),C.appendChild(p),p.color=w.fillColor||w.color,p.opacity=w.fillOpacity):p&&(C.removeChild(p),a._fill=null)},_updateCircle:function(a){var c=a._point.round(),p=Math.round(a._radius),w=Math.round(a._radiusY||p);this._setPath(a,a._empty()?"M0 0":"AL "+c.x+","+c.y+" "+p+","+w+" 0,"+65535*360)},_setPath:function(a,c){a._path.v=c},_bringToFront:function(a){Ni(a._container)},_bringToBack:function(a){Us(a._container)}},Fr=Je.vml?ai:wa,Kn=Ii.extend({_initContainer:function(){this._container=Fr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Fr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){pn(this._container),ot(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ii.prototype._update.call(this);var a=this._bounds,c=a.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,p.setAttribute("width",c.x),p.setAttribute("height",c.y)),yt(p,a.min),p.setAttribute("viewBox",[a.min.x,a.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(a){var c=a._path=Fr("path");a.options.className&&bt(c,a.options.className),a.options.interactive&&bt(c,"leaflet-interactive"),this._updateStyle(a),this._layers[A(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){pn(a._path),a.removeInteractiveTarget(a._path),delete this._layers[A(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var c=a._path,p=a.options;c&&(p.stroke?(c.setAttribute("stroke",p.color),c.setAttribute("stroke-opacity",p.opacity),c.setAttribute("stroke-width",p.weight),c.setAttribute("stroke-linecap",p.lineCap),c.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?c.setAttribute("stroke-dasharray",p.dashArray):c.removeAttribute("stroke-dasharray"),p.dashOffset?c.setAttribute("stroke-dashoffset",p.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),p.fill?(c.setAttribute("fill",p.fillColor||p.color),c.setAttribute("fill-opacity",p.fillOpacity),c.setAttribute("fill-rule",p.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(a,c){this._setPath(a,Dn(a._parts,c))},_updateCircle:function(a){var c=a._point,p=Math.max(Math.round(a._radius),1),w=Math.max(Math.round(a._radiusY),1)||p,C="a"+p+","+w+" 0 1,0 ",U=a._empty()?"M0 0":"M"+(c.x-p)+","+c.y+C+p*2+",0 "+C+-p*2+",0 ";this._setPath(a,U)},_setPath:function(a,c){a._path.setAttribute("d",c)},_bringToFront:function(a){Ni(a._path)},_bringToBack:function(a){Us(a._path)}});Je.vml&&Kn.include(oi);function ns(a){return Je.svg||Je.vml?new Kn(a):null}kt.include({getRenderer:function(a){var c=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var c=this._paneRenderers[a];return c===void 0&&(c=this._createRenderer({pane:a}),this._paneRenderers[a]=c),c},_createRenderer:function(a){return this.options.preferCanvas&&si(a)||ns(a)}});var Ys=Eo.extend({initialize:function(a,c){Eo.prototype.initialize.call(this,this._boundsToLatLngs(a),c)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=Be(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function yi(a,c){return new Ys(a,c)}Kn.create=Fr,Kn.pointsToPath=Dn,Ar.geometryToLayer=ts,Ar.coordsToLatLng=b,Ar.coordsToLatLngs=S,Ar.latLngToCoords=I,Ar.latLngsToCoords=z,Ar.getFeature=Z,Ar.asFeature=oe,kt.mergeOptions({boxZoom:!0});var Ws=Ci.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){ht(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ot(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){pn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Wi(),vs(),this._startPoint=this._map.mouseEventToContainerPoint(a),ht(document,{contextmenu:Ri,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Mt("div","leaflet-zoom-box",this._container),bt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var c=new ee(this._point,this._startPoint),p=c.getSize();yt(this._box,c.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(pn(this._box),yn(this._container,"leaflet-crosshair")),qr(),jo(),ot(document,{contextmenu:Ri,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(v(this._resetState,this),0);var c=new Me(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});kt.addInitHook("addHandler","boxZoom",Ws),kt.mergeOptions({doubleClickZoom:!0});var Hr=Ci.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var c=this._map,p=c.getZoom(),w=c.options.zoomDelta,C=a.originalEvent.shiftKey?p-w:p+w;c.options.doubleClickZoom==="center"?c.setZoom(C):c.setZoomAround(a.containerPoint,C)}});kt.addInitHook("addHandler","doubleClickZoom",Hr),kt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var So=Ci.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new es(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}bt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){yn(this._map._container,"leaflet-grab"),yn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=Be(this._map.options.maxBounds);this._offsetLimit=je(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var c=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(c),this._prunePositions(c)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,c){return a-(a-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;a.x<c.min.x&&(a.x=this._viscousLimit(a.x,c.min.x)),a.y<c.min.y&&(a.y=this._viscousLimit(a.y,c.min.y)),a.x>c.max.x&&(a.x=this._viscousLimit(a.x,c.max.x)),a.y>c.max.y&&(a.y=this._viscousLimit(a.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,c=Math.round(a/2),p=this._initialWorldOffset,w=this._draggable._newPos.x,C=(w-c+p)%a+c-p,U=(w+c+p)%a-c-p,ne=Math.abs(C+p)<Math.abs(U+p)?C:U;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ne},_onDragEnd:function(a){var c=this._map,p=c.options,w=!p.inertia||a.noInertia||this._times.length<2;if(c.fire("dragend",a),w)c.fire("moveend");else{this._prunePositions(+new Date);var C=this._lastPos.subtract(this._positions[0]),U=(this._lastTime-this._times[0])/1e3,ne=p.easeLinearity,fe=C.multiplyBy(ne/U),we=fe.distanceTo([0,0]),Le=Math.min(p.inertiaMaxSpeed,we),Xe=fe.multiplyBy(Le/we),$e=Le/(p.inertiaDeceleration*ne),qe=Xe.multiplyBy(-$e/2).round();!qe.x&&!qe.y?c.fire("moveend"):(qe=c._limitOffset(qe,c.options.maxBounds),ae(function(){c.panBy(qe,{duration:$e,easeLinearity:ne,noMoveStart:!0,animate:!0})}))}}});kt.addInitHook("addHandler","dragging",So),kt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Xs=Ci.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),ht(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ot(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,c=document.documentElement,p=a.scrollTop||c.scrollTop,w=a.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(w,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var c=this._panKeys={},p=this.keyCodes,w,C;for(w=0,C=p.left.length;w<C;w++)c[p.left[w]]=[-1*a,0];for(w=0,C=p.right.length;w<C;w++)c[p.right[w]]=[a,0];for(w=0,C=p.down.length;w<C;w++)c[p.down[w]]=[0,a];for(w=0,C=p.up.length;w<C;w++)c[p.up[w]]=[0,-1*a]},_setZoomDelta:function(a){var c=this._zoomKeys={},p=this.keyCodes,w,C;for(w=0,C=p.zoomIn.length;w<C;w++)c[p.zoomIn[w]]=a;for(w=0,C=p.zoomOut.length;w<C;w++)c[p.zoomOut[w]]=-a},_addHooks:function(){ht(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ot(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var c=a.keyCode,p=this._map,w;if(c in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(w=this._panKeys[c],a.shiftKey&&(w=F(w).multiplyBy(3)),p.options.maxBounds&&(w=p._limitOffset(F(w),p.options.maxBounds)),p.options.worldCopyJump){var C=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(w)));p.panTo(C)}else p.panBy(w)}else if(c in this._zoomKeys)p.setZoom(p.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;Ri(a)}}});kt.addInitHook("addHandler","keyboard",Xs),kt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Mi=Ci.extend({addHooks:function(){ht(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ot(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var c=$r(a),p=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var w=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(v(this._performZoom,this),w),Ri(a)},_performZoom:function(){var a=this._map,c=a.getZoom(),p=this._map.options.zoomSnap||0;a._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),C=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,U=p?Math.ceil(C/p)*p:C,ne=a._limitZoom(c+(this._delta>0?U:-U))-c;this._delta=0,this._startTime=null,ne&&(a.options.scrollWheelZoom==="center"?a.setZoom(c+ne):a.setZoomAround(this._lastMousePos,c+ne))}});kt.addInitHook("addHandler","scrollWheelZoom",Mi);var hl=600;kt.mergeOptions({tapHold:Je.touchNative&&Je.safari&&Je.mobile,tapTolerance:15});var Ca=Ci.extend({addHooks:function(){ht(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ot(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var c=a.touches[0];this._startPos=this._newPos=new Ce(c.clientX,c.clientY),this._holdTimeout=setTimeout(v(function(){this._cancel(),this._isTapValid()&&(ht(document,"touchend",Qt),ht(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),hl),ht(document,"touchend touchcancel contextmenu",this._cancel,this),ht(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){ot(document,"touchend",Qt),ot(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),ot(document,"touchend touchcancel contextmenu",this._cancel,this),ot(document,"touchmove",this._onMove,this)},_onMove:function(a){var c=a.touches[0];this._newPos=new Ce(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,c){var p=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});p._simulated=!0,c.target.dispatchEvent(p)}});kt.addInitHook("addHandler","tapHold",Ca),kt.mergeOptions({touchZoom:Je.touch,bounceAtZoomLimits:!0});var ya=Ci.extend({addHooks:function(){bt(this._map._container,"leaflet-touch-zoom"),ht(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){yn(this._map._container,"leaflet-touch-zoom"),ot(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var c=this._map;if(!(!a.touches||a.touches.length!==2||c._animatingZoom||this._zooming)){var p=c.mouseEventToContainerPoint(a.touches[0]),w=c.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(p.add(w)._divideBy(2))),this._startDist=p.distanceTo(w),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),ht(document,"touchmove",this._onTouchMove,this),ht(document,"touchend touchcancel",this._onTouchEnd,this),Qt(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var c=this._map,p=c.mouseEventToContainerPoint(a.touches[0]),w=c.mouseEventToContainerPoint(a.touches[1]),C=p.distanceTo(w)/this._startDist;if(this._zoom=c.getScaleZoom(C,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&C<1||this._zoom>c.getMaxZoom()&&C>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,C===1)return}else{var U=p._add(w)._divideBy(2)._subtract(this._centerPoint);if(C===1&&U.x===0&&U.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(U),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),q(this._animRequest);var ne=v(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ae(ne,this,!0),Qt(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,q(this._animRequest),ot(document,"touchmove",this._onTouchMove,this),ot(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});kt.addInitHook("addHandler","touchZoom",ya),kt.BoxZoom=Ws,kt.DoubleClickZoom=Hr,kt.Drag=So,kt.Keyboard=Xs,kt.ScrollWheelZoom=Mi,kt.TapHold=Ca,kt.TouchZoom=ya,t.Bounds=ee,t.Browser=Je,t.CRS=gn,t.Canvas=er,t.Circle=To,t.CircleMarker=Es,t.Class=rt,t.Control=ji,t.DivIcon=Fn,t.DivOverlay=Ut,t.DomEvent=Bo,t.DomUtil=Fa,t.Draggable=es,t.Evented=le,t.FeatureGroup=Tn,t.GeoJSON=Ar,t.GridLayer=zn,t.Handler=Ci,t.Icon=Er,t.ImageOverlay=We,t.LatLng=Ke,t.LatLngBounds=Me,t.Layer=en,t.LayerGroup=An,t.LineUtil=G,t.Map=kt,t.Marker=Ts,t.Mixin=pa,t.Path=Sr,t.Point=Ce,t.PolyUtil=bo,t.Polygon=Eo,t.Polyline=Br,t.Popup=nn,t.PosAnimation=Aa,t.Projection=Ze,t.Rectangle=Ys,t.Renderer=Ii,t.SVG=Kn,t.SVGOverlay=ct,t.TileLayer=mt,t.Tooltip=En,t.Transformation=Mn,t.Util=X,t.VideoOverlay=it,t.bind=v,t.bounds=je,t.canvas=si,t.circle=Ul,t.circleMarker=wo,t.control=Ji,t.divIcon=Vt,t.extend=l,t.featureGroup=jr,t.geoJSON=ye,t.geoJson=Ae,t.gridLayer=Nn,t.icon=xo,t.imageOverlay=Fe,t.latLng=Ge,t.latLngBounds=Be,t.layerGroup=ws,t.map=Vs,t.marker=Zs,t.point=F,t.polygon=$i,t.polyline=Ya,t.popup=_n,t.rectangle=yi,t.setOptions=J,t.stamp=A,t.svg=ns,t.svgOverlay=wt,t.tileLayer=on,t.tooltip=ut,t.transformation=pt,t.version=s,t.videoOverlay=dt;var Ia=window.L;t.noConflict=function(){return window.L=Ia,this},window.L=t}))})(Bd,Bd.exports)),Bd.exports}var Gh=cE();const df=ix(Gh);function jg(r,e,t){return Object.freeze({instance:r,context:e,container:t})}function Bg(r,e){return e==null?function(s,l){const d=Ie.useRef(void 0);return d.current||(d.current=r(s,l)),d}:function(s,l){const d=Ie.useRef(void 0);d.current||(d.current=r(s,l));const v=Ie.useRef(s),{instance:E}=d.current;return Ie.useEffect(function(){v.current!==s&&(e(E,s,v.current),v.current=s)},[E,s,e]),d}}function ox(r,e){Ie.useEffect(function(){return(e.layerContainer??e.map).addLayer(r.instance),function(){e.layerContainer?.removeLayer(r.instance),e.map.removeLayer(r.instance)}},[e,r])}function lx(r){return function(t){const s=Ug(),l=r(Vg(t,s),s);return rx(s.map,t.attribution),my(l.current,t.eventHandlers),ox(l.current,s),l}}function uE(r,e){const t=Ie.useRef(void 0);Ie.useEffect(function(){if(e.pathOptions!==t.current){const l=e.pathOptions??{};r.instance.setStyle(l),t.current=l}},[r,e])}function hE(r){return function(t){const s=Ug(),l=r(Vg(t,s),s);return my(l.current,t.eventHandlers),ox(l.current,s),uE(l.current,t),l}}function dE(r,e){const t=Bg(r,e),s=lx(t);return ax(s)}function fE(r,e){const t=Bg(r),s=oE(t,e);return sE(s)}function gE(r,e){const t=Bg(r,e),s=hE(t);return ax(s)}function mE(r,e){const t=Bg(r,e),s=lx(t);return aE(s)}function pE(r,e,t){const{opacity:s,zIndex:l}=e;s!=null&&s!==t.opacity&&r.setOpacity(s),l!=null&&l!==t.zIndex&&r.setZIndex(l)}function Fg(){return Ug().map}function yE(r){const e=Fg();return Ie.useEffect(function(){return e.on(r),function(){e.off(r)}},[e,r]),e}function _E({bounds:r,boundsOptions:e,center:t,children:s,className:l,id:d,placeholder:v,style:E,whenReady:A,zoom:N,...M},j){const[V]=Ie.useState({className:l,id:d,style:E}),[Q,te]=Ie.useState(null),J=Ie.useRef(void 0);Ie.useImperativeHandle(j,()=>Q?.map??null,[Q]);const K=Ie.useCallback(Re=>{if(Re!==null&&!J.current){const ie=new Gh.Map(Re,M);J.current=ie,t!=null&&N!=null?ie.setView(t,N):r!=null&&ie.fitBounds(r,e),A!=null&&ie.whenReady(A),te(rE(ie))}},[]);Ie.useEffect(()=>()=>{Q?.map.remove()},[Q]);const _e=Q?Cu.createElement(gy,{value:Q},s):v??null;return Cu.createElement("div",{...V,ref:K},_e)}const vE=Ie.forwardRef(_E),zp=dE(function({position:e,...t},s){const l=new Gh.Marker(e,t);return jg(l,sx(s,{overlayContainer:l}))},function(e,t,s){t.position!==s.position&&e.setLatLng(t.position),t.icon!=null&&t.icon!==s.icon&&e.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==s.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==s.opacity&&e.setOpacity(t.opacity),e.dragging!=null&&t.draggable!==s.draggable&&(t.draggable===!0?e.dragging.enable():e.dragging.disable())}),bE=gE(function({positions:e,...t},s){const l=new Gh.Polyline(e,t);return jg(l,sx(s,{overlayContainer:l}))},function(e,t,s){t.positions!==s.positions&&e.setLatLngs(t.positions)}),Up=fE(function(e,t){const s=new Gh.Popup(e,t.overlayContainer);return jg(s,t)},function(e,t,{position:s},l){Ie.useEffect(function(){const{instance:v}=e;function E(N){N.popup===v&&(v.update(),l(!0))}function A(N){N.popup===v&&l(!1)}return t.map.on({popupopen:E,popupclose:A}),t.overlayContainer==null?(s!=null&&v.setLatLng(s),v.openOn(t.map)):t.overlayContainer.bindPopup(v),function(){t.map.off({popupopen:E,popupclose:A}),t.overlayContainer?.unbindPopup(),t.map.removeLayer(v)}},[e,t,l,s])}),xE=mE(function({url:e,...t},s){const l=new Gh.TileLayer(e,Vg(t,s));return jg(l,s)},function(e,t,s){pE(e,t,s);const{url:l}=t;l!=null&&l!==s.url&&e.setUrl(l)}),dv=r=>{let e;const t=new Set,s=(N,M)=>{const j=typeof N=="function"?N(e):N;if(!Object.is(j,e)){const V=e;e=M??(typeof j!="object"||j===null)?j:Object.assign({},e,j),t.forEach(Q=>Q(e,V))}},l=()=>e,E={setState:s,getState:l,getInitialState:()=>A,subscribe:N=>(t.add(N),()=>t.delete(N))},A=e=r(s,l,E);return E},wE=(r=>r?dv(r):dv),TE=r=>r;function EE(r,e=TE){const t=Cu.useSyncExternalStore(r.subscribe,Cu.useCallback(()=>e(r.getState()),[r,e]),Cu.useCallback(()=>e(r.getInitialState()),[r,e]));return Cu.useDebugValue(t),t}const fv=r=>{const e=wE(r),t=s=>EE(e,s);return Object.assign(t,e),t},SE=(r=>r?fv(r):fv),AE=(r,e)=>{try{const t=JSON.stringify(e);localStorage.setItem(r,t)}catch(t){console.error("Error saving to localStorage:",t)}},NE=r=>{try{const e=localStorage.getItem(r);return e===null?null:JSON.parse(e)}catch(e){return console.error("Error loading from localStorage:",e),null}},RE=()=>{};var gv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[t++]=l:l<2048?(e[t++]=l>>6|192,e[t++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=l>>18|240,e[t++]=l>>12&63|128,e[t++]=l>>6&63|128,e[t++]=l&63|128):(e[t++]=l>>12|224,e[t++]=l>>6&63|128,e[t++]=l&63|128)}return e},CE=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const l=r[t++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const d=r[t++];e[s++]=String.fromCharCode((l&31)<<6|d&63)}else if(l>239&&l<365){const d=r[t++],v=r[t++],E=r[t++],A=((l&7)<<18|(d&63)<<12|(v&63)<<6|E&63)-65536;e[s++]=String.fromCharCode(55296+(A>>10)),e[s++]=String.fromCharCode(56320+(A&1023))}else{const d=r[t++],v=r[t++];e[s++]=String.fromCharCode((l&15)<<12|(d&63)<<6|v&63)}}return e.join("")},ux={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const d=r[l],v=l+1<r.length,E=v?r[l+1]:0,A=l+2<r.length,N=A?r[l+2]:0,M=d>>2,j=(d&3)<<4|E>>4;let V=(E&15)<<2|N>>6,Q=N&63;A||(Q=64,v||(V=64)),s.push(t[M],t[j],t[V],t[Q])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(cx(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):CE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const d=t[r.charAt(l++)],E=l<r.length?t[r.charAt(l)]:0;++l;const N=l<r.length?t[r.charAt(l)]:64;++l;const j=l<r.length?t[r.charAt(l)]:64;if(++l,d==null||E==null||N==null||j==null)throw new IE;const V=d<<2|E>>4;if(s.push(V),N!==64){const Q=E<<4&240|N>>2;if(s.push(Q),j!==64){const te=N<<6&192|j;s.push(te)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class IE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kE=function(r){const e=cx(r);return ux.encodeByteArray(e,!0)},pg=function(r){return kE(r).replace(/\./g,"")},hx=function(r){try{return ux.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=()=>PE().__FIREBASE_DEFAULTS__,DE=()=>{if(typeof process>"u"||typeof gv>"u")return;const r=gv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},OE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&hx(r[1]);return e&&JSON.parse(e)},Hg=()=>{try{return RE()||ME()||DE()||OE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},dx=r=>Hg()?.emulatorHosts?.[r],fx=r=>{const e=dx(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},gx=()=>Hg()?.config,mx=r=>Hg()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function py(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,d=r.sub||r.user_id;if(!d)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const v={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:d,user_id:d,firebase:{sign_in_provider:"custom",identities:{}},...r};return[pg(JSON.stringify(t)),pg(JSON.stringify(v)),""].join(".")}const Yd={};function zE(){const r={prod:[],emulator:[]};for(const e of Object.keys(Yd))Yd[e]?r.emulator.push(e):r.prod.push(e);return r}function UE(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let mv=!1;function yy(r,e){if(typeof window>"u"||typeof document>"u"||!Fu(window.location.host)||Yd[r]===e||Yd[r]||mv)return;Yd[r]=e;function t(V){return`__firebase__banner__${V}`}const s="__firebase__banner",d=zE().prod.length>0;function v(){const V=document.getElementById(s);V&&V.remove()}function E(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function A(V,Q){V.setAttribute("width","24"),V.setAttribute("id",Q),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function N(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{mv=!0,v()},V}function M(V,Q){V.setAttribute("id",Q),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function j(){const V=UE(s),Q=t("text"),te=document.getElementById(Q)||document.createElement("span"),J=t("learnmore"),K=document.getElementById(J)||document.createElement("a"),_e=t("preprendIcon"),Re=document.getElementById(_e)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const ie=V.element;E(ie),M(K,J);const ke=N();A(Re,_e),ie.append(Re,te,K,ke),document.body.appendChild(ie)}d?(te.innerText="Preview backend disconnected.",Re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,te.innerText="Preview backend running in this workspace."),te.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",j):j()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(aa())}function jE(){const r=Hg()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FE(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function HE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GE(){const r=aa();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function ZE(){return!jE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YE(){try{return typeof indexedDB=="object"}catch{return!1}}function WE(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{t=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="FirebaseError";class Ll extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=XE,Object.setPrototypeOf(this,Ll.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ff.prototype.create)}}class ff{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},l=`${this.service}/${e}`,d=this.errors[e],v=d?QE(d,s):"Error",E=`${this.serviceName}: ${v} (${l}).`;return new Ll(l,E,s)}}function QE(r,e){return r.replace(KE,(t,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const KE=/\{\$([^}]+)}/g;function JE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Lu(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const l of t){if(!s.includes(l))return!1;const d=r[l],v=e[l];if(pv(d)&&pv(v)){if(!Lu(d,v))return!1}else if(d!==v)return!1}for(const l of s)if(!t.includes(l))return!1;return!0}function pv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function qE(r,e){const t=new $E(r,e);return t.subscribe.bind(t)}class $E{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let l;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");e2(e,["next","error","complete"])?l=e:l={next:e,error:t,complete:s},l.next===void 0&&(l.next=vp),l.error===void 0&&(l.error=vp),l.complete===void 0&&(l.complete=vp);const d=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),d}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function e2(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function vp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(r){return r&&r._delegate?r._delegate:r}class Hc{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new LE;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:t});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(i2(e))try{this.getOrInitializeService({instanceIdentifier:Ru})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(t);try{const d=this.getOrInitializeService({instanceIdentifier:l});s.resolve(d)}catch{}}}}clearInstance(e=Ru){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ru){return this.instances.has(e)}getOptions(e=Ru){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[d,v]of this.instancesDeferred.entries()){const E=this.normalizeInstanceIdentifier(d);s===E&&v.resolve(l)}return l}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const d=this.instances.get(s);return d&&e(d,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const l of s)try{l(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:n2(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ru){return this.component?this.component.multipleInstances?e:Ru:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function n2(r){return r===Ru?void 0:r}function i2(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new t2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ln||(ln={}));const s2={debug:ln.DEBUG,verbose:ln.VERBOSE,info:ln.INFO,warn:ln.WARN,error:ln.ERROR,silent:ln.SILENT},a2=ln.INFO,o2={[ln.DEBUG]:"log",[ln.VERBOSE]:"log",[ln.INFO]:"info",[ln.WARN]:"warn",[ln.ERROR]:"error"},l2=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=o2[e];if(l)console[l](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _y{constructor(e){this.name=e,this._logLevel=a2,this._logHandler=l2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ln))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?s2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ln.DEBUG,...e),this._logHandler(this,ln.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ln.VERBOSE,...e),this._logHandler(this,ln.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ln.INFO,...e),this._logHandler(this,ln.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ln.WARN,...e),this._logHandler(this,ln.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ln.ERROR,...e),this._logHandler(this,ln.ERROR,...e)}}const c2=(r,e)=>e.some(t=>r instanceof t);let yv,_v;function u2(){return yv||(yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function h2(){return _v||(_v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yx=new WeakMap,Vp=new WeakMap,_x=new WeakMap,bp=new WeakMap,vy=new WeakMap;function d2(r){const e=new Promise((t,s)=>{const l=()=>{r.removeEventListener("success",d),r.removeEventListener("error",v)},d=()=>{t(Lc(r.result)),l()},v=()=>{s(r.error),l()};r.addEventListener("success",d),r.addEventListener("error",v)});return e.then(t=>{t instanceof IDBCursor&&yx.set(t,r)}).catch(()=>{}),vy.set(e,r),e}function f2(r){if(Vp.has(r))return;const e=new Promise((t,s)=>{const l=()=>{r.removeEventListener("complete",d),r.removeEventListener("error",v),r.removeEventListener("abort",v)},d=()=>{t(),l()},v=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",d),r.addEventListener("error",v),r.addEventListener("abort",v)});Vp.set(r,e)}let jp={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Vp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||_x.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Lc(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function g2(r){jp=r(jp)}function m2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(xp(this),e,...t);return _x.set(s,e.sort?e.sort():[e]),Lc(s)}:h2().includes(r)?function(...e){return r.apply(xp(this),e),Lc(yx.get(this))}:function(...e){return Lc(r.apply(xp(this),e))}}function p2(r){return typeof r=="function"?m2(r):(r instanceof IDBTransaction&&f2(r),c2(r,u2())?new Proxy(r,jp):r)}function Lc(r){if(r instanceof IDBRequest)return d2(r);if(bp.has(r))return bp.get(r);const e=p2(r);return e!==r&&(bp.set(r,e),vy.set(e,r)),e}const xp=r=>vy.get(r);function y2(r,e,{blocked:t,upgrade:s,blocking:l,terminated:d}={}){const v=indexedDB.open(r,e),E=Lc(v);return s&&v.addEventListener("upgradeneeded",A=>{s(Lc(v.result),A.oldVersion,A.newVersion,Lc(v.transaction),A)}),t&&v.addEventListener("blocked",A=>t(A.oldVersion,A.newVersion,A)),E.then(A=>{d&&A.addEventListener("close",()=>d()),l&&A.addEventListener("versionchange",N=>l(N.oldVersion,N.newVersion,N))}).catch(()=>{}),E}const _2=["get","getKey","getAll","getAllKeys","count"],v2=["put","add","delete","clear"],wp=new Map;function vv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(wp.get(e))return wp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,l=v2.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(l||_2.includes(t)))return;const d=async function(v,...E){const A=this.transaction(v,l?"readwrite":"readonly");let N=A.store;return s&&(N=N.index(E.shift())),(await Promise.all([N[t](...E),l&&A.done]))[0]};return wp.set(e,d),d}g2(r=>({...r,get:(e,t,s)=>vv(e,t)||r.get(e,t,s),has:(e,t)=>!!vv(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(x2(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function x2(r){return r.getComponent()?.type==="VERSION"}const Bp="@firebase/app",bv="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=new _y("@firebase/app"),w2="@firebase/app-compat",T2="@firebase/analytics-compat",E2="@firebase/analytics",S2="@firebase/app-check-compat",A2="@firebase/app-check",N2="@firebase/auth",R2="@firebase/auth-compat",C2="@firebase/database",I2="@firebase/data-connect",k2="@firebase/database-compat",P2="@firebase/functions",M2="@firebase/functions-compat",D2="@firebase/installations",O2="@firebase/installations-compat",L2="@firebase/messaging",z2="@firebase/messaging-compat",U2="@firebase/performance",V2="@firebase/performance-compat",j2="@firebase/remote-config",B2="@firebase/remote-config-compat",F2="@firebase/storage",H2="@firebase/storage-compat",G2="@firebase/firestore",Z2="@firebase/ai",Y2="@firebase/firestore-compat",W2="firebase",X2="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="[DEFAULT]",Q2={[Bp]:"fire-core",[w2]:"fire-core-compat",[E2]:"fire-analytics",[T2]:"fire-analytics-compat",[A2]:"fire-app-check",[S2]:"fire-app-check-compat",[N2]:"fire-auth",[R2]:"fire-auth-compat",[C2]:"fire-rtdb",[I2]:"fire-data-connect",[k2]:"fire-rtdb-compat",[P2]:"fire-fn",[M2]:"fire-fn-compat",[D2]:"fire-iid",[O2]:"fire-iid-compat",[L2]:"fire-fcm",[z2]:"fire-fcm-compat",[U2]:"fire-perf",[V2]:"fire-perf-compat",[j2]:"fire-rc",[B2]:"fire-rc-compat",[F2]:"fire-gcs",[H2]:"fire-gcs-compat",[G2]:"fire-fst",[Y2]:"fire-fst-compat",[Z2]:"fire-vertex","fire-js":"fire-js",[W2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg=new Map,K2=new Map,Hp=new Map;function xv(r,e){try{r.container.addComponent(e)}catch(t){$l.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function zu(r){const e=r.name;if(Hp.has(e))return $l.debug(`There were multiple attempts to register component ${e}.`),!1;Hp.set(e,r);for(const t of yg.values())xv(t,r);for(const t of K2.values())xv(t,r);return!0}function Gg(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Do(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zc=new ff("app","Firebase",J2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Hc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=X2;function vx(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s={name:Fp,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw zc.create("bad-app-name",{appName:String(l)});if(t||(t=gx()),!t)throw zc.create("no-options");const d=yg.get(l);if(d){if(Lu(t,d.options)&&Lu(s,d.config))return d;throw zc.create("duplicate-app",{appName:l})}const v=new r2(l);for(const A of Hp.values())v.addComponent(A);const E=new q2(t,s,v);return yg.set(l,E),E}function by(r=Fp){const e=yg.get(r);if(!e&&r===Fp&&gx())return vx();if(!e)throw zc.create("no-app",{appName:r});return e}function Al(r,e,t){let s=Q2[r]??r;t&&(s+=`-${t}`);const l=s.match(/\s|\//),d=e.match(/\s|\//);if(l||d){const v=[`Unable to register library "${s}" with version "${e}":`];l&&v.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&d&&v.push("and"),d&&v.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$l.warn(v.join(" "));return}zu(new Hc(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="firebase-heartbeat-database",eS=1,$d="firebase-heartbeat-store";let Tp=null;function bx(){return Tp||(Tp=y2($2,eS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore($d)}catch(t){console.warn(t)}}}}).catch(r=>{throw zc.create("idb-open",{originalErrorMessage:r.message})})),Tp}async function tS(r){try{const t=(await bx()).transaction($d),s=await t.objectStore($d).get(xx(r));return await t.done,s}catch(e){if(e instanceof Ll)$l.warn(e.message);else{const t=zc.create("idb-get",{originalErrorMessage:e?.message});$l.warn(t.message)}}}async function wv(r,e){try{const s=(await bx()).transaction($d,"readwrite");await s.objectStore($d).put(e,xx(r)),await s.done}catch(t){if(t instanceof Ll)$l.warn(t.message);else{const s=zc.create("idb-set",{originalErrorMessage:t?.message});$l.warn(s.message)}}}function xx(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=1024,iS=30;class rS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new aS(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Tv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>iS){const l=oS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){$l.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Tv(),{heartbeatsToSend:t,unsentEntries:s}=sS(this._heartbeatsCache.heartbeats),l=pg(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return $l.warn(e),""}}}function Tv(){return new Date().toISOString().substring(0,10)}function sS(r,e=nS){const t=[];let s=r.slice();for(const l of r){const d=t.find(v=>v.agent===l.agent);if(d){if(d.dates.push(l.date),Ev(t)>e){d.dates.pop();break}}else if(t.push({agent:l.agent,dates:[l.date]}),Ev(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class aS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YE()?WE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await tS(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return wv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return wv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ev(r){return pg(JSON.stringify({version:2,heartbeats:r})).length}function oS(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(r){zu(new Hc("platform-logger",e=>new b2(e),"PRIVATE")),zu(new Hc("heartbeat",e=>new rS(e),"PRIVATE")),Al(Bp,bv,r),Al(Bp,bv,"esm2020"),Al("fire-js","")}lS("");var Sv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Uc,wx;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(ce,H){function Y(){}Y.prototype=H.prototype,ce.D=H.prototype,ce.prototype=new Y,ce.prototype.constructor=ce,ce.C=function(he,ae,q){for(var X=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)X[rt-2]=arguments[rt];return H.prototype[ae].apply(he,X)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(ce,H,Y){Y||(Y=0);var he=Array(16);if(typeof H=="string")for(var ae=0;16>ae;++ae)he[ae]=H.charCodeAt(Y++)|H.charCodeAt(Y++)<<8|H.charCodeAt(Y++)<<16|H.charCodeAt(Y++)<<24;else for(ae=0;16>ae;++ae)he[ae]=H[Y++]|H[Y++]<<8|H[Y++]<<16|H[Y++]<<24;H=ce.g[0],Y=ce.g[1],ae=ce.g[2];var q=ce.g[3],X=H+(q^Y&(ae^q))+he[0]+3614090360&4294967295;H=Y+(X<<7&4294967295|X>>>25),X=q+(ae^H&(Y^ae))+he[1]+3905402710&4294967295,q=H+(X<<12&4294967295|X>>>20),X=ae+(Y^q&(H^Y))+he[2]+606105819&4294967295,ae=q+(X<<17&4294967295|X>>>15),X=Y+(H^ae&(q^H))+he[3]+3250441966&4294967295,Y=ae+(X<<22&4294967295|X>>>10),X=H+(q^Y&(ae^q))+he[4]+4118548399&4294967295,H=Y+(X<<7&4294967295|X>>>25),X=q+(ae^H&(Y^ae))+he[5]+1200080426&4294967295,q=H+(X<<12&4294967295|X>>>20),X=ae+(Y^q&(H^Y))+he[6]+2821735955&4294967295,ae=q+(X<<17&4294967295|X>>>15),X=Y+(H^ae&(q^H))+he[7]+4249261313&4294967295,Y=ae+(X<<22&4294967295|X>>>10),X=H+(q^Y&(ae^q))+he[8]+1770035416&4294967295,H=Y+(X<<7&4294967295|X>>>25),X=q+(ae^H&(Y^ae))+he[9]+2336552879&4294967295,q=H+(X<<12&4294967295|X>>>20),X=ae+(Y^q&(H^Y))+he[10]+4294925233&4294967295,ae=q+(X<<17&4294967295|X>>>15),X=Y+(H^ae&(q^H))+he[11]+2304563134&4294967295,Y=ae+(X<<22&4294967295|X>>>10),X=H+(q^Y&(ae^q))+he[12]+1804603682&4294967295,H=Y+(X<<7&4294967295|X>>>25),X=q+(ae^H&(Y^ae))+he[13]+4254626195&4294967295,q=H+(X<<12&4294967295|X>>>20),X=ae+(Y^q&(H^Y))+he[14]+2792965006&4294967295,ae=q+(X<<17&4294967295|X>>>15),X=Y+(H^ae&(q^H))+he[15]+1236535329&4294967295,Y=ae+(X<<22&4294967295|X>>>10),X=H+(ae^q&(Y^ae))+he[1]+4129170786&4294967295,H=Y+(X<<5&4294967295|X>>>27),X=q+(Y^ae&(H^Y))+he[6]+3225465664&4294967295,q=H+(X<<9&4294967295|X>>>23),X=ae+(H^Y&(q^H))+he[11]+643717713&4294967295,ae=q+(X<<14&4294967295|X>>>18),X=Y+(q^H&(ae^q))+he[0]+3921069994&4294967295,Y=ae+(X<<20&4294967295|X>>>12),X=H+(ae^q&(Y^ae))+he[5]+3593408605&4294967295,H=Y+(X<<5&4294967295|X>>>27),X=q+(Y^ae&(H^Y))+he[10]+38016083&4294967295,q=H+(X<<9&4294967295|X>>>23),X=ae+(H^Y&(q^H))+he[15]+3634488961&4294967295,ae=q+(X<<14&4294967295|X>>>18),X=Y+(q^H&(ae^q))+he[4]+3889429448&4294967295,Y=ae+(X<<20&4294967295|X>>>12),X=H+(ae^q&(Y^ae))+he[9]+568446438&4294967295,H=Y+(X<<5&4294967295|X>>>27),X=q+(Y^ae&(H^Y))+he[14]+3275163606&4294967295,q=H+(X<<9&4294967295|X>>>23),X=ae+(H^Y&(q^H))+he[3]+4107603335&4294967295,ae=q+(X<<14&4294967295|X>>>18),X=Y+(q^H&(ae^q))+he[8]+1163531501&4294967295,Y=ae+(X<<20&4294967295|X>>>12),X=H+(ae^q&(Y^ae))+he[13]+2850285829&4294967295,H=Y+(X<<5&4294967295|X>>>27),X=q+(Y^ae&(H^Y))+he[2]+4243563512&4294967295,q=H+(X<<9&4294967295|X>>>23),X=ae+(H^Y&(q^H))+he[7]+1735328473&4294967295,ae=q+(X<<14&4294967295|X>>>18),X=Y+(q^H&(ae^q))+he[12]+2368359562&4294967295,Y=ae+(X<<20&4294967295|X>>>12),X=H+(Y^ae^q)+he[5]+4294588738&4294967295,H=Y+(X<<4&4294967295|X>>>28),X=q+(H^Y^ae)+he[8]+2272392833&4294967295,q=H+(X<<11&4294967295|X>>>21),X=ae+(q^H^Y)+he[11]+1839030562&4294967295,ae=q+(X<<16&4294967295|X>>>16),X=Y+(ae^q^H)+he[14]+4259657740&4294967295,Y=ae+(X<<23&4294967295|X>>>9),X=H+(Y^ae^q)+he[1]+2763975236&4294967295,H=Y+(X<<4&4294967295|X>>>28),X=q+(H^Y^ae)+he[4]+1272893353&4294967295,q=H+(X<<11&4294967295|X>>>21),X=ae+(q^H^Y)+he[7]+4139469664&4294967295,ae=q+(X<<16&4294967295|X>>>16),X=Y+(ae^q^H)+he[10]+3200236656&4294967295,Y=ae+(X<<23&4294967295|X>>>9),X=H+(Y^ae^q)+he[13]+681279174&4294967295,H=Y+(X<<4&4294967295|X>>>28),X=q+(H^Y^ae)+he[0]+3936430074&4294967295,q=H+(X<<11&4294967295|X>>>21),X=ae+(q^H^Y)+he[3]+3572445317&4294967295,ae=q+(X<<16&4294967295|X>>>16),X=Y+(ae^q^H)+he[6]+76029189&4294967295,Y=ae+(X<<23&4294967295|X>>>9),X=H+(Y^ae^q)+he[9]+3654602809&4294967295,H=Y+(X<<4&4294967295|X>>>28),X=q+(H^Y^ae)+he[12]+3873151461&4294967295,q=H+(X<<11&4294967295|X>>>21),X=ae+(q^H^Y)+he[15]+530742520&4294967295,ae=q+(X<<16&4294967295|X>>>16),X=Y+(ae^q^H)+he[2]+3299628645&4294967295,Y=ae+(X<<23&4294967295|X>>>9),X=H+(ae^(Y|~q))+he[0]+4096336452&4294967295,H=Y+(X<<6&4294967295|X>>>26),X=q+(Y^(H|~ae))+he[7]+1126891415&4294967295,q=H+(X<<10&4294967295|X>>>22),X=ae+(H^(q|~Y))+he[14]+2878612391&4294967295,ae=q+(X<<15&4294967295|X>>>17),X=Y+(q^(ae|~H))+he[5]+4237533241&4294967295,Y=ae+(X<<21&4294967295|X>>>11),X=H+(ae^(Y|~q))+he[12]+1700485571&4294967295,H=Y+(X<<6&4294967295|X>>>26),X=q+(Y^(H|~ae))+he[3]+2399980690&4294967295,q=H+(X<<10&4294967295|X>>>22),X=ae+(H^(q|~Y))+he[10]+4293915773&4294967295,ae=q+(X<<15&4294967295|X>>>17),X=Y+(q^(ae|~H))+he[1]+2240044497&4294967295,Y=ae+(X<<21&4294967295|X>>>11),X=H+(ae^(Y|~q))+he[8]+1873313359&4294967295,H=Y+(X<<6&4294967295|X>>>26),X=q+(Y^(H|~ae))+he[15]+4264355552&4294967295,q=H+(X<<10&4294967295|X>>>22),X=ae+(H^(q|~Y))+he[6]+2734768916&4294967295,ae=q+(X<<15&4294967295|X>>>17),X=Y+(q^(ae|~H))+he[13]+1309151649&4294967295,Y=ae+(X<<21&4294967295|X>>>11),X=H+(ae^(Y|~q))+he[4]+4149444226&4294967295,H=Y+(X<<6&4294967295|X>>>26),X=q+(Y^(H|~ae))+he[11]+3174756917&4294967295,q=H+(X<<10&4294967295|X>>>22),X=ae+(H^(q|~Y))+he[2]+718787259&4294967295,ae=q+(X<<15&4294967295|X>>>17),X=Y+(q^(ae|~H))+he[9]+3951481745&4294967295,ce.g[0]=ce.g[0]+H&4294967295,ce.g[1]=ce.g[1]+(ae+(X<<21&4294967295|X>>>11))&4294967295,ce.g[2]=ce.g[2]+ae&4294967295,ce.g[3]=ce.g[3]+q&4294967295}s.prototype.u=function(ce,H){H===void 0&&(H=ce.length);for(var Y=H-this.blockSize,he=this.B,ae=this.h,q=0;q<H;){if(ae==0)for(;q<=Y;)l(this,ce,q),q+=this.blockSize;if(typeof ce=="string"){for(;q<H;)if(he[ae++]=ce.charCodeAt(q++),ae==this.blockSize){l(this,he),ae=0;break}}else for(;q<H;)if(he[ae++]=ce[q++],ae==this.blockSize){l(this,he),ae=0;break}}this.h=ae,this.o+=H},s.prototype.v=function(){var ce=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);ce[0]=128;for(var H=1;H<ce.length-8;++H)ce[H]=0;var Y=8*this.o;for(H=ce.length-8;H<ce.length;++H)ce[H]=Y&255,Y/=256;for(this.u(ce),ce=Array(16),H=Y=0;4>H;++H)for(var he=0;32>he;he+=8)ce[Y++]=this.g[H]>>>he&255;return ce};function d(ce,H){var Y=E;return Object.prototype.hasOwnProperty.call(Y,ce)?Y[ce]:Y[ce]=H(ce)}function v(ce,H){this.h=H;for(var Y=[],he=!0,ae=ce.length-1;0<=ae;ae--){var q=ce[ae]|0;he&&q==H||(Y[ae]=q,he=!1)}this.g=Y}var E={};function A(ce){return-128<=ce&&128>ce?d(ce,function(H){return new v([H|0],0>H?-1:0)}):new v([ce|0],0>ce?-1:0)}function N(ce){if(isNaN(ce)||!isFinite(ce))return j;if(0>ce)return K(N(-ce));for(var H=[],Y=1,he=0;ce>=Y;he++)H[he]=ce/Y|0,Y*=4294967296;return new v(H,0)}function M(ce,H){if(ce.length==0)throw Error("number format error: empty string");if(H=H||10,2>H||36<H)throw Error("radix out of range: "+H);if(ce.charAt(0)=="-")return K(M(ce.substring(1),H));if(0<=ce.indexOf("-"))throw Error('number format error: interior "-" character');for(var Y=N(Math.pow(H,8)),he=j,ae=0;ae<ce.length;ae+=8){var q=Math.min(8,ce.length-ae),X=parseInt(ce.substring(ae,ae+q),H);8>q?(q=N(Math.pow(H,q)),he=he.j(q).add(N(X))):(he=he.j(Y),he=he.add(N(X)))}return he}var j=A(0),V=A(1),Q=A(16777216);r=v.prototype,r.m=function(){if(J(this))return-K(this).m();for(var ce=0,H=1,Y=0;Y<this.g.length;Y++){var he=this.i(Y);ce+=(0<=he?he:4294967296+he)*H,H*=4294967296}return ce},r.toString=function(ce){if(ce=ce||10,2>ce||36<ce)throw Error("radix out of range: "+ce);if(te(this))return"0";if(J(this))return"-"+K(this).toString(ce);for(var H=N(Math.pow(ce,6)),Y=this,he="";;){var ae=ke(Y,H).g;Y=_e(Y,ae.j(H));var q=((0<Y.g.length?Y.g[0]:Y.h)>>>0).toString(ce);if(Y=ae,te(Y))return q+he;for(;6>q.length;)q="0"+q;he=q+he}},r.i=function(ce){return 0>ce?0:ce<this.g.length?this.g[ce]:this.h};function te(ce){if(ce.h!=0)return!1;for(var H=0;H<ce.g.length;H++)if(ce.g[H]!=0)return!1;return!0}function J(ce){return ce.h==-1}r.l=function(ce){return ce=_e(this,ce),J(ce)?-1:te(ce)?0:1};function K(ce){for(var H=ce.g.length,Y=[],he=0;he<H;he++)Y[he]=~ce.g[he];return new v(Y,~ce.h).add(V)}r.abs=function(){return J(this)?K(this):this},r.add=function(ce){for(var H=Math.max(this.g.length,ce.g.length),Y=[],he=0,ae=0;ae<=H;ae++){var q=he+(this.i(ae)&65535)+(ce.i(ae)&65535),X=(q>>>16)+(this.i(ae)>>>16)+(ce.i(ae)>>>16);he=X>>>16,q&=65535,X&=65535,Y[ae]=X<<16|q}return new v(Y,Y[Y.length-1]&-2147483648?-1:0)};function _e(ce,H){return ce.add(K(H))}r.j=function(ce){if(te(this)||te(ce))return j;if(J(this))return J(ce)?K(this).j(K(ce)):K(K(this).j(ce));if(J(ce))return K(this.j(K(ce)));if(0>this.l(Q)&&0>ce.l(Q))return N(this.m()*ce.m());for(var H=this.g.length+ce.g.length,Y=[],he=0;he<2*H;he++)Y[he]=0;for(he=0;he<this.g.length;he++)for(var ae=0;ae<ce.g.length;ae++){var q=this.i(he)>>>16,X=this.i(he)&65535,rt=ce.i(ae)>>>16,lt=ce.i(ae)&65535;Y[2*he+2*ae]+=X*lt,Re(Y,2*he+2*ae),Y[2*he+2*ae+1]+=q*lt,Re(Y,2*he+2*ae+1),Y[2*he+2*ae+1]+=X*rt,Re(Y,2*he+2*ae+1),Y[2*he+2*ae+2]+=q*rt,Re(Y,2*he+2*ae+2)}for(he=0;he<H;he++)Y[he]=Y[2*he+1]<<16|Y[2*he];for(he=H;he<2*H;he++)Y[he]=0;return new v(Y,0)};function Re(ce,H){for(;(ce[H]&65535)!=ce[H];)ce[H+1]+=ce[H]>>>16,ce[H]&=65535,H++}function ie(ce,H){this.g=ce,this.h=H}function ke(ce,H){if(te(H))throw Error("division by zero");if(te(ce))return new ie(j,j);if(J(ce))return H=ke(K(ce),H),new ie(K(H.g),K(H.h));if(J(H))return H=ke(ce,K(H)),new ie(K(H.g),H.h);if(30<ce.g.length){if(J(ce)||J(H))throw Error("slowDivide_ only works with positive integers.");for(var Y=V,he=H;0>=he.l(ce);)Y=Ye(Y),he=Ye(he);var ae=Qe(Y,1),q=Qe(he,1);for(he=Qe(he,2),Y=Qe(Y,2);!te(he);){var X=q.add(he);0>=X.l(ce)&&(ae=ae.add(Y),q=X),he=Qe(he,1),Y=Qe(Y,1)}return H=_e(ce,ae.j(H)),new ie(ae,H)}for(ae=j;0<=ce.l(H);){for(Y=Math.max(1,Math.floor(ce.m()/H.m())),he=Math.ceil(Math.log(Y)/Math.LN2),he=48>=he?1:Math.pow(2,he-48),q=N(Y),X=q.j(H);J(X)||0<X.l(ce);)Y-=he,q=N(Y),X=q.j(H);te(q)&&(q=V),ae=ae.add(q),ce=_e(ce,X)}return new ie(ae,ce)}r.A=function(ce){return ke(this,ce).h},r.and=function(ce){for(var H=Math.max(this.g.length,ce.g.length),Y=[],he=0;he<H;he++)Y[he]=this.i(he)&ce.i(he);return new v(Y,this.h&ce.h)},r.or=function(ce){for(var H=Math.max(this.g.length,ce.g.length),Y=[],he=0;he<H;he++)Y[he]=this.i(he)|ce.i(he);return new v(Y,this.h|ce.h)},r.xor=function(ce){for(var H=Math.max(this.g.length,ce.g.length),Y=[],he=0;he<H;he++)Y[he]=this.i(he)^ce.i(he);return new v(Y,this.h^ce.h)};function Ye(ce){for(var H=ce.g.length+1,Y=[],he=0;he<H;he++)Y[he]=ce.i(he)<<1|ce.i(he-1)>>>31;return new v(Y,ce.h)}function Qe(ce,H){var Y=H>>5;H%=32;for(var he=ce.g.length-Y,ae=[],q=0;q<he;q++)ae[q]=0<H?ce.i(q+Y)>>>H|ce.i(q+Y+1)<<32-H:ce.i(q+Y);return new v(ae,ce.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,wx=s,v.prototype.add=v.prototype.add,v.prototype.multiply=v.prototype.j,v.prototype.modulo=v.prototype.A,v.prototype.compare=v.prototype.l,v.prototype.toNumber=v.prototype.m,v.prototype.toString=v.prototype.toString,v.prototype.getBits=v.prototype.i,v.fromNumber=N,v.fromString=M,Uc=v}).apply(typeof Sv<"u"?Sv:typeof self<"u"?self:typeof window<"u"?window:{});var $f=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tx,Fd,Ex,ag,Gp,Sx,Ax,Nx;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,R,k){return f==Array.prototype||f==Object.prototype||(f[R]=k.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof $f=="object"&&$f];for(var R=0;R<f.length;++R){var k=f[R];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var s=t(this);function l(f,R){if(R)e:{var k=s;f=f.split(".");for(var G=0;G<f.length-1;G++){var me=f[G];if(!(me in k))break e;k=k[me]}f=f[f.length-1],G=k[f],R=R(G),R!=G&&R!=null&&e(k,f,{configurable:!0,writable:!0,value:R})}}function d(f,R){f instanceof String&&(f+="");var k=0,G=!1,me={next:function(){if(!G&&k<f.length){var Ee=k++;return{value:R(Ee,f[Ee]),done:!1}}return G=!0,{done:!0,value:void 0}}};return me[Symbol.iterator]=function(){return me},me}l("Array.prototype.values",function(f){return f||function(){return d(this,function(R,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var v=v||{},E=this||self;function A(f){var R=typeof f;return R=R!="object"?R:f?Array.isArray(f)?"array":R:"null",R=="array"||R=="object"&&typeof f.length=="number"}function N(f){var R=typeof f;return R=="object"&&f!=null||R=="function"}function M(f,R,k){return f.call.apply(f.bind,arguments)}function j(f,R,k){if(!f)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var me=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(me,G),f.apply(R,me)}}return function(){return f.apply(R,arguments)}}function V(f,R,k){return V=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?M:j,V.apply(null,arguments)}function Q(f,R){var k=Array.prototype.slice.call(arguments,1);return function(){var G=k.slice();return G.push.apply(G,arguments),f.apply(this,G)}}function te(f,R){function k(){}k.prototype=R.prototype,f.aa=R.prototype,f.prototype=new k,f.prototype.constructor=f,f.Qb=function(G,me,Ee){for(var Ze=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)Ze[zt-2]=arguments[zt];return R.prototype[me].apply(G,Ze)}}function J(f){const R=f.length;if(0<R){const k=Array(R);for(let G=0;G<R;G++)k[G]=f[G];return k}return[]}function K(f,R){for(let k=1;k<arguments.length;k++){const G=arguments[k];if(A(G)){const me=f.length||0,Ee=G.length||0;f.length=me+Ee;for(let Ze=0;Ze<Ee;Ze++)f[me+Ze]=G[Ze]}else f.push(G)}}class _e{constructor(R,k){this.i=R,this.j=k,this.h=0,this.g=null}get(){let R;return 0<this.h?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function Re(f){return/^[\s\xa0]*$/.test(f)}function ie(){var f=E.navigator;return f&&(f=f.userAgent)?f:""}function ke(f){return ke[" "](f),f}ke[" "]=function(){};var Ye=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function Qe(f,R,k){for(const G in f)R.call(k,f[G],G,f)}function ce(f,R){for(const k in f)R.call(void 0,f[k],k,f)}function H(f){const R={};for(const k in f)R[k]=f[k];return R}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(f,R){let k,G;for(let me=1;me<arguments.length;me++){G=arguments[me];for(k in G)f[k]=G[k];for(let Ee=0;Ee<Y.length;Ee++)k=Y[Ee],Object.prototype.hasOwnProperty.call(G,k)&&(f[k]=G[k])}}function ae(f){var R=1;f=f.split(":");const k=[];for(;0<R&&f.length;)k.push(f.shift()),R--;return f.length&&k.push(f.join(":")),k}function q(f){E.setTimeout(()=>{throw f},0)}function X(){var f=xt;let R=null;return f.g&&(R=f.g,f.g=f.g.next,f.g||(f.h=null),R.next=null),R}class rt{constructor(){this.h=this.g=null}add(R,k){const G=lt.get();G.set(R,k),this.h?this.h.next=G:this.g=G,this.h=G}}var lt=new _e(()=>new $,f=>f.reset());class ${constructor(){this.next=this.g=this.h=null}set(R,k){this.h=R,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let le,Ce=!1,xt=new rt,F=()=>{const f=E.Promise.resolve(void 0);le=()=>{f.then(ee)}};var ee=()=>{for(var f;f=X();){try{f.h.call(f.g)}catch(k){q(k)}var R=lt;R.j(f),100>R.h&&(R.h++,f.next=R.g,R.g=f)}Ce=!1};function je(){this.s=this.s,this.C=this.C}je.prototype.s=!1,je.prototype.ma=function(){this.s||(this.s=!0,this.N())},je.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Me(f,R){this.type=f,this.g=this.target=R,this.defaultPrevented=!1}Me.prototype.h=function(){this.defaultPrevented=!0};var Be=(function(){if(!E.addEventListener||!Object.defineProperty)return!1;var f=!1,R=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const k=()=>{};E.addEventListener("test",k,R),E.removeEventListener("test",k,R)}catch{}return f})();function Ke(f,R){if(Me.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var k=this.type=f.type,G=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=R,R=f.relatedTarget){if(Ye){e:{try{ke(R.nodeName);var me=!0;break e}catch{}me=!1}me||(R=null)}}else k=="mouseover"?R=f.fromElement:k=="mouseout"&&(R=f.toElement);this.relatedTarget=R,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ge[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ke.aa.h.call(this)}}te(Ke,Me);var Ge={2:"touch",3:"pen",4:"mouse"};Ke.prototype.h=function(){Ke.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var gn="closure_listenable_"+(1e6*Math.random()|0),Bt=0;function ds(f,R,k,G,me){this.listener=f,this.proxy=null,this.src=R,this.type=k,this.capture=!!G,this.ha=me,this.key=++Bt,this.da=this.fa=!1}function pr(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Mn(f){this.src=f,this.g={},this.h=0}Mn.prototype.add=function(f,R,k,G,me){var Ee=f.toString();f=this.g[Ee],f||(f=this.g[Ee]=[],this.h++);var Ze=Os(f,R,G,me);return-1<Ze?(R=f[Ze],k||(R.fa=!1)):(R=new ds(R,this.src,Ee,!!G,me),R.fa=k,f.push(R)),R};function pt(f,R){var k=R.type;if(k in f.g){var G=f.g[k],me=Array.prototype.indexOf.call(G,R,void 0),Ee;(Ee=0<=me)&&Array.prototype.splice.call(G,me,1),Ee&&(pr(R),f.g[k].length==0&&(delete f.g[k],f.h--))}}function Os(f,R,k,G){for(var me=0;me<f.length;++me){var Ee=f[me];if(!Ee.da&&Ee.listener==R&&Ee.capture==!!k&&Ee.ha==G)return me}return-1}var xa="closure_lm_"+(1e6*Math.random()|0),wa={};function Dn(f,R,k,G,me){if(Array.isArray(R)){for(var Ee=0;Ee<R.length;Ee++)Dn(f,R[Ee],k,G,me);return null}return k=zo(k),f&&f[gn]?f.K(R,k,N(G)?!!G.capture:!1,me):ui(f,R,k,!1,G,me)}function ui(f,R,k,G,me,Ee){if(!R)throw Error("Invalid event type");var Ze=N(me)?!!me.capture:!!me,zt=hi(f);if(zt||(f[xa]=zt=new Mn(f)),k=zt.add(R,k,G,Ze,Ee),k.proxy)return k;if(G=la(),k.proxy=G,G.src=f,G.listener=k,f.addEventListener)Be||(me=Ze),me===void 0&&(me=!1),f.addEventListener(R.toString(),G,me);else if(f.attachEvent)f.attachEvent(ni(R.toString()),G);else if(f.addListener&&f.removeListener)f.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return k}function la(){function f(k){return R.call(f.src,f.listener,k)}const R=Kt;return f}function fo(f,R,k,G,me){if(Array.isArray(R))for(var Ee=0;Ee<R.length;Ee++)fo(f,R[Ee],k,G,me);else G=N(G)?!!G.capture:!!G,k=zo(k),f&&f[gn]?(f=f.i,R=String(R).toString(),R in f.g&&(Ee=f.g[R],k=Os(Ee,k,G,me),-1<k&&(pr(Ee[k]),Array.prototype.splice.call(Ee,k,1),Ee.length==0&&(delete f.g[R],f.h--)))):f&&(f=hi(f))&&(R=f.g[R.toString()],f=-1,R&&(f=Os(R,k,G,me)),(k=-1<f?R[f]:null)&&Hi(k))}function Hi(f){if(typeof f!="number"&&f&&!f.da){var R=f.src;if(R&&R[gn])pt(R.i,f);else{var k=f.type,G=f.proxy;R.removeEventListener?R.removeEventListener(k,G,f.capture):R.detachEvent?R.detachEvent(ni(k),G):R.addListener&&R.removeListener&&R.removeListener(G),(k=hi(R))?(pt(k,f),k.h==0&&(k.src=null,R[xa]=null)):pr(f)}}}function ni(f){return f in wa?wa[f]:wa[f]="on"+f}function Kt(f,R){if(f.da)f=!0;else{R=new Ke(R,this);var k=f.listener,G=f.ha||f.src;f.fa&&Hi(f),f=k.call(G,R)}return f}function hi(f){return f=f[xa],f instanceof Mn?f:null}var Lo="__closure_events_fn_"+(1e9*Math.random()>>>0);function zo(f){return typeof f=="function"?f:(f[Lo]||(f[Lo]=function(R){return f.handleEvent(R)}),f[Lo])}function It(){je.call(this),this.i=new Mn(this),this.M=this,this.F=null}te(It,je),It.prototype[gn]=!0,It.prototype.removeEventListener=function(f,R,k,G){fo(this,f,R,k,G)};function Jt(f,R){var k,G=f.F;if(G)for(k=[];G;G=G.F)k.push(G);if(f=f.M,G=R.type||R,typeof R=="string")R=new Me(R,f);else if(R instanceof Me)R.target=R.target||f;else{var me=R;R=new Me(G,f),he(R,me)}if(me=!0,k)for(var Ee=k.length-1;0<=Ee;Ee--){var Ze=R.g=k[Ee];me=Gi(Ze,G,!0,R)&&me}if(Ze=R.g=f,me=Gi(Ze,G,!0,R)&&me,me=Gi(Ze,G,!1,R)&&me,k)for(Ee=0;Ee<k.length;Ee++)Ze=R.g=k[Ee],me=Gi(Ze,G,!1,R)&&me}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var f=this.i,R;for(R in f.g){for(var k=f.g[R],G=0;G<k.length;G++)pr(k[G]);delete f.g[R],f.h--}}this.F=null},It.prototype.K=function(f,R,k,G){return this.i.add(String(f),R,!1,k,G)},It.prototype.L=function(f,R,k,G){return this.i.add(String(f),R,!0,k,G)};function Gi(f,R,k,G){if(R=f.i.g[String(R)],!R)return!0;R=R.concat();for(var me=!0,Ee=0;Ee<R.length;++Ee){var Ze=R[Ee];if(Ze&&!Ze.da&&Ze.capture==k){var zt=Ze.listener,$t=Ze.ha||Ze.src;Ze.fa&&pt(f.i,Ze),me=zt.call($t,G)!==!1&&me}}return me&&!G.defaultPrevented}function Wn(f,R,k){if(typeof f=="function")k&&(f=V(f,k));else if(f&&typeof f.handleEvent=="function")f=V(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(R)?-1:E.setTimeout(f,R||0)}function Ta(f){f.g=Wn(()=>{f.g=null,f.i&&(f.i=!1,Ta(f))},f.l);const R=f.h;f.h=null,f.m.apply(null,R)}class ca extends je{constructor(R,k){super(),this.m=R,this.l=k,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:Ta(this)}N(){super.N(),this.g&&(E.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ua(f){je.call(this),this.h=f,this.g={}}te(ua,je);var fs=[];function Ls(f){Qe(f.g,function(R,k){this.g.hasOwnProperty(k)&&Hi(R)},f),f.g={}}ua.prototype.N=function(){ua.aa.N.call(this),Ls(this)},ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yr=E.JSON.stringify,mn=E.JSON.parse,On=class{stringify(f){return E.JSON.stringify(f,void 0)}parse(f){return E.JSON.parse(f,void 0)}};function ja(){}ja.prototype.h=null;function Wr(f){return f.h||(f.h=f.i())}function ir(){}var Xr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qr(){Me.call(this,"d")}te(Qr,Me);function go(){Me.call(this,"c")}te(go,Me);var gs={},Uo=null;function ha(){return Uo=Uo||new It}gs.La="serverreachability";function di(f){Me.call(this,gs.La,f)}te(di,Me);function Ei(f){const R=ha();Jt(R,new di(R))}gs.STAT_EVENT="statevent";function Xn(f,R){Me.call(this,gs.STAT_EVENT,f),this.stat=R}te(Xn,Me);function hn(f){const R=ha();Jt(R,new Xn(R,f))}gs.Ma="timingevent";function jn(f,R){Me.call(this,gs.Ma,f),this.size=R}te(jn,Me);function Gt(f,R){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return E.setTimeout(function(){f()},R)}function Or(){this.g=!0}Or.prototype.xa=function(){this.g=!1};function Zi(f,R,k,G,me,Ee){f.info(function(){if(f.g)if(Ee)for(var Ze="",zt=Ee.split("&"),$t=0;$t<zt.length;$t++){var Wt=zt[$t].split("=");if(1<Wt.length){var en=Wt[0];Wt=Wt[1];var An=en.split("_");Ze=2<=An.length&&An[1]=="type"?Ze+(en+"="+Wt+"&"):Ze+(en+"=redacted&")}}else Ze=null;else Ze=Ee;return"XMLHTTP REQ ("+G+") [attempt "+me+"]: "+R+`
`+k+`
`+Ze})}function Je(f,R,k,G,me,Ee,Ze){f.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+me+"]: "+R+`
`+k+`
`+Ee+" "+Ze})}function zi(f,R,k,G){f.info(function(){return"XMLHTTP TEXT ("+R+"): "+da(f,k)+(G?" "+G:"")})}function mo(f,R){f.info(function(){return"TIMEOUT: "+R})}Or.prototype.info=function(){};function da(f,R){if(!f.g)return R;if(!R)return null;try{var k=JSON.parse(R);if(k){for(f=0;f<k.length;f++)if(Array.isArray(k[f])){var G=k[f];if(!(2>G.length)){var me=G[1];if(Array.isArray(me)&&!(1>me.length)){var Ee=me[0];if(Ee!="noop"&&Ee!="stop"&&Ee!="close")for(var Ze=1;Ze<me.length;Ze++)me[Ze]=""}}}}return yr(k)}catch{return R}}var Lt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Sn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rr;function wn(){}te(wn,ja),wn.prototype.g=function(){return new XMLHttpRequest},wn.prototype.i=function(){return{}},rr=new wn;function Ui(f,R,k,G){this.j=f,this.i=R,this.l=k,this.R=G||1,this.U=new ua(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var Vo={},Ba={};function ms(f,R,k){f.L=1,f.v=Yi(In(R)),f.m=k,f.P=!0,zs(f,null)}function zs(f,R){f.F=Date.now(),Kr(f),f.A=In(f.v);var k=f.A,G=f.R;Array.isArray(G)||(G=[String(G)]),Fa(k.i,"t",G),f.C=0,k=f.j.J,f.h=new Bn,f.g=Gs(f.j,k?R:null,!f.m),0<f.O&&(f.M=new ca(V(f.Y,f,f.g),f.O)),R=f.U,k=f.g,G=f.ca;var me="readystatechange";Array.isArray(me)||(me&&(fs[0]=me.toString()),me=fs);for(var Ee=0;Ee<me.length;Ee++){var Ze=Dn(k,me[Ee],G||R.handleEvent,!1,R.h||R);if(!Ze)break;R.g[Ze.key]=Ze}R=f.H?H(f.H):{},f.m?(f.u||(f.u="POST"),R["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,R)):(f.u="GET",f.g.ea(f.A,f.u,null,R)),Ei(),Zi(f.i,f.u,f.A,f.l,f.R,f.m)}Ui.prototype.ca=function(f){f=f.target;const R=this.M;R&&Ji(f)==3?R.j():this.Y(f)},Ui.prototype.Y=function(f){try{if(f==this.g)e:{const An=Ji(this.g);var R=this.g.Ba();const ws=this.g.Z();if(!(3>An)&&(An!=3||this.g&&(this.h.h||this.g.oa()||_o(this.g)))){this.J||An!=4||R==7||(R==8||0>=ws?Ei(3):Ei(2)),ps(this);var k=this.g.Z();this.X=k;t:if(Si(this)){var G=_o(this.g);f="";var me=G.length,Ee=Ji(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ii(this),sr(this);var Ze="";break t}this.h.i=new E.TextDecoder}for(R=0;R<me;R++)this.h.h=!0,f+=this.h.i.decode(G[R],{stream:!(Ee&&R==me-1)});G.length=0,this.h.g+=f,this.C=0,Ze=this.h.g}else Ze=this.g.oa();if(this.o=k==200,Je(this.i,this.u,this.A,this.l,this.R,An,k),this.o){if(this.T&&!this.K){t:{if(this.g){var zt,$t=this.g;if((zt=$t.g?$t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Re(zt)){var Wt=zt;break t}}Wt=null}if(k=Wt)zi(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_r(this,k);else{this.o=!1,this.s=3,hn(12),ii(this),sr(this);break e}}if(this.P){k=!0;let Tn;for(;!this.J&&this.C<Ze.length;)if(Tn=Ea(this,Ze),Tn==Ba){An==4&&(this.s=4,hn(14),k=!1),zi(this.i,this.l,null,"[Incomplete Response]");break}else if(Tn==Vo){this.s=4,hn(15),zi(this.i,this.l,Ze,"[Invalid Chunk]"),k=!1;break}else zi(this.i,this.l,Tn,null),_r(this,Tn);if(Si(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),An!=4||Ze.length!=0||this.h.h||(this.s=1,hn(16),k=!1),this.o=this.o&&k,!k)zi(this.i,this.l,Ze,"[Invalid Chunked Response]"),ii(this),sr(this);else if(0<Ze.length&&!this.W){this.W=!0;var en=this.j;en.g==this&&en.ba&&!en.M&&(en.j.info("Great, no buffering proxy detected. Bytes received: "+Ze.length),Vr(en),en.M=!0,hn(11))}}else zi(this.i,this.l,Ze,null),_r(this,Ze);An==4&&ii(this),this.o&&!this.J&&(An==4?ri(this.j,this):(this.o=!1,Kr(this)))}else ll(this.g),k==400&&0<Ze.indexOf("Unknown SID")?(this.s=3,hn(12)):(this.s=0,hn(13)),ii(this),sr(this)}}}catch{}finally{}};function Si(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Ea(f,R){var k=f.C,G=R.indexOf(`
`,k);return G==-1?Ba:(k=Number(R.substring(k,G)),isNaN(k)?Vo:(G+=1,G+k>R.length?Ba:(R=R.slice(G,G+k),f.C=G+k,R)))}Ui.prototype.cancel=function(){this.J=!0,ii(this)};function Kr(f){f.S=Date.now()+f.I,Jr(f,f.I)}function Jr(f,R){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Gt(V(f.ba,f),R)}function ps(f){f.B&&(E.clearTimeout(f.B),f.B=null)}Ui.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(mo(this.i,this.A),this.L!=2&&(Ei(),hn(17)),ii(this),this.s=2,sr(this)):Jr(this,this.S-f)};function sr(f){f.j.G==0||f.J||ri(f.j,f)}function ii(f){ps(f);var R=f.M;R&&typeof R.ma=="function"&&R.ma(),f.M=null,Ls(f.U),f.g&&(R=f.g,f.g=null,R.abort(),R.ma())}function _r(f,R){try{var k=f.j;if(k.G!=0&&(k.g==f||Mt(k.h,f))){if(!f.K&&Mt(k.h,f)&&k.G==3){try{var G=k.Da.g.parse(R)}catch{G=null}if(Array.isArray(G)&&G.length==3){var me=G;if(me[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<f.F)bo(k),ma(k);else break e;Fs(k),hn(18)}}else k.za=me[1],0<k.za-k.T&&37500>me[2]&&k.F&&k.v==0&&!k.C&&(k.C=Gt(V(k.Za,k),6e3));if(1>=dn(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else hr(k,11)}else if((f.K||k.g==f)&&bo(k),!Re(R))for(me=k.Da.g.parse(R),R=0;R<me.length;R++){let Wt=me[R];if(k.T=Wt[0],Wt=Wt[1],k.G==2)if(Wt[0]=="c"){k.K=Wt[1],k.ia=Wt[2];const en=Wt[3];en!=null&&(k.la=en,k.j.info("VER="+k.la));const An=Wt[4];An!=null&&(k.Aa=An,k.j.info("SVER="+k.Aa));const ws=Wt[5];ws!=null&&typeof ws=="number"&&0<ws&&(G=1.5*ws,k.L=G,k.j.info("backChannelRequestTimeoutMs_="+G)),G=k;const Tn=f.g;if(Tn){const jr=Tn.g?Tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jr){var Ee=G.h;Ee.g||jr.indexOf("spdy")==-1&&jr.indexOf("quic")==-1&&jr.indexOf("h2")==-1||(Ee.j=Ee.l,Ee.g=new Set,Ee.h&&(pn(Ee,Ee.h),Ee.h=null))}if(G.D){const Er=Tn.g?Tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Er&&(G.ya=Er,yt(G.I,G.D,Er))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-f.F,k.j.info("Handshake RTT: "+k.R+"ms")),G=k;var Ze=f;if(G.qa=Ga(G,G.J?G.ia:null,G.W),Ze.K){Ai(G.h,Ze);var zt=Ze,$t=G.L;$t&&(zt.I=$t),zt.B&&(ps(zt),Kr(zt)),G.g=Ze}else es(G);0<k.i.length&&Bs(k)}else Wt[0]!="stop"&&Wt[0]!="close"||hr(k,7);else k.G==3&&(Wt[0]=="stop"||Wt[0]=="close"?Wt[0]=="stop"?hr(k,7):Ha(k):Wt[0]!="noop"&&k.l&&k.l.ta(Wt),k.v=0)}}Ei(4)}catch{}}var ys=class{constructor(f,R){this.g=f,this.map=R}};function _s(f){this.l=f||10,E.PerformanceNavigationTiming?(f=E.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(E.chrome&&E.chrome.loadTimes&&E.chrome.loadTimes()&&E.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sa(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function dn(f){return f.h?1:f.g?f.g.size:0}function Mt(f,R){return f.h?f.h==R:f.g?f.g.has(R):!1}function pn(f,R){f.g?f.g.add(R):f.h=R}function Ai(f,R){f.h&&f.h==R?f.h=null:f.g&&f.g.has(R)&&f.g.delete(R)}_s.prototype.cancel=function(){if(this.i=Ni(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Ni(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let R=f.i;for(const k of f.g.values())R=R.concat(k.D);return R}return J(f.i)}function Us(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(A(f)){for(var R=[],k=f.length,G=0;G<k;G++)R.push(f[G]);return R}R=[],k=0;for(G in f)R[k++]=f[G];return R}function ar(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(A(f)||typeof f=="string"){var R=[];f=f.length;for(var k=0;k<f;k++)R.push(k);return R}R=[],k=0;for(const G in f)R[k++]=G;return R}}}function bt(f,R){if(f.forEach&&typeof f.forEach=="function")f.forEach(R,void 0);else if(A(f)||typeof f=="string")Array.prototype.forEach.call(f,R,void 0);else for(var k=ar(f),G=Us(f),me=G.length,Ee=0;Ee<me;Ee++)R.call(void 0,G[Ee],k&&k[Ee],f)}var yn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function po(f,R){if(f){f=f.split("&");for(var k=0;k<f.length;k++){var G=f[k].indexOf("="),me=null;if(0<=G){var Ee=f[k].substring(0,G);me=f[k].substring(G+1)}else Ee=f[k];R(Ee,me?decodeURIComponent(me.replace(/\+/g," ")):"")}}}function Ln(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ln){this.h=f.h,vr(this,f.j),this.o=f.o,this.g=f.g,or(this,f.s),this.l=f.l;var R=f.i,k=new xs;k.i=R.i,R.g&&(k.g=new Map(R.g),k.h=R.h),lr(this,k),this.m=f.m}else f&&(R=String(f).match(yn))?(this.h=!1,vr(this,R[1]||"",!0),this.o=Wi(R[2]||""),this.g=Wi(R[3]||"",!0),or(this,R[4]),this.l=Wi(R[5]||"",!0),lr(this,R[6]||"",!0),this.m=Wi(R[7]||"")):(this.h=!1,this.i=new xs(null,this.h))}Ln.prototype.toString=function(){var f=[],R=this.j;R&&f.push(qr(R,cr,!0),":");var k=this.g;return(k||R=="file")&&(f.push("//"),(R=this.o)&&f.push(qr(R,cr,!0),"@"),f.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&f.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&f.push("/"),f.push(qr(k,k.charAt(0)=="/"?jo:vs,!0))),(k=this.i.toString())&&f.push("?",k),(k=this.m)&&f.push("#",qr(k,bs)),f.join("")};function In(f){return new Ln(f)}function vr(f,R,k){f.j=k?Wi(R,!0):R,f.j&&(f.j=f.j.replace(/:$/,""))}function or(f,R){if(R){if(R=Number(R),isNaN(R)||0>R)throw Error("Bad port number "+R);f.s=R}else f.s=null}function lr(f,R,k){R instanceof xs?(f.i=R,Xi(f.i,f.h)):(k||(R=qr(R,fa)),f.i=new xs(R,f.h))}function yt(f,R,k){f.i.set(R,k)}function Yi(f){return yt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Wi(f,R){return f?R?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function qr(f,R,k){return typeof f=="string"?(f=encodeURI(f).replace(R,yo),k&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function yo(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var cr=/[#\/\?@]/g,vs=/[#\?:]/g,jo=/[#\?]/g,fa=/[#\?@]/g,bs=/#/g;function xs(f,R){this.h=this.g=null,this.i=f||null,this.j=!!R}function ur(f){f.g||(f.g=new Map,f.h=0,f.i&&po(f.i,function(R,k){f.add(decodeURIComponent(R.replace(/\+/g," ")),k)}))}r=xs.prototype,r.add=function(f,R){ur(this),this.i=null,f=ht(this,f);var k=this.g.get(f);return k||this.g.set(f,k=[]),k.push(R),this.h+=1,this};function ki(f,R){ur(f),R=ht(f,R),f.g.has(R)&&(f.i=null,f.h-=f.g.get(R).length,f.g.delete(R))}function Lr(f,R){return ur(f),R=ht(f,R),f.g.has(R)}r.forEach=function(f,R){ur(this),this.g.forEach(function(k,G){k.forEach(function(me){f.call(R,me,G,this)},this)},this)},r.na=function(){ur(this);const f=Array.from(this.g.values()),R=Array.from(this.g.keys()),k=[];for(let G=0;G<R.length;G++){const me=f[G];for(let Ee=0;Ee<me.length;Ee++)k.push(R[G])}return k},r.V=function(f){ur(this);let R=[];if(typeof f=="string")Lr(this,f)&&(R=R.concat(this.g.get(ht(this,f))));else{f=Array.from(this.g.values());for(let k=0;k<f.length;k++)R=R.concat(f[k])}return R},r.set=function(f,R){return ur(this),this.i=null,f=ht(this,f),Lr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[R]),this.h+=1,this},r.get=function(f,R){return f?(f=this.V(f),0<f.length?String(f[0]):R):R};function Fa(f,R,k){ki(f,R),0<k.length&&(f.i=null,f.g.set(ht(f,R),J(k)),f.h+=k.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],R=Array.from(this.g.keys());for(var k=0;k<R.length;k++){var G=R[k];const Ee=encodeURIComponent(String(G)),Ze=this.V(G);for(G=0;G<Ze.length;G++){var me=Ee;Ze[G]!==""&&(me+="="+encodeURIComponent(String(Ze[G]))),f.push(me)}}return this.i=f.join("&")};function ht(f,R){return R=String(R),f.j&&(R=R.toLowerCase()),R}function Xi(f,R){R&&!f.j&&(ur(f),f.i=null,f.g.forEach(function(k,G){var me=G.toLowerCase();G!=me&&(ki(this,G),Fa(this,me,k))},f)),f.j=R}function ot(f,R){const k=new Or;if(E.Image){const G=new Image;G.onload=Q(Vi,k,"TestLoadImage: loaded",!0,R,G),G.onerror=Q(Vi,k,"TestLoadImage: error",!1,R,G),G.onabort=Q(Vi,k,"TestLoadImage: abort",!1,R,G),G.ontimeout=Q(Vi,k,"TestLoadImage: timeout",!1,R,G),E.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=f}else R(!1)}function Qi(f,R){const k=new Or,G=new AbortController,me=setTimeout(()=>{G.abort(),Vi(k,"TestPingServer: timeout",!1,R)},1e4);fetch(f,{signal:G.signal}).then(Ee=>{clearTimeout(me),Ee.ok?Vi(k,"TestPingServer: ok",!0,R):Vi(k,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(me),Vi(k,"TestPingServer: error",!1,R)})}function Vi(f,R,k,G,me){try{me&&(me.onload=null,me.onerror=null,me.onabort=null,me.ontimeout=null),G(k)}catch{}}function zr(){this.g=new On}function Ki(f,R,k){const G=k||"";try{bt(f,function(me,Ee){let Ze=me;N(me)&&(Ze=yr(me)),R.push(G+Ee+"="+encodeURIComponent(Ze))})}catch(me){throw R.push(G+"type="+encodeURIComponent("_badmap")),me}}function Pi(f){this.l=f.Ub||null,this.j=f.eb||!1}te(Pi,ja),Pi.prototype.g=function(){return new br(this.l,this.j)},Pi.prototype.i=(function(f){return function(){return f}})({});function br(f,R){It.call(this),this.D=f,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}te(br,It),r=br.prototype,r.open=function(f,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=R,this.readyState=1,Ri(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const R={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(R.body=f),(this.D||E).fetch(new Request(this.A,R)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qt(this)),this.readyState=0},r.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof E.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xr(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function xr(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}r.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var R=f.value?f.value:new Uint8Array(0);(R=this.v.decode(R,{stream:!f.done}))&&(this.response=this.responseText+=R)}f.done?Qt(this):Ri(this),this.readyState==3&&xr(this)}},r.Ra=function(f){this.g&&(this.response=this.responseText=f,Qt(this))},r.Qa=function(f){this.g&&(this.response=f,Qt(this))},r.ga=function(){this.g&&Qt(this)};function Qt(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Ri(f)}r.setRequestHeader=function(f,R){this.u.append(f,R)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],R=this.h.entries();for(var k=R.next();!k.done;)k=k.value,f.push(k[0]+": "+k[1]),k=R.next();return f.join(`\r
`)};function Ri(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(br.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function wr(f){let R="";return Qe(f,function(k,G){R+=G,R+=":",R+=k,R+=`\r
`}),R}function fi(f,R,k){e:{for(G in k){var G=!1;break e}G=!0}G||(k=wr(k),typeof f=="string"?k!=null&&encodeURIComponent(String(k)):yt(f,R,k))}function qt(f){It.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}te(qt,It);var $r=/^https?$/i,Ur=["POST","PUT"];r=qt.prototype,r.Ha=function(f){this.J=f},r.ea=function(f,R,k,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);R=R?R.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rr.g(),this.v=this.o?Wr(this.o):Wr(rr),this.g.onreadystatechange=V(this.Ea,this);try{this.B=!0,this.g.open(R,String(f),!0),this.B=!1}catch(Ee){Bo(this,Ee);return}if(f=k||"",k=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var me in G)k.set(me,G[me]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const Ee of G.keys())k.set(Ee,G.get(Ee));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(k.keys()).find(Ee=>Ee.toLowerCase()=="content-type"),me=E.FormData&&f instanceof E.FormData,!(0<=Array.prototype.indexOf.call(Ur,R,void 0))||G||me||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ee,Ze]of k)this.g.setRequestHeader(Ee,Ze);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ji(this),this.u=!0,this.g.send(f),this.u=!1}catch(Ee){Bo(this,Ee)}};function Bo(f,R){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=R,f.m=5,Aa(f),Vs(f)}function Aa(f){f.A||(f.A=!0,Jt(f,"complete"),Jt(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Jt(this,"complete"),Jt(this,"abort"),Vs(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vs(this,!0)),qt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?kt(this):this.bb())},r.bb=function(){kt(this)};function kt(f){if(f.h&&typeof v<"u"&&(!f.v[1]||Ji(f)!=4||f.Z()!=2)){if(f.u&&Ji(f)==4)Wn(f.Ea,0,f);else if(Jt(f,"readystatechange"),Ji(f)==4){f.h=!1;try{const Ze=f.Z();e:switch(Ze){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var k;if(!(k=R)){var G;if(G=Ze===0){var me=String(f.D).match(yn)[1]||null;!me&&E.self&&E.self.location&&(me=E.self.location.protocol.slice(0,-1)),G=!$r.test(me?me.toLowerCase():"")}k=G}if(k)Jt(f,"complete"),Jt(f,"success");else{f.m=6;try{var Ee=2<Ji(f)?f.g.statusText:""}catch{Ee=""}f.l=Ee+" ["+f.Z()+"]",Aa(f)}}finally{Vs(f)}}}}function Vs(f,R){if(f.g){ji(f);const k=f.g,G=f.v[0]?()=>{}:null;f.g=null,f.v=null,R||Jt(f,"ready");try{k.onreadystatechange=G}catch{}}}function ji(f){f.I&&(E.clearTimeout(f.I),f.I=null)}r.isActive=function(){return!!this.g};function Ji(f){return f.g?f.g.readyState:0}r.Z=function(){try{return 2<Ji(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(f){if(this.g){var R=this.g.responseText;return f&&R.indexOf(f)==0&&(R=R.substring(f.length)),mn(R)}};function _o(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ll(f){const R={};f=(f.g&&2<=Ji(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<f.length;G++){if(Re(f[G]))continue;var k=ae(f[G]);const me=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const Ee=R[me]||[];R[me]=Ee,Ee.push(k)}ce(R,function(G){return G.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ga(f,R,k){return k&&k.internalChannelParams&&k.internalChannelParams[f]||R}function js(f){this.Aa=0,this.i=[],this.j=new Or,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ga("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ga("baseRetryDelayMs",5e3,f),this.cb=ga("retryDelaySeedMs",1e4,f),this.Wa=ga("forwardChannelMaxRetries",2,f),this.wa=ga("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new _s(f&&f.concurrentRequestLimit),this.Da=new zr,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=js.prototype,r.la=8,r.G=1,r.connect=function(f,R,k,G){hn(0),this.W=f,this.H=R||{},k&&G!==void 0&&(this.H.OSID=k,this.H.OAID=G),this.F=this.X,this.I=Ga(this,null,this.W),Bs(this)};function Ha(f){if(cl(f),f.G==3){var R=f.U++,k=In(f.I);if(yt(k,"SID",f.K),yt(k,"RID",R),yt(k,"TYPE","terminate"),pa(f,k),R=new Ui(f,f.j,R),R.L=2,R.v=Yi(In(k)),k=!1,E.navigator&&E.navigator.sendBeacon)try{k=E.navigator.sendBeacon(R.v.toString(),"")}catch{}!k&&E.Image&&(new Image().src=R.v,k=!0),k||(R.g=Gs(R.j,null),R.g.ea(R.v)),R.F=Date.now(),Kr(R)}Ra(f)}function ma(f){f.g&&(Vr(f),f.g.cancel(),f.g=null)}function cl(f){ma(f),f.u&&(E.clearTimeout(f.u),f.u=null),bo(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&E.clearTimeout(f.s),f.s=null)}function Bs(f){if(!Sa(f.h)&&!f.s){f.s=!0;var R=f.Ga;le||F(),Ce||(le(),Ce=!0),xt.add(R,f),f.B=0}}function ul(f,R){return dn(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=R.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Gt(V(f.Ga,f,R),Hs(f,f.B)),f.B++,!0)}r.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const me=new Ui(this,this.j,f);let Ee=this.o;if(this.S&&(Ee?(Ee=H(Ee),he(Ee,this.S)):Ee=this.S),this.m!==null||this.O||(me.H=Ee,Ee=null),this.P)e:{for(var R=0,k=0;k<this.i.length;k++){t:{var G=this.i[k];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(R+=G,4096<R){R=k;break e}if(R===4096||k===this.i.length-1){R=k+1;break e}}R=1e3}else R=1e3;R=Na(this,me,R),k=In(this.I),yt(k,"RID",f),yt(k,"CVER",22),this.D&&yt(k,"X-HTTP-Session-Id",this.D),pa(this,k),Ee&&(this.O?R="headers="+encodeURIComponent(String(wr(Ee)))+"&"+R:this.m&&fi(k,this.m,Ee)),pn(this.h,me),this.Ua&&yt(k,"TYPE","init"),this.P?(yt(k,"$req",R),yt(k,"SID","null"),me.T=!0,ms(me,k,null)):ms(me,k,R),this.G=2}}else this.G==3&&(f?Ci(this,f):this.i.length==0||Sa(this.h)||Ci(this))};function Ci(f,R){var k;R?k=R.l:k=f.U++;const G=In(f.I);yt(G,"SID",f.K),yt(G,"RID",k),yt(G,"AID",f.T),pa(f,G),f.m&&f.o&&fi(G,f.m,f.o),k=new Ui(f,f.j,k,f.B+1),f.m===null&&(k.H=f.o),R&&(f.i=R.D.concat(f.i)),R=Na(f,k,1e3),k.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),pn(f.h,k),ms(k,G,R)}function pa(f,R){f.H&&Qe(f.H,function(k,G){yt(R,G,k)}),f.l&&bt({},function(k,G){yt(R,G,k)})}function Na(f,R,k){k=Math.min(f.i.length,k);var G=f.l?V(f.l.Na,f.l,f):null;e:{var me=f.i;let Ee=-1;for(;;){const Ze=["count="+k];Ee==-1?0<k?(Ee=me[0].g,Ze.push("ofs="+Ee)):Ee=0:Ze.push("ofs="+Ee);let zt=!0;for(let $t=0;$t<k;$t++){let Wt=me[$t].g;const en=me[$t].map;if(Wt-=Ee,0>Wt)Ee=Math.max(0,me[$t].g-100),zt=!1;else try{Ki(en,Ze,"req"+Wt+"_")}catch{G&&G(en)}}if(zt){G=Ze.join("&");break e}}}return f=f.i.splice(0,k),R.D=f,G}function es(f){if(!f.g&&!f.u){f.Y=1;var R=f.Fa;le||F(),Ce||(le(),Ce=!0),xt.add(R,f),f.v=0}}function Fs(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Gt(V(f.Fa,f),Hs(f,f.v)),f.v++,!0)}r.Fa=function(){if(this.u=null,vo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Gt(V(this.ab,this),f)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,hn(10),ma(this),vo(this))};function Vr(f){f.A!=null&&(E.clearTimeout(f.A),f.A=null)}function vo(f){f.g=new Ui(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var R=In(f.qa);yt(R,"RID","rpc"),yt(R,"SID",f.K),yt(R,"AID",f.T),yt(R,"CI",f.F?"0":"1"),!f.F&&f.ja&&yt(R,"TO",f.ja),yt(R,"TYPE","xmlhttp"),pa(f,R),f.m&&f.o&&fi(R,f.m,f.o),f.L&&(f.g.I=f.L);var k=f.g;f=f.ia,k.L=1,k.v=Yi(In(R)),k.m=null,k.P=!0,zs(k,f)}r.Za=function(){this.C!=null&&(this.C=null,ma(this),Fs(this),hn(19))};function bo(f){f.C!=null&&(E.clearTimeout(f.C),f.C=null)}function ri(f,R){var k=null;if(f.g==R){bo(f),Vr(f),f.g=null;var G=2}else if(Mt(f.h,R))k=R.D,Ai(f.h,R),G=1;else return;if(f.G!=0){if(R.o)if(G==1){k=R.m?R.m.length:0,R=Date.now()-R.F;var me=f.B;G=ha(),Jt(G,new jn(G,k)),Bs(f)}else es(f);else if(me=R.s,me==3||me==0&&0<R.X||!(G==1&&ul(f,R)||G==2&&Fs(f)))switch(k&&0<k.length&&(R=f.h,R.i=R.i.concat(k)),me){case 1:hr(f,5);break;case 4:hr(f,10);break;case 3:hr(f,6);break;default:hr(f,2)}}}function Hs(f,R){let k=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(k*=2),k*R}function hr(f,R){if(f.j.info("Error code "+R),R==2){var k=V(f.fb,f),G=f.Xa;const me=!G;G=new Ln(G||"//www.google.com/images/cleardot.gif"),E.location&&E.location.protocol=="http"||vr(G,"https"),Yi(G),me?ot(G.toString(),k):Qi(G.toString(),k)}else hn(2);f.G=0,f.l&&f.l.sa(R),Ra(f),cl(f)}r.fb=function(f){f?(this.j.info("Successfully pinged google.com"),hn(2)):(this.j.info("Failed to ping google.com"),hn(1))};function Ra(f){if(f.G=0,f.ka=[],f.l){const R=Ni(f.h);(R.length!=0||f.i.length!=0)&&(K(f.ka,R),K(f.ka,f.i),f.h.i.length=0,J(f.i),f.i.length=0),f.l.ra()}}function Ga(f,R,k){var G=k instanceof Ln?In(k):new Ln(k);if(G.g!="")R&&(G.g=R+"."+G.g),or(G,G.s);else{var me=E.location;G=me.protocol,R=R?R+"."+me.hostname:me.hostname,me=+me.port;var Ee=new Ln(null);G&&vr(Ee,G),R&&(Ee.g=R),me&&or(Ee,me),k&&(Ee.l=k),G=Ee}return k=f.D,R=f.ya,k&&R&&yt(G,k,R),yt(G,"VER",f.la),pa(f,G),G}function Gs(f,R,k){if(R&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return R=f.Ca&&!f.pa?new qt(new Pi({eb:k})):new qt(f.pa),R.Ha(f.J),R}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function gi(){}r=gi.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function mi(){}mi.prototype.g=function(f,R){return new an(f,R)};function an(f,R){It.call(this),this.g=new js(R),this.l=f,this.h=R&&R.messageUrlParams||null,f=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(f?f["X-WebChannel-Content-Type"]=R.messageContentType:f={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.va&&(f?f["X-WebChannel-Client-Profile"]=R.va:f={"X-WebChannel-Client-Profile":R.va}),this.g.S=f,(f=R&&R.Sb)&&!Re(f)&&(this.g.m=f),this.v=R&&R.supportsCrossDomainXhr||!1,this.u=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!Re(R)&&(this.g.D=R,f=this.h,f!==null&&R in f&&(f=this.h,R in f&&delete f[R])),this.j=new qi(this)}te(an,It),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Ha(this.g)},an.prototype.o=function(f){var R=this.g;if(typeof f=="string"){var k={};k.__data__=f,f=k}else this.u&&(k={},k.__data__=yr(f),f=k);R.i.push(new ys(R.Ya++,f)),R.G==3&&Bs(R)},an.prototype.N=function(){this.g.l=null,delete this.j,Ha(this.g),delete this.g,an.aa.N.call(this)};function Tr(f){Qr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var R=f.__sm__;if(R){e:{for(const k in R){f=k;break e}f=void 0}(this.i=f)&&(f=this.i,R=R!==null&&f in R?R[f]:void 0),this.data=R}else this.data=f}te(Tr,Qr);function Fo(){go.call(this),this.status=1}te(Fo,go);function qi(f){this.g=f}te(qi,gi),qi.prototype.ua=function(){Jt(this.g,"a")},qi.prototype.ta=function(f){Jt(this.g,new Tr(f))},qi.prototype.sa=function(f){Jt(this.g,new Fo)},qi.prototype.ra=function(){Jt(this.g,"b")},mi.prototype.createWebChannel=mi.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,Nx=function(){return new mi},Ax=function(){return ha()},Sx=gs,Gp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Lt.NO_ERROR=0,Lt.TIMEOUT=8,Lt.HTTP_ERROR=6,ag=Lt,Sn.COMPLETE="complete",Ex=Sn,ir.EventType=Xr,Xr.OPEN="a",Xr.CLOSE="b",Xr.ERROR="c",Xr.MESSAGE="d",It.prototype.listen=It.prototype.K,Fd=ir,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,Tx=qt}).apply(typeof $f<"u"?$f:typeof self<"u"?self:typeof window<"u"?window:{});const Av="@firebase/firestore",Nv="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ra.UNAUTHENTICATED=new ra(null),ra.GOOGLE_CREDENTIALS=new ra("google-credentials-uid"),ra.FIRST_PARTY=new ra("first-party-uid"),ra.MOCK_USER=new ra("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=new _y("@firebase/firestore");function Sh(){return Uu.logLevel}function nt(r,...e){if(Uu.logLevel<=ln.DEBUG){const t=e.map(xy);Uu.debug(`Firestore (${Zh}): ${r}`,...t)}}function ec(r,...e){if(Uu.logLevel<=ln.ERROR){const t=e.map(xy);Uu.error(`Firestore (${Zh}): ${r}`,...t)}}function Dh(r,...e){if(Uu.logLevel<=ln.WARN){const t=e.map(xy);Uu.warn(`Firestore (${Zh}): ${r}`,...t)}}function xy(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,Rx(r,s,t)}function Rx(r,e,t){let s=`FIRESTORE (${Zh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw ec(s),new Error(s)}function Vn(r,e,t,s){let l="Unexpected state";typeof t=="string"?l=t:s=t,r||Rx(e,l,s)}function Ot(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ze={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class et extends Ll{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ra.UNAUTHENTICATED)))}shutdown(){}}class uS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class hS{constructor(e){this.t=e,this.currentUser=ra.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Vn(this.o===void 0,42304);let s=this.i;const l=A=>this.i!==s?(s=this.i,t(A)):Promise.resolve();let d=new Vc;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Vc,e.enqueueRetryable((()=>l(this.currentUser)))};const v=()=>{const A=d;e.enqueueRetryable((async()=>{await A.promise,await l(this.currentUser)}))},E=A=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=A,this.o&&(this.auth.addAuthTokenListener(this.o),v())};this.t.onInit((A=>E(A))),setTimeout((()=>{if(!this.auth){const A=this.t.getImmediate({optional:!0});A?E(A):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Vc)}}),0),v()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Vn(typeof s.accessToken=="string",31837,{l:s}),new Cx(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Vn(e===null||typeof e=="string",2055,{h:e}),new ra(e)}}class dS{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=ra.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fS{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new dS(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ra.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Rv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gS{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Do(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Vn(this.o===void 0,3512);const s=d=>{d.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const v=d.token!==this.m;return this.m=d.token,nt("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable((()=>s(d)))};const l=d=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((d=>l(d))),setTimeout((()=>{if(!this.appCheck){const d=this.V.getImmediate({optional:!0});d?l(d):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Rv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Vn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Rv(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=mS(40);for(let d=0;d<l.length;++d)s.length<20&&l[d]<t&&(s+=e.charAt(l[d]%62))}return s}}function cn(r,e){return r<e?-1:r>e?1:0}function Zp(r,e){const t=Math.min(r.length,e.length);for(let s=0;s<t;s++){const l=r.charAt(s),d=e.charAt(s);if(l!==d)return Ep(l)===Ep(d)?cn(l,d):Ep(l)?1:-1}return cn(r.length,e.length)}const pS=55296,yS=57343;function Ep(r){const e=r.charCodeAt(0);return e>=pS&&e<=yS}function Oh(r,e,t){return r.length===e.length&&r.every(((s,l)=>t(s,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="__name__";class Sl{constructor(e,t,s){t===void 0?t=0:t>e.length&&Nt(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Nt(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Sl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sl?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let l=0;l<s;l++){const d=Sl.compareSegments(e.get(l),t.get(l));if(d!==0)return d}return cn(e.length,t.length)}static compareSegments(e,t){const s=Sl.isNumericId(e),l=Sl.isNumericId(t);return s&&!l?-1:!s&&l?1:s&&l?Sl.extractNumericId(e).compare(Sl.extractNumericId(t)):Zp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Uc.fromString(e.substring(4,e.length-2))}}class xi extends Sl{construct(e,t,s){return new xi(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new et(ze.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((l=>l.length>0)))}return new xi(t)}static emptyPath(){return new xi([])}}const _S=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ms extends Sl{construct(e,t,s){return new Ms(e,t,s)}static isValidIdentifier(e){return _S.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ms.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cv}static keyField(){return new Ms([Cv])}static fromServerFormat(e){const t=[];let s="",l=0;const d=()=>{if(s.length===0)throw new et(ze.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let v=!1;for(;l<e.length;){const E=e[l];if(E==="\\"){if(l+1===e.length)throw new et(ze.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const A=e[l+1];if(A!=="\\"&&A!=="."&&A!=="`")throw new et(ze.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=A,l+=2}else E==="`"?(v=!v,l++):E!=="."||v?(s+=E,l++):(d(),l++)}if(d(),v)throw new et(ze.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ms(t)}static emptyPath(){return new Ms([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.path=e}static fromPath(e){return new vt(xi.fromString(e))}static fromName(e){return new vt(xi.fromString(e).popFirst(5))}static empty(){return new vt(xi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xi.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return xi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vt(new xi(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(r,e,t){if(!t)throw new et(ze.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function vS(r,e,t,s){if(e===!0&&s===!0)throw new et(ze.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Iv(r){if(!vt.isDocumentKey(r))throw new et(ze.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function kv(r){if(vt.isDocumentKey(r))throw new et(ze.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function kx(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Zg(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Nt(12329,{type:typeof r})}function Nl(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new et(ze.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Zg(r);throw new et(ze.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(r,e){const t={typeString:r};return e&&(t.value=e),t}function mf(r,e){if(!kx(r))throw new et(ze.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const l=e[s].typeString,d="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const v=r[s];if(l&&typeof v!==l){t=`JSON field '${s}' must be a ${l}.`;break}if(d!==void 0&&v!==d.value){t=`Expected '${s}' field to equal '${d.value}'`;break}}if(t)throw new et(ze.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=-62135596800,Mv=1e6;class wi{static now(){return wi.fromMillis(Date.now())}static fromDate(e){return wi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Mv);return new wi(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new et(ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new et(ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Pv)throw new et(ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new et(ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Mv}_compareTo(e){return this.seconds===e.seconds?cn(this.nanoseconds,e.nanoseconds):cn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wi._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mf(e,wi._jsonSchema))return new wi(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Pv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wi._jsonSchemaVersion="firestore/timestamp/1.0",wi._jsonSchema={type:Pr("string",wi._jsonSchemaVersion),seconds:Pr("number"),nanoseconds:Pr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{static fromTimestamp(e){return new Pt(e)}static min(){return new Pt(new wi(0,0))}static max(){return new Pt(new wi(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=-1;function bS(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Pt.fromTimestamp(s===1e9?new wi(t+1,0):new wi(t,s));return new Gc(l,vt.empty(),e)}function xS(r){return new Gc(r.readTime,r.key,ef)}class Gc{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Gc(Pt.min(),vt.empty(),ef)}static max(){return new Gc(Pt.max(),vt.empty(),ef)}}function wS(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=vt.comparator(r.documentKey,e.documentKey),t!==0?t:cn(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ES{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yh(r){if(r.code!==ze.FAILED_PRECONDITION||r.message!==TS)throw r;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Nt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ve(((s,l)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(s,l)},this.catchCallback=d=>{this.wrapFailure(t,d).next(s,l)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ve?t:Ve.resolve(t)}catch(t){return Ve.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ve.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ve.reject(t)}static resolve(e){return new Ve(((t,s)=>{t(e)}))}static reject(e){return new Ve(((t,s)=>{s(e)}))}static waitFor(e){return new Ve(((t,s)=>{let l=0,d=0,v=!1;e.forEach((E=>{++l,E.next((()=>{++d,v&&d===l&&t()}),(A=>s(A)))})),v=!0,d===l&&t()}))}static or(e){let t=Ve.resolve(!1);for(const s of e)t=t.next((l=>l?Ve.resolve(l):s()));return t}static forEach(e,t){const s=[];return e.forEach(((l,d)=>{s.push(t.call(this,l,d))})),this.waitFor(s)}static mapArray(e,t){return new Ve(((s,l)=>{const d=e.length,v=new Array(d);let E=0;for(let A=0;A<d;A++){const N=A;t(e[N]).next((M=>{v[N]=M,++E,E===d&&s(v)}),(M=>l(M)))}}))}static doWhile(e,t){return new Ve(((s,l)=>{const d=()=>{e()===!0?t().next((()=>{d()}),l):s()};d()}))}}function SS(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Wh(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Yg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty=-1;function Wg(r){return r==null}function _g(r){return r===0&&1/r==-1/0}function AS(r){return typeof r=="number"&&Number.isInteger(r)&&!_g(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="";function NS(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Dv(e)),e=RS(r.get(t),e);return Dv(e)}function RS(r,e){let t=e;const s=r.length;for(let l=0;l<s;l++){const d=r.charAt(l);switch(d){case"\0":t+="";break;case Px:t+="";break;default:t+=d}}return t}function Dv(r){return r+Px+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function qc(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Mx(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,t){this.comparator=e,this.root=t||Ps.EMPTY}insert(e,t){return new Fi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ps.BLACK,null,null))}remove(e){return new Fi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ps.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return t+s.left.size;l<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eg(this.root,e,this.comparator,!1)}getReverseIterator(){return new eg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eg(this.root,e,this.comparator,!0)}}class eg{constructor(e,t,s,l){this.isReverse=l,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?s(e.key,t):1,t&&l&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(d===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ps{constructor(e,t,s,l,d){this.key=e,this.value=t,this.color=s??Ps.RED,this.left=l??Ps.EMPTY,this.right=d??Ps.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,l,d){return new Ps(e??this.key,t??this.value,s??this.color,l??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let l=this;const d=s(e,l.key);return l=d<0?l.copy(null,null,null,l.left.insert(e,t,s),null):d===0?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ps.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),t(e,l.key)===0){if(l.right.isEmpty())return Ps.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ps.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ps.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Nt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Nt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Nt(27949);return e+(this.isRed()?0:1)}}Ps.EMPTY=null,Ps.RED=!0,Ps.BLACK=!1;Ps.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt(57766)}get value(){throw Nt(16141)}get color(){throw Nt(16727)}get left(){throw Nt(29726)}get right(){throw Nt(36894)}copy(e,t,s,l,d){return this}insert(e,t,s){return new Ps(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.comparator=e,this.data=new Fi(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Lv(this.data.getIterator())}getIteratorFrom(e){return new Lv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Yr)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,d=s.getNext().key;if(this.comparator(l,d)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Yr(this.comparator);return t.data=e,t}}class Lv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this.fields=e,e.sort(Ms.comparator)}static empty(){return new uo([])}unionWith(e){let t=new Yr(Ms.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new uo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Oh(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(l){try{return atob(l)}catch(d){throw typeof DOMException<"u"&&d instanceof DOMException?new Dx("Invalid base64 string: "+d):d}})(e);return new Ds(t)}static fromUint8Array(e){const t=(function(l){let d="";for(let v=0;v<l.length;++v)d+=String.fromCharCode(l[v]);return d})(e);return new Ds(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let l=0;l<t.length;l++)s[l]=t.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return cn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ds.EMPTY_BYTE_STRING=new Ds("");const CS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zc(r){if(Vn(!!r,39018),typeof r=="string"){let e=0;const t=CS.exec(r);if(Vn(!!t,46558,{timestamp:r}),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:mr(r.seconds),nanos:mr(r.nanos)}}function mr(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Yc(r){return typeof r=="string"?Ds.fromBase64String(r):Ds.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="server_timestamp",Lx="__type__",zx="__previous_value__",Ux="__local_write_time__";function Ey(r){return(r?.mapValue?.fields||{})[Lx]?.stringValue===Ox}function Xg(r){const e=r.mapValue.fields[zx];return Ey(e)?Xg(e):e}function tf(r){const e=Zc(r.mapValue.fields[Ux].timestampValue);return new wi(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,t,s,l,d,v,E,A,N,M){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=l,this.ssl=d,this.forceLongPolling=v,this.autoDetectLongPolling=E,this.longPollingOptions=A,this.useFetchStreams=N,this.isUsingEmulator=M}}const vg="(default)";class nf{constructor(e,t){this.projectId=e,this.database=t||vg}static empty(){return new nf("","")}get isDefaultDatabase(){return this.database===vg}isEqual(e){return e instanceof nf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="__type__",kS="__max__",tg={mapValue:{}},jx="__vector__",bg="value";function Wc(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ey(r)?4:MS(r)?9007199254740991:PS(r)?10:11:Nt(28295,{value:r})}function Dl(r,e){if(r===e)return!0;const t=Wc(r);if(t!==Wc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return tf(r).isEqual(tf(e));case 3:return(function(l,d){if(typeof l.timestampValue=="string"&&typeof d.timestampValue=="string"&&l.timestampValue.length===d.timestampValue.length)return l.timestampValue===d.timestampValue;const v=Zc(l.timestampValue),E=Zc(d.timestampValue);return v.seconds===E.seconds&&v.nanos===E.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,d){return Yc(l.bytesValue).isEqual(Yc(d.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,d){return mr(l.geoPointValue.latitude)===mr(d.geoPointValue.latitude)&&mr(l.geoPointValue.longitude)===mr(d.geoPointValue.longitude)})(r,e);case 2:return(function(l,d){if("integerValue"in l&&"integerValue"in d)return mr(l.integerValue)===mr(d.integerValue);if("doubleValue"in l&&"doubleValue"in d){const v=mr(l.doubleValue),E=mr(d.doubleValue);return v===E?_g(v)===_g(E):isNaN(v)&&isNaN(E)}return!1})(r,e);case 9:return Oh(r.arrayValue.values||[],e.arrayValue.values||[],Dl);case 10:case 11:return(function(l,d){const v=l.mapValue.fields||{},E=d.mapValue.fields||{};if(Ov(v)!==Ov(E))return!1;for(const A in v)if(v.hasOwnProperty(A)&&(E[A]===void 0||!Dl(v[A],E[A])))return!1;return!0})(r,e);default:return Nt(52216,{left:r})}}function rf(r,e){return(r.values||[]).find((t=>Dl(t,e)))!==void 0}function Lh(r,e){if(r===e)return 0;const t=Wc(r),s=Wc(e);if(t!==s)return cn(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return cn(r.booleanValue,e.booleanValue);case 2:return(function(d,v){const E=mr(d.integerValue||d.doubleValue),A=mr(v.integerValue||v.doubleValue);return E<A?-1:E>A?1:E===A?0:isNaN(E)?isNaN(A)?0:-1:1})(r,e);case 3:return zv(r.timestampValue,e.timestampValue);case 4:return zv(tf(r),tf(e));case 5:return Zp(r.stringValue,e.stringValue);case 6:return(function(d,v){const E=Yc(d),A=Yc(v);return E.compareTo(A)})(r.bytesValue,e.bytesValue);case 7:return(function(d,v){const E=d.split("/"),A=v.split("/");for(let N=0;N<E.length&&N<A.length;N++){const M=cn(E[N],A[N]);if(M!==0)return M}return cn(E.length,A.length)})(r.referenceValue,e.referenceValue);case 8:return(function(d,v){const E=cn(mr(d.latitude),mr(v.latitude));return E!==0?E:cn(mr(d.longitude),mr(v.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Uv(r.arrayValue,e.arrayValue);case 10:return(function(d,v){const E=d.fields||{},A=v.fields||{},N=E[bg]?.arrayValue,M=A[bg]?.arrayValue,j=cn(N?.values?.length||0,M?.values?.length||0);return j!==0?j:Uv(N,M)})(r.mapValue,e.mapValue);case 11:return(function(d,v){if(d===tg.mapValue&&v===tg.mapValue)return 0;if(d===tg.mapValue)return 1;if(v===tg.mapValue)return-1;const E=d.fields||{},A=Object.keys(E),N=v.fields||{},M=Object.keys(N);A.sort(),M.sort();for(let j=0;j<A.length&&j<M.length;++j){const V=Zp(A[j],M[j]);if(V!==0)return V;const Q=Lh(E[A[j]],N[M[j]]);if(Q!==0)return Q}return cn(A.length,M.length)})(r.mapValue,e.mapValue);default:throw Nt(23264,{he:t})}}function zv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return cn(r,e);const t=Zc(r),s=Zc(e),l=cn(t.seconds,s.seconds);return l!==0?l:cn(t.nanos,s.nanos)}function Uv(r,e){const t=r.values||[],s=e.values||[];for(let l=0;l<t.length&&l<s.length;++l){const d=Lh(t[l],s[l]);if(d)return d}return cn(t.length,s.length)}function zh(r){return Yp(r)}function Yp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const s=Zc(t);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Yc(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return vt.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let s="[",l=!0;for(const d of t.values||[])l?l=!1:s+=",",s+=Yp(d);return s+"]"})(r.arrayValue):"mapValue"in r?(function(t){const s=Object.keys(t.fields||{}).sort();let l="{",d=!0;for(const v of s)d?d=!1:l+=",",l+=`${v}:${Yp(t.fields[v])}`;return l+"}"})(r.mapValue):Nt(61005,{value:r})}function og(r){switch(Wc(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xg(r);return e?16+og(e):16;case 5:return 2*r.stringValue.length;case 6:return Yc(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,d)=>l+og(d)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return qc(s.fields,((d,v)=>{l+=d.length+og(v)})),l})(r.mapValue);default:throw Nt(13486,{value:r})}}function Vv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Wp(r){return!!r&&"integerValue"in r}function Sy(r){return!!r&&"arrayValue"in r}function jv(r){return!!r&&"nullValue"in r}function Bv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function lg(r){return!!r&&"mapValue"in r}function PS(r){return(r?.mapValue?.fields||{})[Vx]?.stringValue===jx}function Wd(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return qc(r.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Wd(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Wd(r.arrayValue.values[t]);return e}return{...r}}function MS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===kS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this.value=e}static empty(){return new Ua({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!lg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wd(t)}setAll(e){let t=Ms.emptyPath(),s={},l=[];e.forEach(((v,E)=>{if(!t.isImmediateParentOf(E)){const A=this.getFieldsMap(t);this.applyChanges(A,s,l),s={},l=[],t=E.popLast()}v?s[E.lastSegment()]=Wd(v):l.push(E.lastSegment())}));const d=this.getFieldsMap(t);this.applyChanges(d,s,l)}delete(e){const t=this.field(e.popLast());lg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Dl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=t.mapValue.fields[e.get(s)];lg(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,s){qc(t,((l,d)=>e[l]=d));for(const l of s)delete e[l]}clone(){return new Ua(Wd(this.value))}}function Bx(r){const e=[];return qc(r.fields,((t,s)=>{const l=new Ms([t]);if(lg(s)){const d=Bx(s.mapValue).fields;if(d.length===0)e.push(l);else for(const v of d)e.push(l.child(v))}else e.push(l)})),new uo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,t,s,l,d,v,E){this.key=e,this.documentType=t,this.version=s,this.readTime=l,this.createTime=d,this.data=v,this.documentState=E}static newInvalidDocument(e){return new sa(e,0,Pt.min(),Pt.min(),Pt.min(),Ua.empty(),0)}static newFoundDocument(e,t,s,l){return new sa(e,1,t,Pt.min(),s,l,0)}static newNoDocument(e,t){return new sa(e,2,t,Pt.min(),Pt.min(),Ua.empty(),0)}static newUnknownDocument(e,t){return new sa(e,3,t,Pt.min(),Pt.min(),Ua.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ua.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ua.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sa&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sa(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,t){this.position=e,this.inclusive=t}}function Fv(r,e,t){let s=0;for(let l=0;l<r.position.length;l++){const d=e[l],v=r.position[l];if(d.field.isKeyField()?s=vt.comparator(vt.fromName(v.referenceValue),t.key):s=Lh(v,t.data.field(d.field)),d.dir==="desc"&&(s*=-1),s!==0)break}return s}function Hv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Dl(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t="asc"){this.field=e,this.dir=t}}function DS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{}class kr extends Fx{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new LS(e,t,s):t==="array-contains"?new VS(e,s):t==="in"?new jS(e,s):t==="not-in"?new BS(e,s):t==="array-contains-any"?new FS(e,s):new kr(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new zS(e,s):new US(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Lh(t,this.value)):t!==null&&Wc(this.value)===Wc(t)&&this.matchesComparison(Lh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Nt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ol extends Fx{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ol(e,t)}matches(e){return Hx(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Hx(r){return r.op==="and"}function Gx(r){return OS(r)&&Hx(r)}function OS(r){for(const e of r.filters)if(e instanceof ol)return!1;return!0}function Xp(r){if(r instanceof kr)return r.field.canonicalString()+r.op.toString()+zh(r.value);if(Gx(r))return r.filters.map((e=>Xp(e))).join(",");{const e=r.filters.map((t=>Xp(t))).join(",");return`${r.op}(${e})`}}function Zx(r,e){return r instanceof kr?(function(s,l){return l instanceof kr&&s.op===l.op&&s.field.isEqual(l.field)&&Dl(s.value,l.value)})(r,e):r instanceof ol?(function(s,l){return l instanceof ol&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((d,v,E)=>d&&Zx(v,l.filters[E])),!0):!1})(r,e):void Nt(19439)}function Yx(r){return r instanceof kr?(function(t){return`${t.field.canonicalString()} ${t.op} ${zh(t.value)}`})(r):r instanceof ol?(function(t){return t.op.toString()+" {"+t.getFilters().map(Yx).join(" ,")+"}"})(r):"Filter"}class LS extends kr{constructor(e,t,s){super(e,t,s),this.key=vt.fromName(s.referenceValue)}matches(e){const t=vt.comparator(e.key,this.key);return this.matchesComparison(t)}}class zS extends kr{constructor(e,t){super(e,"in",t),this.keys=Wx("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class US extends kr{constructor(e,t){super(e,"not-in",t),this.keys=Wx("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Wx(r,e){return(e.arrayValue?.values||[]).map((t=>vt.fromName(t.referenceValue)))}class VS extends kr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Sy(t)&&rf(t.arrayValue,this.value)}}class jS extends kr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&rf(this.value.arrayValue,t)}}class BS extends kr{constructor(e,t){super(e,"not-in",t)}matches(e){if(rf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!rf(this.value.arrayValue,t)}}class FS extends kr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Sy(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>rf(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,t=null,s=[],l=[],d=null,v=null,E=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=l,this.limit=d,this.startAt=v,this.endAt=E,this.Te=null}}function Gv(r,e=null,t=[],s=[],l=null,d=null,v=null){return new HS(r,e,t,s,l,d,v)}function Ay(r){const e=Ot(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Xp(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(d){return d.field.canonicalString()+d.dir})(s))).join(","),Wg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>zh(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>zh(s))).join(",")),e.Te=t}return e.Te}function Ny(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!DS(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Zx(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Hv(r.startAt,e.startAt)&&Hv(r.endAt,e.endAt)}function Qp(r){return vt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,t=null,s=[],l=[],d=null,v="F",E=null,A=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=l,this.limit=d,this.limitType=v,this.startAt=E,this.endAt=A,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function GS(r,e,t,s,l,d,v,E){return new Xh(r,e,t,s,l,d,v,E)}function Ry(r){return new Xh(r)}function Zv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Xx(r){return r.collectionGroup!==null}function Xd(r){const e=Ot(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const d of e.explicitOrderBy)e.Ie.push(d),t.add(d.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(v){let E=new Yr(Ms.comparator);return v.filters.forEach((A=>{A.getFlattenedFilters().forEach((N=>{N.isInequality()&&(E=E.add(N.field))}))})),E})(e).forEach((d=>{t.has(d.canonicalString())||d.isKeyField()||e.Ie.push(new sf(d,s))})),t.has(Ms.keyField().canonicalString())||e.Ie.push(new sf(Ms.keyField(),s))}return e.Ie}function Rl(r){const e=Ot(r);return e.Ee||(e.Ee=ZS(e,Xd(r))),e.Ee}function ZS(r,e){if(r.limitType==="F")return Gv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const d=l.dir==="desc"?"asc":"desc";return new sf(l.field,d)}));const t=r.endAt?new xg(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new xg(r.startAt.position,r.startAt.inclusive):null;return Gv(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function Kp(r,e){const t=r.filters.concat([e]);return new Xh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Jp(r,e,t){return new Xh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Qg(r,e){return Ny(Rl(r),Rl(e))&&r.limitType===e.limitType}function Qx(r){return`${Ay(Rl(r))}|lt:${r.limitType}`}function Ah(r){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((l=>Yx(l))).join(", ")}]`),Wg(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((l=>(function(v){return`${v.field.canonicalString()} (${v.dir})`})(l))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((l=>zh(l))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((l=>zh(l))).join(",")),`Target(${s})`})(Rl(r))}; limitType=${r.limitType})`}function Kg(r,e){return e.isFoundDocument()&&(function(s,l){const d=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(d):vt.isDocumentKey(s.path)?s.path.isEqual(d):s.path.isImmediateParentOf(d)})(r,e)&&(function(s,l){for(const d of Xd(s))if(!d.field.isKeyField()&&l.data.field(d.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const d of s.filters)if(!d.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(v,E,A){const N=Fv(v,E,A);return v.inclusive?N<=0:N<0})(s.startAt,Xd(s),l)||s.endAt&&!(function(v,E,A){const N=Fv(v,E,A);return v.inclusive?N>=0:N>0})(s.endAt,Xd(s),l))})(r,e)}function YS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Kx(r){return(e,t)=>{let s=!1;for(const l of Xd(r)){const d=WS(l,e,t);if(d!==0)return d;s=s||l.field.isKeyField()}return 0}}function WS(r,e,t){const s=r.field.isKeyField()?vt.comparator(e.key,t.key):(function(d,v,E){const A=v.data.field(d),N=E.data.field(d);return A!==null&&N!==null?Lh(A,N):Nt(42886)})(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Nt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[l,d]of s)if(this.equalsFn(l,e))return d}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let d=0;d<l.length;d++)if(this.equalsFn(l[d][0],e))return void(l[d]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[t]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){qc(this.inner,((t,s)=>{for(const[l,d]of s)e(l,d)}))}isEmpty(){return Mx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=new Fi(vt.comparator);function tc(){return XS}const Jx=new Fi(vt.comparator);function Hd(...r){let e=Jx;for(const t of r)e=e.insert(t.key,t);return e}function qx(r){let e=Jx;return r.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Iu(){return Qd()}function $x(){return Qd()}function Qd(){return new Gu((r=>r.toString()),((r,e)=>r.isEqual(e)))}const QS=new Fi(vt.comparator),KS=new Yr(vt.comparator);function un(...r){let e=KS;for(const t of r)e=e.add(t);return e}const JS=new Yr(cn);function qS(){return JS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_g(e)?"-0":e}}function ew(r){return{integerValue:""+r}}function $S(r,e){return AS(e)?ew(e):Cy(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(){this._=void 0}}function eA(r,e,t){return r instanceof af?(function(l,d){const v={fields:{[Lx]:{stringValue:Ox},[Ux]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return d&&Ey(d)&&(d=Xg(d)),d&&(v.fields[zx]=d),{mapValue:v}})(t,e):r instanceof of?nw(r,e):r instanceof lf?iw(r,e):(function(l,d){const v=tw(l,d),E=Yv(v)+Yv(l.Ae);return Wp(v)&&Wp(l.Ae)?ew(E):Cy(l.serializer,E)})(r,e)}function tA(r,e,t){return r instanceof of?nw(r,e):r instanceof lf?iw(r,e):t}function tw(r,e){return r instanceof wg?(function(s){return Wp(s)||(function(d){return!!d&&"doubleValue"in d})(s)})(e)?e:{integerValue:0}:null}class af extends Jg{}class of extends Jg{constructor(e){super(),this.elements=e}}function nw(r,e){const t=rw(e);for(const s of r.elements)t.some((l=>Dl(l,s)))||t.push(s);return{arrayValue:{values:t}}}class lf extends Jg{constructor(e){super(),this.elements=e}}function iw(r,e){let t=rw(e);for(const s of r.elements)t=t.filter((l=>!Dl(l,s)));return{arrayValue:{values:t}}}class wg extends Jg{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Yv(r){return mr(r.integerValue||r.doubleValue)}function rw(r){return Sy(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,t){this.field=e,this.transform=t}}function iA(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof of&&l instanceof of||s instanceof lf&&l instanceof lf?Oh(s.elements,l.elements,Dl):s instanceof wg&&l instanceof wg?Dl(s.Ae,l.Ae):s instanceof af&&l instanceof af})(r.transform,e.transform)}class rA{constructor(e,t){this.version=e,this.transformResults=t}}class al{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new al}static exists(e){return new al(void 0,e)}static updateTime(e){return new al(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cg(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class qg{}function sw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Iy(r.key,al.none()):new pf(r.key,r.data,al.none());{const t=r.data,s=Ua.empty();let l=new Yr(Ms.comparator);for(let d of e.fields)if(!l.has(d)){let v=t.field(d);v===null&&d.length>1&&(d=d.popLast(),v=t.field(d)),v===null?s.delete(d):s.set(d,v),l=l.add(d)}return new $c(r.key,s,new uo(l.toArray()),al.none())}}function sA(r,e,t){r instanceof pf?(function(l,d,v){const E=l.value.clone(),A=Xv(l.fieldTransforms,d,v.transformResults);E.setAll(A),d.convertToFoundDocument(v.version,E).setHasCommittedMutations()})(r,e,t):r instanceof $c?(function(l,d,v){if(!cg(l.precondition,d))return void d.convertToUnknownDocument(v.version);const E=Xv(l.fieldTransforms,d,v.transformResults),A=d.data;A.setAll(aw(l)),A.setAll(E),d.convertToFoundDocument(v.version,A).setHasCommittedMutations()})(r,e,t):(function(l,d,v){d.convertToNoDocument(v.version).setHasCommittedMutations()})(0,e,t)}function Kd(r,e,t,s){return r instanceof pf?(function(d,v,E,A){if(!cg(d.precondition,v))return E;const N=d.value.clone(),M=Qv(d.fieldTransforms,A,v);return N.setAll(M),v.convertToFoundDocument(v.version,N).setHasLocalMutations(),null})(r,e,t,s):r instanceof $c?(function(d,v,E,A){if(!cg(d.precondition,v))return E;const N=Qv(d.fieldTransforms,A,v),M=v.data;return M.setAll(aw(d)),M.setAll(N),v.convertToFoundDocument(v.version,M).setHasLocalMutations(),E===null?null:E.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map((j=>j.field)))})(r,e,t,s):(function(d,v,E){return cg(d.precondition,v)?(v.convertToNoDocument(v.version).setHasLocalMutations(),null):E})(r,e,t)}function aA(r,e){let t=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),d=tw(s.transform,l||null);d!=null&&(t===null&&(t=Ua.empty()),t.set(s.field,d))}return t||null}function Wv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Oh(s,l,((d,v)=>iA(d,v)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class pf extends qg{constructor(e,t,s,l=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class $c extends qg{constructor(e,t,s,l,d=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=l,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function aw(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}})),e}function Xv(r,e,t){const s=new Map;Vn(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let l=0;l<t.length;l++){const d=r[l],v=d.transform,E=e.data.field(d.field);s.set(d.field,tA(v,E,t[l]))}return s}function Qv(r,e,t){const s=new Map;for(const l of r){const d=l.transform,v=t.data.field(l.field);s.set(l.field,eA(d,v,e))}return s}class Iy extends qg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oA extends qg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,t,s,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const d=this.mutations[l];d.key.isEqual(e.key)&&sA(d,e,s[l])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Kd(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Kd(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=$x();return this.mutations.forEach((l=>{const d=e.get(l.key),v=d.overlayedDocument;let E=this.applyToLocalView(v,d.mutatedFields);E=t.has(l.key)?null:E;const A=sw(v,E);A!==null&&s.set(l.key,A),v.isValidDocument()||v.convertToNoDocument(Pt.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),un())}isEqual(e){return this.batchId===e.batchId&&Oh(this.mutations,e.mutations,((t,s)=>Wv(t,s)))&&Oh(this.baseMutations,e.baseMutations,((t,s)=>Wv(t,s)))}}class ky{constructor(e,t,s,l){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=l}static from(e,t,s){Vn(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return QS})();const d=e.mutations;for(let v=0;v<d.length;v++)l=l.insert(d[v].key,s[v].version);return new ky(e,t,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ir,xn;function hA(r){switch(r){case ze.OK:return Nt(64938);case ze.CANCELLED:case ze.UNKNOWN:case ze.DEADLINE_EXCEEDED:case ze.RESOURCE_EXHAUSTED:case ze.INTERNAL:case ze.UNAVAILABLE:case ze.UNAUTHENTICATED:return!1;case ze.INVALID_ARGUMENT:case ze.NOT_FOUND:case ze.ALREADY_EXISTS:case ze.PERMISSION_DENIED:case ze.FAILED_PRECONDITION:case ze.ABORTED:case ze.OUT_OF_RANGE:case ze.UNIMPLEMENTED:case ze.DATA_LOSS:return!0;default:return Nt(15467,{code:r})}}function ow(r){if(r===void 0)return ec("GRPC error has no .code"),ze.UNKNOWN;switch(r){case Ir.OK:return ze.OK;case Ir.CANCELLED:return ze.CANCELLED;case Ir.UNKNOWN:return ze.UNKNOWN;case Ir.DEADLINE_EXCEEDED:return ze.DEADLINE_EXCEEDED;case Ir.RESOURCE_EXHAUSTED:return ze.RESOURCE_EXHAUSTED;case Ir.INTERNAL:return ze.INTERNAL;case Ir.UNAVAILABLE:return ze.UNAVAILABLE;case Ir.UNAUTHENTICATED:return ze.UNAUTHENTICATED;case Ir.INVALID_ARGUMENT:return ze.INVALID_ARGUMENT;case Ir.NOT_FOUND:return ze.NOT_FOUND;case Ir.ALREADY_EXISTS:return ze.ALREADY_EXISTS;case Ir.PERMISSION_DENIED:return ze.PERMISSION_DENIED;case Ir.FAILED_PRECONDITION:return ze.FAILED_PRECONDITION;case Ir.ABORTED:return ze.ABORTED;case Ir.OUT_OF_RANGE:return ze.OUT_OF_RANGE;case Ir.UNIMPLEMENTED:return ze.UNIMPLEMENTED;case Ir.DATA_LOSS:return ze.DATA_LOSS;default:return Nt(39323,{code:r})}}(xn=Ir||(Ir={}))[xn.OK=0]="OK",xn[xn.CANCELLED=1]="CANCELLED",xn[xn.UNKNOWN=2]="UNKNOWN",xn[xn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xn[xn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xn[xn.NOT_FOUND=5]="NOT_FOUND",xn[xn.ALREADY_EXISTS=6]="ALREADY_EXISTS",xn[xn.PERMISSION_DENIED=7]="PERMISSION_DENIED",xn[xn.UNAUTHENTICATED=16]="UNAUTHENTICATED",xn[xn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xn[xn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xn[xn.ABORTED=10]="ABORTED",xn[xn.OUT_OF_RANGE=11]="OUT_OF_RANGE",xn[xn.UNIMPLEMENTED=12]="UNIMPLEMENTED",xn[xn.INTERNAL=13]="INTERNAL",xn[xn.UNAVAILABLE=14]="UNAVAILABLE",xn[xn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=new Uc([4294967295,4294967295],0);function Kv(r){const e=dA().encode(r),t=new wx;return t.update(e),new Uint8Array(t.digest())}function Jv(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),d=e.getUint32(12,!0);return[new Uc([t,s],0),new Uc([l,d],0)]}class Py{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Gd(`Invalid padding: ${t}`);if(s<0)throw new Gd(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Gd(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Gd(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Uc.fromNumber(this.ge)}ye(e,t,s){let l=e.add(t.multiply(Uc.fromNumber(s)));return l.compare(fA)===1&&(l=new Uc([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Kv(e),[s,l]=Jv(t);for(let d=0;d<this.hashCount;d++){const v=this.ye(s,l,d);if(!this.we(v))return!1}return!0}static create(e,t,s){const l=e%8==0?0:8-e%8,d=new Uint8Array(Math.ceil(e/8)),v=new Py(d,l,t);return s.forEach((E=>v.insert(E))),v}insert(e){if(this.ge===0)return;const t=Kv(e),[s,l]=Jv(t);for(let d=0;d<this.hashCount;d++){const v=this.ye(s,l,d);this.Se(v)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Gd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,t,s,l,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const l=new Map;return l.set(e,yf.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new $g(Pt.min(),l,new Fi(cn),tc(),un())}}class yf{constructor(e,t,s,l,d){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new yf(s,t,un(),un(),un())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,t,s,l){this.be=e,this.removedTargetIds=t,this.key=s,this.De=l}}class lw{constructor(e,t){this.targetId=e,this.Ce=t}}class cw{constructor(e,t,s=Ds.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=l}}class qv{constructor(){this.ve=0,this.Fe=$v(),this.Me=Ds.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=un(),t=un(),s=un();return this.Fe.forEach(((l,d)=>{switch(d){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:s=s.add(l);break;default:Nt(38017,{changeType:d})}})),new yf(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=$v()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Vn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class gA{constructor(e){this.Ge=e,this.ze=new Map,this.je=tc(),this.Je=ng(),this.He=ng(),this.Ye=new Fi(cn)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Nt(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,l)=>{this.rt(l)&&t(l)}))}st(e){const t=e.targetId,s=e.Ce.count,l=this.ot(t);if(l){const d=l.target;if(Qp(d))if(s===0){const v=new vt(d.path);this.et(t,v,sa.newNoDocument(v,Pt.min()))}else Vn(s===1,20013,{expectedCount:s});else{const v=this._t(t);if(v!==s){const E=this.ut(e),A=E?this.ct(E,e,v):1;if(A!==0){this.it(t);const N=A===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,N)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:d=0}=t;let v,E;try{v=Yc(s).toUint8Array()}catch(A){if(A instanceof Dx)return Dh("Decoding the base64 bloom filter in existence filter failed ("+A.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw A}try{E=new Py(v,l,d)}catch(A){return Dh(A instanceof Gd?"BloomFilter error: ":"Applying bloom filter failed: ",A),null}return E.ge===0?null:E}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let l=0;return s.forEach((d=>{const v=this.Ge.ht(),E=`projects/${v.projectId}/databases/${v.database}/documents/${d.path.canonicalString()}`;e.mightContain(E)||(this.et(t,d,null),l++)})),l}Tt(e){const t=new Map;this.ze.forEach(((d,v)=>{const E=this.ot(v);if(E){if(d.current&&Qp(E.target)){const A=new vt(E.target.path);this.It(A).has(v)||this.Et(v,A)||this.et(v,A,sa.newNoDocument(A,e))}d.Be&&(t.set(v,d.ke()),d.qe())}}));let s=un();this.He.forEach(((d,v)=>{let E=!0;v.forEachWhile((A=>{const N=this.ot(A);return!N||N.purpose==="TargetPurposeLimboResolution"||(E=!1,!1)})),E&&(s=s.add(d))})),this.je.forEach(((d,v)=>v.setReadTime(e)));const l=new $g(e,t,this.Ye,this.je,s);return this.je=tc(),this.Je=ng(),this.He=ng(),this.Ye=new Fi(cn),l}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,t)?l.Qe(t,1):l.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new qv,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Yr(cn),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Yr(cn),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||nt("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new qv),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function ng(){return new Fi(vt.comparator)}function $v(){return new Fi(vt.comparator)}const mA={asc:"ASCENDING",desc:"DESCENDING"},pA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yA={and:"AND",or:"OR"};class _A{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qp(r,e){return r.useProto3Json||Wg(e)?e:{value:e}}function Tg(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function vA(r,e){return Tg(r,e.toTimestamp())}function Cl(r){return Vn(!!r,49232),Pt.fromTimestamp((function(t){const s=Zc(t);return new wi(s.seconds,s.nanos)})(r))}function My(r,e){return $p(r,e).canonicalString()}function $p(r,e){const t=(function(l){return new xi(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?t:t.child(e)}function hw(r){const e=xi.fromString(r);return Vn(pw(e),10190,{key:e.toString()}),e}function ey(r,e){return My(r.databaseId,e.path)}function Sp(r,e){const t=hw(e);if(t.get(1)!==r.databaseId.projectId)throw new et(ze.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new et(ze.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new vt(fw(t))}function dw(r,e){return My(r.databaseId,e)}function bA(r){const e=hw(r);return e.length===4?xi.emptyPath():fw(e)}function ty(r){return new xi(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function fw(r){return Vn(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function eb(r,e,t){return{name:ey(r,e),fields:t.value.mapValue.fields}}function xA(r,e){let t;if("targetChange"in e){e.targetChange;const s=(function(N){return N==="NO_CHANGE"?0:N==="ADD"?1:N==="REMOVE"?2:N==="CURRENT"?3:N==="RESET"?4:Nt(39313,{state:N})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],d=(function(N,M){return N.useProto3Json?(Vn(M===void 0||typeof M=="string",58123),Ds.fromBase64String(M||"")):(Vn(M===void 0||M instanceof Buffer||M instanceof Uint8Array,16193),Ds.fromUint8Array(M||new Uint8Array))})(r,e.targetChange.resumeToken),v=e.targetChange.cause,E=v&&(function(N){const M=N.code===void 0?ze.UNKNOWN:ow(N.code);return new et(M,N.message||"")})(v);t=new cw(s,l,d,E||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=Sp(r,s.document.name),d=Cl(s.document.updateTime),v=s.document.createTime?Cl(s.document.createTime):Pt.min(),E=new Ua({mapValue:{fields:s.document.fields}}),A=sa.newFoundDocument(l,d,v,E),N=s.targetIds||[],M=s.removedTargetIds||[];t=new ug(N,M,A.key,A)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=Sp(r,s.document),d=s.readTime?Cl(s.readTime):Pt.min(),v=sa.newNoDocument(l,d),E=s.removedTargetIds||[];t=new ug([],E,v.key,v)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=Sp(r,s.document),d=s.removedTargetIds||[];t=new ug([],d,l,null)}else{if(!("filter"in e))return Nt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:d}=s,v=new uA(l,d),E=s.targetId;t=new lw(E,v)}}return t}function wA(r,e){let t;if(e instanceof pf)t={update:eb(r,e.key,e.value)};else if(e instanceof Iy)t={delete:ey(r,e.key)};else if(e instanceof $c)t={update:eb(r,e.key,e.data),updateMask:kA(e.fieldMask)};else{if(!(e instanceof oA))return Nt(16599,{Vt:e.type});t={verify:ey(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(d,v){const E=v.transform;if(E instanceof af)return{fieldPath:v.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(E instanceof of)return{fieldPath:v.field.canonicalString(),appendMissingElements:{values:E.elements}};if(E instanceof lf)return{fieldPath:v.field.canonicalString(),removeAllFromArray:{values:E.elements}};if(E instanceof wg)return{fieldPath:v.field.canonicalString(),increment:E.Ae};throw Nt(20930,{transform:v.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(l,d){return d.updateTime!==void 0?{updateTime:vA(l,d.updateTime)}:d.exists!==void 0?{exists:d.exists}:Nt(27497)})(r,e.precondition)),t}function TA(r,e){return r&&r.length>0?(Vn(e!==void 0,14353),r.map((t=>(function(l,d){let v=l.updateTime?Cl(l.updateTime):Cl(d);return v.isEqual(Pt.min())&&(v=Cl(d)),new rA(v,l.transformResults||[])})(t,e)))):[]}function EA(r,e){return{documents:[dw(r,e.path)]}}function SA(r,e){const t={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=dw(r,l);const d=(function(N){if(N.length!==0)return mw(ol.create(N,"and"))})(e.filters);d&&(t.structuredQuery.where=d);const v=(function(N){if(N.length!==0)return N.map((M=>(function(V){return{field:Nh(V.field),direction:RA(V.dir)}})(M)))})(e.orderBy);v&&(t.structuredQuery.orderBy=v);const E=qp(r,e.limit);return E!==null&&(t.structuredQuery.limit=E),e.startAt&&(t.structuredQuery.startAt=(function(N){return{before:N.inclusive,values:N.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(N){return{before:!N.inclusive,values:N.position}})(e.endAt)),{ft:t,parent:l}}function AA(r){let e=bA(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let l=null;if(s>0){Vn(s===1,65062);const M=t.from[0];M.allDescendants?l=M.collectionId:e=e.child(M.collectionId)}let d=[];t.where&&(d=(function(j){const V=gw(j);return V instanceof ol&&Gx(V)?V.getFilters():[V]})(t.where));let v=[];t.orderBy&&(v=(function(j){return j.map((V=>(function(te){return new sf(Rh(te.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(te.direction))})(V)))})(t.orderBy));let E=null;t.limit&&(E=(function(j){let V;return V=typeof j=="object"?j.value:j,Wg(V)?null:V})(t.limit));let A=null;t.startAt&&(A=(function(j){const V=!!j.before,Q=j.values||[];return new xg(Q,V)})(t.startAt));let N=null;return t.endAt&&(N=(function(j){const V=!j.before,Q=j.values||[];return new xg(Q,V)})(t.endAt)),GS(e,l,v,d,E,"F",A,N)}function NA(r,e){const t=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt(28987,{purpose:l})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function gw(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Rh(t.unaryFilter.field);return kr.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Rh(t.unaryFilter.field);return kr.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=Rh(t.unaryFilter.field);return kr.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const v=Rh(t.unaryFilter.field);return kr.create(v,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Nt(61313);default:return Nt(60726)}})(r):r.fieldFilter!==void 0?(function(t){return kr.create(Rh(t.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Nt(58110);default:return Nt(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return ol.create(t.compositeFilter.filters.map((s=>gw(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Nt(1026)}})(t.compositeFilter.op))})(r):Nt(30097,{filter:r})}function RA(r){return mA[r]}function CA(r){return pA[r]}function IA(r){return yA[r]}function Nh(r){return{fieldPath:r.canonicalString()}}function Rh(r){return Ms.fromServerFormat(r.fieldPath)}function mw(r){return r instanceof kr?(function(t){if(t.op==="=="){if(Bv(t.value))return{unaryFilter:{field:Nh(t.field),op:"IS_NAN"}};if(jv(t.value))return{unaryFilter:{field:Nh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Bv(t.value))return{unaryFilter:{field:Nh(t.field),op:"IS_NOT_NAN"}};if(jv(t.value))return{unaryFilter:{field:Nh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nh(t.field),op:CA(t.op),value:t.value}}})(r):r instanceof ol?(function(t){const s=t.getFilters().map((l=>mw(l)));return s.length===1?s[0]:{compositeFilter:{op:IA(t.op),filters:s}}})(r):Nt(54877,{filter:r})}function kA(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function pw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t,s,l,d=Pt.min(),v=Pt.min(),E=Ds.EMPTY_BYTE_STRING,A=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=E,this.expectedCount=A}withSequenceNumber(e){return new Oc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Oc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e){this.yt=e}}function MA(r){const e=AA({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Jp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.Cn=new OA}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ve.resolve()}getCollectionParents(e,t){return Ve.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ve.resolve()}deleteFieldIndex(e,t){return Ve.resolve()}deleteAllFieldIndexes(e){return Ve.resolve()}createTargetIndexes(e,t){return Ve.resolve()}getDocumentsMatchingTarget(e,t){return Ve.resolve(null)}getIndexType(e,t){return Ve.resolve(0)}getFieldIndexes(e,t){return Ve.resolve([])}getNextCollectionGroupToUpdate(e){return Ve.resolve(null)}getMinOffset(e,t){return Ve.resolve(Gc.min())}getMinOffsetFromCollectionGroup(e,t){return Ve.resolve(Gc.min())}updateCollectionGroup(e,t,s){return Ve.resolve()}updateIndexEntries(e,t){return Ve.resolve()}}class OA{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),l=this.index[t]||new Yr(xi.comparator),d=!l.has(s);return this.index[t]=l.add(s),d}has(e){const t=e.lastSegment(),s=e.popLast(),l=this.index[t];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Yr(xi.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yw=41943040;class za{static withCacheSize(e){return new za(e,za.DEFAULT_COLLECTION_PERCENTILE,za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */za.DEFAULT_COLLECTION_PERCENTILE=10,za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,za.DEFAULT=new za(yw,za.DEFAULT_COLLECTION_PERCENTILE,za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),za.DISABLED=new za(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Uh(0)}static cr(){return new Uh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="LruGarbageCollector",LA=1048576;function ib([r,e],[t,s]){const l=cn(r,t);return l===0?cn(e,s):l}class zA{constructor(e){this.Ir=e,this.buffer=new Yr(ib),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();ib(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class UA{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){nt(nb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Wh(t)?nt(nb,"Ignoring IndexedDB error during garbage collection: ",t):await Yh(t)}await this.Vr(3e5)}))}}class VA{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return Ve.resolve(Yg.ce);const s=new zA(t);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Ve.resolve(tb)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tb):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,l,d,v,E,A,N;const M=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((j=>(j>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${j}`),l=this.params.maximumSequenceNumbersToCollect):l=j,v=Date.now(),this.nthSequenceNumber(e,l)))).next((j=>(s=j,E=Date.now(),this.removeTargets(e,s,t)))).next((j=>(d=j,A=Date.now(),this.removeOrphanedDocuments(e,s)))).next((j=>(N=Date.now(),Sh()<=ln.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${v-M}ms
	Determined least recently used ${l} in `+(E-v)+`ms
	Removed ${d} targets in `+(A-E)+`ms
	Removed ${j} documents in `+(N-A)+`ms
Total Duration: ${N-M}ms`),Ve.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:d,documentsRemoved:j}))))}}function jA(r,e){return new VA(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(){this.changes=new Gu((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,sa.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Ve.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,t,s,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,t)))).next((l=>(s!==null&&Kd(s.mutation,l,uo.empty(),wi.now()),l)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,un()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=un()){const l=Iu();return this.populateOverlays(e,l,t).next((()=>this.computeViews(e,t,l,s).next((d=>{let v=Hd();return d.forEach(((E,A)=>{v=v.insert(E,A.overlayedDocument)})),v}))))}getOverlayedDocuments(e,t){const s=Iu();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,un())))}populateOverlays(e,t,s){const l=[];return s.forEach((d=>{t.has(d)||l.push(d)})),this.documentOverlayCache.getOverlays(e,l).next((d=>{d.forEach(((v,E)=>{t.set(v,E)}))}))}computeViews(e,t,s,l){let d=tc();const v=Qd(),E=(function(){return Qd()})();return t.forEach(((A,N)=>{const M=s.get(N.key);l.has(N.key)&&(M===void 0||M.mutation instanceof $c)?d=d.insert(N.key,N):M!==void 0?(v.set(N.key,M.mutation.getFieldMask()),Kd(M.mutation,N,M.mutation.getFieldMask(),wi.now())):v.set(N.key,uo.empty())})),this.recalculateAndSaveOverlays(e,d).next((A=>(A.forEach(((N,M)=>v.set(N,M))),t.forEach(((N,M)=>E.set(N,new FA(M,v.get(N)??null)))),E)))}recalculateAndSaveOverlays(e,t){const s=Qd();let l=new Fi(((v,E)=>v-E)),d=un();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((v=>{for(const E of v)E.keys().forEach((A=>{const N=t.get(A);if(N===null)return;let M=s.get(A)||uo.empty();M=E.applyToLocalView(N,M),s.set(A,M);const j=(l.get(E.batchId)||un()).add(A);l=l.insert(E.batchId,j)}))})).next((()=>{const v=[],E=l.getReverseIterator();for(;E.hasNext();){const A=E.getNext(),N=A.key,M=A.value,j=$x();M.forEach((V=>{if(!d.has(V)){const Q=sw(t.get(V),s.get(V));Q!==null&&j.set(V,Q),d=d.add(V)}})),v.push(this.documentOverlayCache.saveOverlays(e,N,j))}return Ve.waitFor(v)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,l){return(function(v){return vt.isDocumentKey(v.path)&&v.collectionGroup===null&&v.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Xx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,l):this.getDocumentsMatchingCollectionQuery(e,t,s,l)}getNextDocuments(e,t,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,l).next((d=>{const v=l-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,l-d.size):Ve.resolve(Iu());let E=ef,A=d;return v.next((N=>Ve.forEach(N,((M,j)=>(E<j.largestBatchId&&(E=j.largestBatchId),d.get(M)?Ve.resolve():this.remoteDocumentCache.getEntry(e,M).next((V=>{A=A.insert(M,V)}))))).next((()=>this.populateOverlays(e,N,d))).next((()=>this.computeViews(e,A,N,un()))).next((M=>({batchId:E,changes:qx(M)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new vt(t)).next((s=>{let l=Hd();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,l){const d=t.collectionGroup;let v=Hd();return this.indexManager.getCollectionParents(e,d).next((E=>Ve.forEach(E,(A=>{const N=(function(j,V){return new Xh(V,null,j.explicitOrderBy.slice(),j.filters.slice(),j.limit,j.limitType,j.startAt,j.endAt)})(t,A.child(d));return this.getDocumentsMatchingCollectionQuery(e,N,s,l).next((M=>{M.forEach(((j,V)=>{v=v.insert(j,V)}))}))})).next((()=>v))))}getDocumentsMatchingCollectionQuery(e,t,s,l){let d;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((v=>(d=v,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,d,l)))).next((v=>{d.forEach(((A,N)=>{const M=N.getKey();v.get(M)===null&&(v=v.insert(M,sa.newInvalidDocument(M)))}));let E=Hd();return v.forEach(((A,N)=>{const M=d.get(A);M!==void 0&&Kd(M.mutation,N,uo.empty(),wi.now()),Kg(t,N)&&(E=E.insert(A,N))})),E}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Ve.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(l){return{id:l.id,version:l.version,createTime:Cl(l.createTime)}})(t)),Ve.resolve()}getNamedQuery(e,t){return Ve.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(l){return{name:l.name,query:MA(l.bundledQuery),readTime:Cl(l.readTime)}})(t)),Ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this.overlays=new Fi(vt.comparator),this.qr=new Map}getOverlay(e,t){return Ve.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Iu();return Ve.forEach(t,(l=>this.getOverlay(e,l).next((d=>{d!==null&&s.set(l,d)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((l,d)=>{this.St(e,t,d)})),Ve.resolve()}removeOverlaysForBatchId(e,t,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((d=>this.overlays=this.overlays.remove(d))),this.qr.delete(s)),Ve.resolve()}getOverlaysForCollection(e,t,s){const l=Iu(),d=t.length+1,v=new vt(t.child("")),E=this.overlays.getIteratorFrom(v);for(;E.hasNext();){const A=E.getNext().value,N=A.getKey();if(!t.isPrefixOf(N.path))break;N.path.length===d&&A.largestBatchId>s&&l.set(A.getKey(),A)}return Ve.resolve(l)}getOverlaysForCollectionGroup(e,t,s,l){let d=new Fi(((N,M)=>N-M));const v=this.overlays.getIterator();for(;v.hasNext();){const N=v.getNext().value;if(N.getKey().getCollectionGroup()===t&&N.largestBatchId>s){let M=d.get(N.largestBatchId);M===null&&(M=Iu(),d=d.insert(N.largestBatchId,M)),M.set(N.getKey(),N)}}const E=Iu(),A=d.getIterator();for(;A.hasNext()&&(A.getNext().value.forEach(((N,M)=>E.set(N,M))),!(E.size()>=l)););return Ve.resolve(E)}St(e,t,s){const l=this.overlays.get(s.key);if(l!==null){const v=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,v)}this.overlays=this.overlays.insert(s.key,new cA(t,s));let d=this.qr.get(t);d===void 0&&(d=un(),this.qr.set(t,d)),this.qr.set(t,d.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(){this.sessionToken=Ds.EMPTY_BYTE_STRING}getSessionToken(e){return Ve.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ve.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(){this.Qr=new Yr(us.$r),this.Ur=new Yr(us.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new us(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new us(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new vt(new xi([])),s=new us(t,e),l=new us(t,e+1),d=[];return this.Ur.forEachInRange([s,l],(v=>{this.Gr(v),d.push(v.key)})),d}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new vt(new xi([])),s=new us(t,e),l=new us(t,e+1);let d=un();return this.Ur.forEachInRange([s,l],(v=>{d=d.add(v.key)})),d}containsKey(e){const t=new us(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class us{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return vt.comparator(e.key,t.key)||cn(e.Yr,t.Yr)}static Kr(e,t){return cn(e.Yr,t.Yr)||vt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Yr(us.$r)}checkEmpty(e){return Ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,l){const d=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const v=new lA(d,t,s,l);this.mutationQueue.push(v);for(const E of l)this.Zr=this.Zr.add(new us(E.key,d)),this.indexManager.addToCollectionParentIndex(e,E.key.path.popLast());return Ve.resolve(v)}lookupMutationBatch(e,t){return Ve.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,l=this.ei(s),d=l<0?0:l;return Ve.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return Ve.resolve(this.mutationQueue.length===0?Ty:this.tr-1)}getAllMutationBatches(e){return Ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new us(t,0),l=new us(t,Number.POSITIVE_INFINITY),d=[];return this.Zr.forEachInRange([s,l],(v=>{const E=this.Xr(v.Yr);d.push(E)})),Ve.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Yr(cn);return t.forEach((l=>{const d=new us(l,0),v=new us(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([d,v],(E=>{s=s.add(E.Yr)}))})),Ve.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,l=s.length+1;let d=s;vt.isDocumentKey(d)||(d=d.child(""));const v=new us(new vt(d),0);let E=new Yr(cn);return this.Zr.forEachWhile((A=>{const N=A.key.path;return!!s.isPrefixOf(N)&&(N.length===l&&(E=E.add(A.Yr)),!0)}),v),Ve.resolve(this.ti(E))}ti(e){const t=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&t.push(l)})),t}removeMutationBatch(e,t){Vn(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Ve.forEach(t.mutations,(l=>{const d=new us(l.key,t.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new us(t,0),l=this.Zr.firstAfterOrEqual(s);return Ve.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ve.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.ri=e,this.docs=(function(){return new Fi(vt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,l=this.docs.get(s),d=l?l.size:0,v=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:v}),this.size+=v-d,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Ve.resolve(s?s.document.mutableCopy():sa.newInvalidDocument(t))}getEntries(e,t){let s=tc();return t.forEach((l=>{const d=this.docs.get(l);s=s.insert(l,d?d.document.mutableCopy():sa.newInvalidDocument(l))})),Ve.resolve(s)}getDocumentsMatchingQuery(e,t,s,l){let d=tc();const v=t.path,E=new vt(v.child("__id-9223372036854775808__")),A=this.docs.getIteratorFrom(E);for(;A.hasNext();){const{key:N,value:{document:M}}=A.getNext();if(!v.isPrefixOf(N.path))break;N.path.length>v.length+1||wS(xS(M),s)<=0||(l.has(M.key)||Kg(t,M))&&(d=d.insert(M.key,M.mutableCopy()))}return Ve.resolve(d)}getAllFromCollectionGroup(e,t,s,l){Nt(9500)}ii(e,t){return Ve.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new QA(this)}getSize(e){return Ve.resolve(this.size)}}class QA extends BA{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?t.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),Ve.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e){this.persistence=e,this.si=new Gu((t=>Ay(t)),Ny),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.oi=0,this._i=new Dy,this.targetCount=0,this.ai=Uh.ur()}forEachTarget(e,t){return this.si.forEach(((s,l)=>t(l))),Ve.resolve()}getLastRemoteSnapshotVersion(e){return Ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ve.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ve.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),Ve.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Uh(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Ve.resolve()}updateTargetData(e,t){return this.Pr(t),Ve.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Ve.resolve()}removeTargets(e,t,s){let l=0;const d=[];return this.si.forEach(((v,E)=>{E.sequenceNumber<=t&&s.get(E.targetId)===null&&(this.si.delete(v),d.push(this.removeMatchingKeysForTargetId(e,E.targetId)),l++)})),Ve.waitFor(d).next((()=>l))}getTargetCount(e){return Ve.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return Ve.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),Ve.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const l=this.persistence.referenceDelegate,d=[];return l&&t.forEach((v=>{d.push(l.markPotentiallyOrphaned(e,v))})),Ve.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Ve.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return Ve.resolve(s)}containsKey(e,t){return Ve.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,t){this.ui={},this.overlays={},this.ci=new Yg(0),this.li=!1,this.li=!0,this.hi=new YA,this.referenceDelegate=e(this),this.Pi=new KA(this),this.indexManager=new DA,this.remoteDocumentCache=(function(l){return new XA(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new PA(t),this.Ii=new GA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ZA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new WA(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){nt("MemoryPersistence","Starting transaction:",e);const l=new JA(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((d=>this.referenceDelegate.di(l).next((()=>d)))).toPromise().then((d=>(l.raiseOnCommittedEvent(),d)))}Ai(e,t){return Ve.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class JA extends ES{constructor(e){super(),this.currentSequenceNumber=e}}class Oy{constructor(e){this.persistence=e,this.Ri=new Dy,this.Vi=null}static mi(e){return new Oy(e)}get fi(){if(this.Vi)return this.Vi;throw Nt(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),Ve.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),Ve.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Ve.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((l=>{l.forEach((d=>this.fi.add(d.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ve.forEach(this.fi,(s=>{const l=vt.fromPath(s);return this.gi(e,l).next((d=>{d||t.removeEntry(l,Pt.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Ve.or([()=>Ve.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Eg{constructor(e,t){this.persistence=e,this.pi=new Gu((s=>NS(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=jA(this,t)}static mi(e,t){return new Eg(e,t)}Ei(){}di(e){return Ve.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((l=>s+l))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return Ve.forEach(this.pi,((s,l)=>this.br(e,s,l).next((d=>d?Ve.resolve():t(l)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const l=this.persistence.getRemoteDocumentCache(),d=l.newChangeBuffer();return l.ii(e,(v=>this.br(e,v,t).next((E=>{E||(s++,d.removeEntry(v,Pt.min()))})))).next((()=>d.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Ve.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),Ve.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),Ve.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Ve.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=og(e.data.value)),t}br(e,t,s){return Ve.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const l=this.pi.get(t);return Ve.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,t,s,l){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=l}static As(e,t){let s=un(),l=un();for(const d of t.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:l=l.add(d.doc.key)}return new Ly(e,t.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ZE()?8:SS(aa())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,l){const d={result:null};return this.ys(e,t).next((v=>{d.result=v})).next((()=>{if(!d.result)return this.ws(e,t,l,s).next((v=>{d.result=v}))})).next((()=>{if(d.result)return;const v=new qA;return this.Ss(e,t,v).next((E=>{if(d.result=E,this.Vs)return this.bs(e,t,v,E.size)}))})).next((()=>d.result))}bs(e,t,s,l){return s.documentReadCount<this.fs?(Sh()<=ln.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",Ah(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ve.resolve()):(Sh()<=ln.DEBUG&&nt("QueryEngine","Query:",Ah(t),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Sh()<=ln.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",Ah(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rl(t))):Ve.resolve())}ys(e,t){if(Zv(t))return Ve.resolve(null);let s=Rl(t);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(t.limit!==null&&l===1&&(t=Jp(t,null,"F"),s=Rl(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((d=>{const v=un(...d);return this.ps.getDocuments(e,v).next((E=>this.indexManager.getMinOffset(e,s).next((A=>{const N=this.Ds(t,E);return this.Cs(t,N,v,A.readTime)?this.ys(e,Jp(t,null,"F")):this.vs(e,N,t,A)}))))})))))}ws(e,t,s,l){return Zv(t)||l.isEqual(Pt.min())?Ve.resolve(null):this.ps.getDocuments(e,s).next((d=>{const v=this.Ds(t,d);return this.Cs(t,v,s,l)?Ve.resolve(null):(Sh()<=ln.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ah(t)),this.vs(e,v,t,bS(l,ef)).next((E=>E)))}))}Ds(e,t){let s=new Yr(Kx(e));return t.forEach(((l,d)=>{Kg(e,d)&&(s=s.add(d))})),s}Cs(e,t,s,l){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const d=e.limitType==="F"?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(l)>0)}Ss(e,t,s){return Sh()<=ln.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Ah(t)),this.ps.getDocumentsMatchingQuery(e,t,Gc.min(),s)}vs(e,t,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((d=>(t.forEach((v=>{d=d.insert(v.key,v)})),d)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="LocalStore",eN=3e8;class tN{constructor(e,t,s,l){this.persistence=e,this.Fs=t,this.serializer=l,this.Ms=new Fi(cn),this.xs=new Gu((d=>Ay(d)),Ny),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function nN(r,e,t,s){return new tN(r,e,t,s)}async function vw(r,e){const t=Ot(r);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return t.mutationQueue.getAllMutationBatches(s).next((d=>(l=d,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((d=>{const v=[],E=[];let A=un();for(const N of l){v.push(N.batchId);for(const M of N.mutations)A=A.add(M.key)}for(const N of d){E.push(N.batchId);for(const M of N.mutations)A=A.add(M.key)}return t.localDocuments.getDocuments(s,A).next((N=>({Ls:N,removedBatchIds:v,addedBatchIds:E})))}))}))}function iN(r,e){const t=Ot(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),d=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(E,A,N,M){const j=N.batch,V=j.keys();let Q=Ve.resolve();return V.forEach((te=>{Q=Q.next((()=>M.getEntry(A,te))).next((J=>{const K=N.docVersions.get(te);Vn(K!==null,48541),J.version.compareTo(K)<0&&(j.applyToRemoteDocument(J,N),J.isValidDocument()&&(J.setReadTime(N.commitVersion),M.addEntry(J)))}))})),Q.next((()=>E.mutationQueue.removeMutationBatch(A,j)))})(t,s,e,d).next((()=>d.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(E){let A=un();for(let N=0;N<E.mutationResults.length;++N)E.mutationResults[N].transformResults.length>0&&(A=A.add(E.batch.mutations[N].key));return A})(e)))).next((()=>t.localDocuments.getDocuments(s,l)))}))}function bw(r){const e=Ot(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function rN(r,e){const t=Ot(r),s=e.snapshotVersion;let l=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(d=>{const v=t.Ns.newChangeBuffer({trackRemovals:!0});l=t.Ms;const E=[];e.targetChanges.forEach(((M,j)=>{const V=l.get(j);if(!V)return;E.push(t.Pi.removeMatchingKeys(d,M.removedDocuments,j).next((()=>t.Pi.addMatchingKeys(d,M.addedDocuments,j))));let Q=V.withSequenceNumber(d.currentSequenceNumber);e.targetMismatches.get(j)!==null?Q=Q.withResumeToken(Ds.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):M.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(M.resumeToken,s)),l=l.insert(j,Q),(function(J,K,_e){return J.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=eN?!0:_e.addedDocuments.size+_e.modifiedDocuments.size+_e.removedDocuments.size>0})(V,Q,M)&&E.push(t.Pi.updateTargetData(d,Q))}));let A=tc(),N=un();if(e.documentUpdates.forEach((M=>{e.resolvedLimboDocuments.has(M)&&E.push(t.persistence.referenceDelegate.updateLimboDocument(d,M))})),E.push(sN(d,v,e.documentUpdates).next((M=>{A=M.ks,N=M.qs}))),!s.isEqual(Pt.min())){const M=t.Pi.getLastRemoteSnapshotVersion(d).next((j=>t.Pi.setTargetsMetadata(d,d.currentSequenceNumber,s)));E.push(M)}return Ve.waitFor(E).next((()=>v.apply(d))).next((()=>t.localDocuments.getLocalViewOfDocuments(d,A,N))).next((()=>A))})).then((d=>(t.Ms=l,d)))}function sN(r,e,t){let s=un(),l=un();return t.forEach((d=>s=s.add(d))),e.getEntries(r,s).next((d=>{let v=tc();return t.forEach(((E,A)=>{const N=d.get(E);A.isFoundDocument()!==N.isFoundDocument()&&(l=l.add(E)),A.isNoDocument()&&A.version.isEqual(Pt.min())?(e.removeEntry(E,A.readTime),v=v.insert(E,A)):!N.isValidDocument()||A.version.compareTo(N.version)>0||A.version.compareTo(N.version)===0&&N.hasPendingWrites?(e.addEntry(A),v=v.insert(E,A)):nt(zy,"Ignoring outdated watch update for ",E,". Current version:",N.version," Watch version:",A.version)})),{ks:v,qs:l}}))}function aN(r,e){const t=Ot(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ty),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function oN(r,e){const t=Ot(r);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return t.Pi.getTargetData(s,e).next((d=>d?(l=d,Ve.resolve(l)):t.Pi.allocateTargetId(s).next((v=>(l=new Oc(e,v,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=t.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function ny(r,e,t){const s=Ot(r),l=s.Ms.get(e),d=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",d,(v=>s.persistence.referenceDelegate.removeTarget(v,l)))}catch(v){if(!Wh(v))throw v;nt(zy,`Failed to update sequence numbers for target ${e}: ${v}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function rb(r,e,t){const s=Ot(r);let l=Pt.min(),d=un();return s.persistence.runTransaction("Execute query","readwrite",(v=>(function(A,N,M){const j=Ot(A),V=j.xs.get(M);return V!==void 0?Ve.resolve(j.Ms.get(V)):j.Pi.getTargetData(N,M)})(s,v,Rl(e)).next((E=>{if(E)return l=E.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(v,E.targetId).next((A=>{d=A}))})).next((()=>s.Fs.getDocumentsMatchingQuery(v,e,t?l:Pt.min(),t?d:un()))).next((E=>(lN(s,YS(e),E),{documents:E,Qs:d})))))}function lN(r,e,t){let s=r.Os.get(e)||Pt.min();t.forEach(((l,d)=>{d.readTime.compareTo(s)>0&&(s=d.readTime)})),r.Os.set(e,s)}class sb{constructor(){this.activeTargetIds=qS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cN{constructor(){this.Mo=new sb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new sb,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="ConnectivityMonitor";class ob{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){nt(ab,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){nt(ab,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ig=null;function iy(){return ig===null?ig=(function(){return 268435456+Math.round(2147483648*Math.random())})():ig++,"0x"+ig.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="RestConnection",hN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===vg?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,t,s,l,d){const v=iy(),E=this.zo(e,t.toUriEncodedString());nt(Ap,`Sending RPC '${e}' ${v}:`,E,s);const A={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(A,l,d);const{host:N}=new URL(E),M=Fu(N);return this.Jo(e,E,A,s,M).then((j=>(nt(Ap,`Received RPC '${e}' ${v}: `,j),j)),(j=>{throw Dh(Ap,`RPC '${e}' ${v} failed with error: `,j,"url: ",E,"request:",s),j}))}Ho(e,t,s,l,d,v){return this.Go(e,t,s,l,d)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zh})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((l,d)=>e[d]=l)),s&&s.headers.forEach(((l,d)=>e[d]=l))}zo(e,t){const s=hN[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="WebChannelConnection";class gN extends dN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,l,d){const v=iy();return new Promise(((E,A)=>{const N=new Tx;N.setWithCredentials(!0),N.listenOnce(Ex.COMPLETE,(()=>{try{switch(N.getLastErrorCode()){case ag.NO_ERROR:const j=N.getResponseJson();nt(ia,`XHR for RPC '${e}' ${v} received:`,JSON.stringify(j)),E(j);break;case ag.TIMEOUT:nt(ia,`RPC '${e}' ${v} timed out`),A(new et(ze.DEADLINE_EXCEEDED,"Request time out"));break;case ag.HTTP_ERROR:const V=N.getStatus();if(nt(ia,`RPC '${e}' ${v} failed with status:`,V,"response text:",N.getResponseText()),V>0){let Q=N.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const te=Q?.error;if(te&&te.status&&te.message){const J=(function(_e){const Re=_e.toLowerCase().replace(/_/g,"-");return Object.values(ze).indexOf(Re)>=0?Re:ze.UNKNOWN})(te.status);A(new et(J,te.message))}else A(new et(ze.UNKNOWN,"Server responded with status "+N.getStatus()))}else A(new et(ze.UNAVAILABLE,"Connection failed."));break;default:Nt(9055,{l_:e,streamId:v,h_:N.getLastErrorCode(),P_:N.getLastError()})}}finally{nt(ia,`RPC '${e}' ${v} completed.`)}}));const M=JSON.stringify(l);nt(ia,`RPC '${e}' ${v} sending request:`,l),N.send(t,"POST",M,s,15)}))}T_(e,t,s){const l=iy(),d=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],v=Nx(),E=Ax(),A={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},N=this.longPollingOptions.timeoutSeconds;N!==void 0&&(A.longPollingTimeout=Math.round(1e3*N)),this.useFetchStreams&&(A.useFetchStreams=!0),this.jo(A.initMessageHeaders,t,s),A.encodeInitMessageHeaders=!0;const M=d.join("");nt(ia,`Creating RPC '${e}' stream ${l}: ${M}`,A);const j=v.createWebChannel(M,A);this.I_(j);let V=!1,Q=!1;const te=new fN({Yo:K=>{Q?nt(ia,`Not sending because RPC '${e}' stream ${l} is closed:`,K):(V||(nt(ia,`Opening RPC '${e}' stream ${l} transport.`),j.open(),V=!0),nt(ia,`RPC '${e}' stream ${l} sending:`,K),j.send(K))},Zo:()=>j.close()}),J=(K,_e,Re)=>{K.listen(_e,(ie=>{try{Re(ie)}catch(ke){setTimeout((()=>{throw ke}),0)}}))};return J(j,Fd.EventType.OPEN,(()=>{Q||(nt(ia,`RPC '${e}' stream ${l} transport opened.`),te.o_())})),J(j,Fd.EventType.CLOSE,(()=>{Q||(Q=!0,nt(ia,`RPC '${e}' stream ${l} transport closed`),te.a_(),this.E_(j))})),J(j,Fd.EventType.ERROR,(K=>{Q||(Q=!0,Dh(ia,`RPC '${e}' stream ${l} transport errored. Name:`,K.name,"Message:",K.message),te.a_(new et(ze.UNAVAILABLE,"The operation could not be completed")))})),J(j,Fd.EventType.MESSAGE,(K=>{if(!Q){const _e=K.data[0];Vn(!!_e,16349);const Re=_e,ie=Re?.error||Re[0]?.error;if(ie){nt(ia,`RPC '${e}' stream ${l} received error:`,ie);const ke=ie.status;let Ye=(function(H){const Y=Ir[H];if(Y!==void 0)return ow(Y)})(ke),Qe=ie.message;Ye===void 0&&(Ye=ze.INTERNAL,Qe="Unknown error status: "+ke+" with message "+ie.message),Q=!0,te.a_(new et(Ye,Qe)),j.close()}else nt(ia,`RPC '${e}' stream ${l} received:`,_e),te.u_(_e)}})),J(E,Sx.STAT_EVENT,(K=>{K.stat===Gp.PROXY?nt(ia,`RPC '${e}' stream ${l} detected buffering proxy`):K.stat===Gp.NOPROXY&&nt(ia,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{te.__()}),0),te}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Np(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(r){return new _A(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,t,s=1e3,l=1.5,d=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=l,this.R_=d,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,t-s);l>0&&nt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="PersistentStream";class ww{constructor(e,t,s,l,d,v,E,A){this.Mi=e,this.S_=s,this.b_=l,this.connection=d,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=E,this.listener=A,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ze.RESOURCE_EXHAUSTED?(ec(t.toString()),ec("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ze.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===t&&this.G_(s,l)}),(s=>{e((()=>{const l=new et(ze.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return nt(lb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(nt(lb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class mN extends ww{constructor(e,t,s,l,d,v){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,l,v),this.serializer=d}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=xA(this.serializer,e),s=(function(d){if(!("targetChange"in d))return Pt.min();const v=d.targetChange;return v.targetIds&&v.targetIds.length?Pt.min():v.readTime?Cl(v.readTime):Pt.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=ty(this.serializer),t.addTarget=(function(d,v){let E;const A=v.target;if(E=Qp(A)?{documents:EA(d,A)}:{query:SA(d,A).ft},E.targetId=v.targetId,v.resumeToken.approximateByteSize()>0){E.resumeToken=uw(d,v.resumeToken);const N=qp(d,v.expectedCount);N!==null&&(E.expectedCount=N)}else if(v.snapshotVersion.compareTo(Pt.min())>0){E.readTime=Tg(d,v.snapshotVersion.toTimestamp());const N=qp(d,v.expectedCount);N!==null&&(E.expectedCount=N)}return E})(this.serializer,e);const s=NA(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=ty(this.serializer),t.removeTarget=e,this.q_(t)}}class pN extends ww{constructor(e,t,s,l,d,v){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,l,v),this.serializer=d}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Vn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Vn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Vn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=TA(e.writeResults,e.commitTime),s=Cl(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=ty(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>wA(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{}class _N extends yN{constructor(e,t,s,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new et(ze.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,v])=>this.connection.Go(e,$p(t,s),l,d,v))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new et(ze.UNKNOWN,d.toString())}))}Ho(e,t,s,l,d){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([v,E])=>this.connection.Ho(e,$p(t,s),l,v,E,d))).catch((v=>{throw v.name==="FirebaseError"?(v.code===ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),v):new et(ze.UNKNOWN,v.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class vN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ec(t),this.aa=!1):nt("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu="RemoteStore";class bN{constructor(e,t,s,l,d){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=d,this.Aa.Oo((v=>{s.enqueueAndForget((async()=>{Zu(this)&&(nt(Vu,"Restarting streams for network reachability change."),await(async function(A){const N=Ot(A);N.Ea.add(4),await _f(N),N.Ra.set("Unknown"),N.Ea.delete(4),await tm(N)})(this))}))})),this.Ra=new vN(s,l)}}async function tm(r){if(Zu(r))for(const e of r.da)await e(!0)}async function _f(r){for(const e of r.da)await e(!1)}function Tw(r,e){const t=Ot(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),By(t)?jy(t):Qh(t).O_()&&Vy(t,e))}function Uy(r,e){const t=Ot(r),s=Qh(t);t.Ia.delete(e),s.O_()&&Ew(t,e),t.Ia.size===0&&(s.O_()?s.L_():Zu(t)&&t.Ra.set("Unknown"))}function Vy(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pt.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Qh(r).Y_(e)}function Ew(r,e){r.Va.Ue(e),Qh(r).Z_(e)}function jy(r){r.Va=new gA({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Qh(r).start(),r.Ra.ua()}function By(r){return Zu(r)&&!Qh(r).x_()&&r.Ia.size>0}function Zu(r){return Ot(r).Ea.size===0}function Sw(r){r.Va=void 0}async function xN(r){r.Ra.set("Online")}async function wN(r){r.Ia.forEach(((e,t)=>{Vy(r,e)}))}async function TN(r,e){Sw(r),By(r)?(r.Ra.ha(e),jy(r)):r.Ra.set("Unknown")}async function EN(r,e,t){if(r.Ra.set("Online"),e instanceof cw&&e.state===2&&e.cause)try{await(async function(l,d){const v=d.cause;for(const E of d.targetIds)l.Ia.has(E)&&(await l.remoteSyncer.rejectListen(E,v),l.Ia.delete(E),l.Va.removeTarget(E))})(r,e)}catch(s){nt(Vu,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Sg(r,s)}else if(e instanceof ug?r.Va.Ze(e):e instanceof lw?r.Va.st(e):r.Va.tt(e),!t.isEqual(Pt.min()))try{const s=await bw(r.localStore);t.compareTo(s)>=0&&await(function(d,v){const E=d.Va.Tt(v);return E.targetChanges.forEach(((A,N)=>{if(A.resumeToken.approximateByteSize()>0){const M=d.Ia.get(N);M&&d.Ia.set(N,M.withResumeToken(A.resumeToken,v))}})),E.targetMismatches.forEach(((A,N)=>{const M=d.Ia.get(A);if(!M)return;d.Ia.set(A,M.withResumeToken(Ds.EMPTY_BYTE_STRING,M.snapshotVersion)),Ew(d,A);const j=new Oc(M.target,A,N,M.sequenceNumber);Vy(d,j)})),d.remoteSyncer.applyRemoteEvent(E)})(r,t)}catch(s){nt(Vu,"Failed to raise snapshot:",s),await Sg(r,s)}}async function Sg(r,e,t){if(!Wh(e))throw e;r.Ea.add(1),await _f(r),r.Ra.set("Offline"),t||(t=()=>bw(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{nt(Vu,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await tm(r)}))}function Aw(r,e){return e().catch((t=>Sg(r,t,e)))}async function nm(r){const e=Ot(r),t=Xc(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ty;for(;SN(e);)try{const l=await aN(e.localStore,s);if(l===null){e.Ta.length===0&&t.L_();break}s=l.batchId,AN(e,l)}catch(l){await Sg(e,l)}Nw(e)&&Rw(e)}function SN(r){return Zu(r)&&r.Ta.length<10}function AN(r,e){r.Ta.push(e);const t=Xc(r);t.O_()&&t.X_&&t.ea(e.mutations)}function Nw(r){return Zu(r)&&!Xc(r).x_()&&r.Ta.length>0}function Rw(r){Xc(r).start()}async function NN(r){Xc(r).ra()}async function RN(r){const e=Xc(r);for(const t of r.Ta)e.ea(t.mutations)}async function CN(r,e,t){const s=r.Ta.shift(),l=ky.from(s,e,t);await Aw(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await nm(r)}async function IN(r,e){e&&Xc(r).X_&&await(async function(s,l){if((function(v){return hA(v)&&v!==ze.ABORTED})(l.code)){const d=s.Ta.shift();Xc(s).B_(),await Aw(s,(()=>s.remoteSyncer.rejectFailedWrite(d.batchId,l))),await nm(s)}})(r,e),Nw(r)&&Rw(r)}async function cb(r,e){const t=Ot(r);t.asyncQueue.verifyOperationInProgress(),nt(Vu,"RemoteStore received new credentials");const s=Zu(t);t.Ea.add(3),await _f(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await tm(t)}async function kN(r,e){const t=Ot(r);e?(t.Ea.delete(2),await tm(t)):e||(t.Ea.add(2),await _f(t),t.Ra.set("Unknown"))}function Qh(r){return r.ma||(r.ma=(function(t,s,l){const d=Ot(t);return d.sa(),new mN(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,l)})(r.datastore,r.asyncQueue,{Xo:xN.bind(null,r),t_:wN.bind(null,r),r_:TN.bind(null,r),H_:EN.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),By(r)?jy(r):r.Ra.set("Unknown")):(await r.ma.stop(),Sw(r))}))),r.ma}function Xc(r){return r.fa||(r.fa=(function(t,s,l){const d=Ot(t);return d.sa(),new pN(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:NN.bind(null,r),r_:IN.bind(null,r),ta:RN.bind(null,r),na:CN.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await nm(r)):(await r.fa.stop(),r.Ta.length>0&&(nt(Vu,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,t,s,l,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=l,this.removalCallback=d,this.deferred=new Vc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((v=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,l,d){const v=Date.now()+s,E=new Fy(e,t,v,l,d);return E.start(s),E}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new et(ze.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hy(r,e){if(ec("AsyncQueue",`${e}: ${r}`),Wh(r))return new et(ze.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{static emptySet(e){return new Ih(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||vt.comparator(t.key,s.key):(t,s)=>vt.comparator(t.key,s.key),this.keyedMap=Hd(),this.sortedSet=new Fi(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ih)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,d=s.getNext().key;if(!l.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Ih;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(){this.ga=new Fi(vt.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Nt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Vh{constructor(e,t,s,l,d,v,E,A,N){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=d,this.fromCache=v,this.syncStateChanged=E,this.excludesMetadataChanges=A,this.hasCachedResults=N}static fromInitialDocuments(e,t,s,l,d){const v=[];return t.forEach((E=>{v.push({type:0,doc:E})})),new Vh(e,t,Ih.emptySet(t),v,s,l,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==s[l].type||!t[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class MN{constructor(){this.queries=hb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const l=Ot(t),d=l.queries;l.queries=hb(),d.forEach(((v,E)=>{for(const A of E.Sa)A.onError(s)}))})(this,new et(ze.ABORTED,"Firestore shutting down"))}}function hb(){return new Gu((r=>Qx(r)),Qg)}async function Cw(r,e){const t=Ot(r);let s=3;const l=e.query;let d=t.queries.get(l);d?!d.ba()&&e.Da()&&(s=2):(d=new PN,s=e.Da()?0:1);try{switch(s){case 0:d.wa=await t.onListen(l,!0);break;case 1:d.wa=await t.onListen(l,!1);break;case 2:await t.onFirstRemoteStoreListen(l)}}catch(v){const E=Hy(v,`Initialization of query '${Ah(e.query)}' failed`);return void e.onError(E)}t.queries.set(l,d),d.Sa.push(e),e.va(t.onlineState),d.wa&&e.Fa(d.wa)&&Gy(t)}async function Iw(r,e){const t=Ot(r),s=e.query;let l=3;const d=t.queries.get(s);if(d){const v=d.Sa.indexOf(e);v>=0&&(d.Sa.splice(v,1),d.Sa.length===0?l=e.Da()?0:1:!d.ba()&&e.Da()&&(l=2))}switch(l){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function DN(r,e){const t=Ot(r);let s=!1;for(const l of e){const d=l.query,v=t.queries.get(d);if(v){for(const E of v.Sa)E.Fa(l)&&(s=!0);v.wa=l}}s&&Gy(t)}function ON(r,e,t){const s=Ot(r),l=s.queries.get(e);if(l)for(const d of l.Sa)d.onError(t);s.queries.delete(e)}function Gy(r){r.Ca.forEach((e=>{e.next()}))}var ry,db;(db=ry||(ry={})).Ma="default",db.Cache="cache";class kw{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new Vh(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Vh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ry.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e){this.key=e}}class Mw{constructor(e){this.key=e}}class LN{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=un(),this.mutatedKeys=un(),this.eu=Kx(e),this.tu=new Ih(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new ub,l=t?t.tu:this.tu;let d=t?t.mutatedKeys:this.mutatedKeys,v=l,E=!1;const A=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,N=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((M,j)=>{const V=l.get(M),Q=Kg(this.query,j)?j:null,te=!!V&&this.mutatedKeys.has(V.key),J=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let K=!1;V&&Q?V.data.isEqual(Q.data)?te!==J&&(s.track({type:3,doc:Q}),K=!0):this.su(V,Q)||(s.track({type:2,doc:Q}),K=!0,(A&&this.eu(Q,A)>0||N&&this.eu(Q,N)<0)&&(E=!0)):!V&&Q?(s.track({type:0,doc:Q}),K=!0):V&&!Q&&(s.track({type:1,doc:V}),K=!0,(A||N)&&(E=!0)),K&&(Q?(v=v.add(Q),d=J?d.add(M):d.delete(M)):(v=v.delete(M),d=d.delete(M)))})),this.query.limit!==null)for(;v.size>this.query.limit;){const M=this.query.limitType==="F"?v.last():v.first();v=v.delete(M.key),d=d.delete(M.key),s.track({type:1,doc:M})}return{tu:v,iu:s,Cs:E,mutatedKeys:d}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,l){const d=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const v=e.iu.ya();v.sort(((M,j)=>(function(Q,te){const J=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt(20277,{Rt:K})}};return J(Q)-J(te)})(M.type,j.type)||this.eu(M.doc,j.doc))),this.ou(s),l=l??!1;const E=t&&!l?this._u():[],A=this.Xa.size===0&&this.current&&!l?1:0,N=A!==this.Za;return this.Za=A,v.length!==0||N?{snapshot:new Vh(this.query,e.tu,d,v,e.mutatedKeys,A===0,N,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:E}:{au:E}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ub,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=un(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new Mw(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new Pw(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=un();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Vh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zy="SyncEngine";class zN{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class UN{constructor(e){this.key=e,this.hu=!1}}class VN{constructor(e,t,s,l,d,v){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=l,this.currentUser=d,this.maxConcurrentLimboResolutions=v,this.Pu={},this.Tu=new Gu((E=>Qx(E)),Qg),this.Iu=new Map,this.Eu=new Set,this.du=new Fi(vt.comparator),this.Au=new Map,this.Ru=new Dy,this.Vu={},this.mu=new Map,this.fu=Uh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jN(r,e,t=!0){const s=Vw(r);let l;const d=s.Tu.get(e);return d?(s.sharedClientState.addLocalQueryTarget(d.targetId),l=d.view.lu()):l=await Dw(s,e,t,!0),l}async function BN(r,e){const t=Vw(r);await Dw(t,e,!0,!1)}async function Dw(r,e,t,s){const l=await oN(r.localStore,Rl(e)),d=l.targetId,v=r.sharedClientState.addLocalQueryTarget(d,t);let E;return s&&(E=await FN(r,e,d,v==="current",l.resumeToken)),r.isPrimaryClient&&t&&Tw(r.remoteStore,l),E}async function FN(r,e,t,s,l){r.pu=(j,V,Q)=>(async function(J,K,_e,Re){let ie=K.view.ru(_e);ie.Cs&&(ie=await rb(J.localStore,K.query,!1).then((({documents:ce})=>K.view.ru(ce,ie))));const ke=Re&&Re.targetChanges.get(K.targetId),Ye=Re&&Re.targetMismatches.get(K.targetId)!=null,Qe=K.view.applyChanges(ie,J.isPrimaryClient,ke,Ye);return gb(J,K.targetId,Qe.au),Qe.snapshot})(r,j,V,Q);const d=await rb(r.localStore,e,!0),v=new LN(e,d.Qs),E=v.ru(d.documents),A=yf.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",l),N=v.applyChanges(E,r.isPrimaryClient,A);gb(r,t,N.au);const M=new zN(e,t,v);return r.Tu.set(e,M),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),N.snapshot}async function HN(r,e,t){const s=Ot(r),l=s.Tu.get(e),d=s.Iu.get(l.targetId);if(d.length>1)return s.Iu.set(l.targetId,d.filter((v=>!Qg(v,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await ny(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),t&&Uy(s.remoteStore,l.targetId),sy(s,l.targetId)})).catch(Yh)):(sy(s,l.targetId),await ny(s.localStore,l.targetId,!0))}async function GN(r,e){const t=Ot(r),s=t.Tu.get(e),l=t.Iu.get(s.targetId);t.isPrimaryClient&&l.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Uy(t.remoteStore,s.targetId))}async function ZN(r,e,t){const s=qN(r);try{const l=await(function(v,E){const A=Ot(v),N=wi.now(),M=E.reduce(((Q,te)=>Q.add(te.key)),un());let j,V;return A.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let te=tc(),J=un();return A.Ns.getEntries(Q,M).next((K=>{te=K,te.forEach(((_e,Re)=>{Re.isValidDocument()||(J=J.add(_e))}))})).next((()=>A.localDocuments.getOverlayedDocuments(Q,te))).next((K=>{j=K;const _e=[];for(const Re of E){const ie=aA(Re,j.get(Re.key).overlayedDocument);ie!=null&&_e.push(new $c(Re.key,ie,Bx(ie.value.mapValue),al.exists(!0)))}return A.mutationQueue.addMutationBatch(Q,N,_e,E)})).next((K=>{V=K;const _e=K.applyToLocalDocumentSet(j,J);return A.documentOverlayCache.saveOverlays(Q,K.batchId,_e)}))})).then((()=>({batchId:V.batchId,changes:qx(j)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(v,E,A){let N=v.Vu[v.currentUser.toKey()];N||(N=new Fi(cn)),N=N.insert(E,A),v.Vu[v.currentUser.toKey()]=N})(s,l.batchId,t),await vf(s,l.changes),await nm(s.remoteStore)}catch(l){const d=Hy(l,"Failed to persist write");t.reject(d)}}async function Ow(r,e){const t=Ot(r);try{const s=await rN(t.localStore,e);e.targetChanges.forEach(((l,d)=>{const v=t.Au.get(d);v&&(Vn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?v.hu=!0:l.modifiedDocuments.size>0?Vn(v.hu,14607):l.removedDocuments.size>0&&(Vn(v.hu,42227),v.hu=!1))})),await vf(t,s,e)}catch(s){await Yh(s)}}function fb(r,e,t){const s=Ot(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const l=[];s.Tu.forEach(((d,v)=>{const E=v.view.va(e);E.snapshot&&l.push(E.snapshot)})),(function(v,E){const A=Ot(v);A.onlineState=E;let N=!1;A.queries.forEach(((M,j)=>{for(const V of j.Sa)V.va(E)&&(N=!0)})),N&&Gy(A)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function YN(r,e,t){const s=Ot(r);s.sharedClientState.updateQueryState(e,"rejected",t);const l=s.Au.get(e),d=l&&l.key;if(d){let v=new Fi(vt.comparator);v=v.insert(d,sa.newNoDocument(d,Pt.min()));const E=un().add(d),A=new $g(Pt.min(),new Map,new Fi(cn),v,E);await Ow(s,A),s.du=s.du.remove(d),s.Au.delete(e),Yy(s)}else await ny(s.localStore,e,!1).then((()=>sy(s,e,t))).catch(Yh)}async function WN(r,e){const t=Ot(r),s=e.batch.batchId;try{const l=await iN(t.localStore,e);zw(t,s,null),Lw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await vf(t,l)}catch(l){await Yh(l)}}async function XN(r,e,t){const s=Ot(r);try{const l=await(function(v,E){const A=Ot(v);return A.persistence.runTransaction("Reject batch","readwrite-primary",(N=>{let M;return A.mutationQueue.lookupMutationBatch(N,E).next((j=>(Vn(j!==null,37113),M=j.keys(),A.mutationQueue.removeMutationBatch(N,j)))).next((()=>A.mutationQueue.performConsistencyCheck(N))).next((()=>A.documentOverlayCache.removeOverlaysForBatchId(N,M,E))).next((()=>A.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(N,M))).next((()=>A.localDocuments.getDocuments(N,M)))}))})(s.localStore,e);zw(s,e,t),Lw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await vf(s,l)}catch(l){await Yh(l)}}function Lw(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function zw(r,e,t){const s=Ot(r);let l=s.Vu[s.currentUser.toKey()];if(l){const d=l.get(e);d&&(t?d.reject(t):d.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function sy(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),t&&r.Pu.yu(s,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||Uw(r,s)}))}function Uw(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(Uy(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),Yy(r))}function gb(r,e,t){for(const s of t)s instanceof Pw?(r.Ru.addReference(s.key,e),QN(r,s)):s instanceof Mw?(nt(Zy,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||Uw(r,s.key)):Nt(19791,{wu:s})}function QN(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Eu.has(s)||(nt(Zy,"New document in limbo: "+t),r.Eu.add(s),Yy(r))}function Yy(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new vt(xi.fromString(e)),s=r.fu.next();r.Au.set(s,new UN(t)),r.du=r.du.insert(t,s),Tw(r.remoteStore,new Oc(Rl(Ry(t.path)),s,"TargetPurposeLimboResolution",Yg.ce))}}async function vf(r,e,t){const s=Ot(r),l=[],d=[],v=[];s.Tu.isEmpty()||(s.Tu.forEach(((E,A)=>{v.push(s.pu(A,e,t).then((N=>{if((N||t)&&s.isPrimaryClient){const M=N?!N.fromCache:t?.targetChanges.get(A.targetId)?.current;s.sharedClientState.updateQueryState(A.targetId,M?"current":"not-current")}if(N){l.push(N);const M=Ly.As(A.targetId,N);d.push(M)}})))})),await Promise.all(v),s.Pu.H_(l),await(async function(A,N){const M=Ot(A);try{await M.persistence.runTransaction("notifyLocalViewChanges","readwrite",(j=>Ve.forEach(N,(V=>Ve.forEach(V.Es,(Q=>M.persistence.referenceDelegate.addReference(j,V.targetId,Q))).next((()=>Ve.forEach(V.ds,(Q=>M.persistence.referenceDelegate.removeReference(j,V.targetId,Q)))))))))}catch(j){if(!Wh(j))throw j;nt(zy,"Failed to update sequence numbers: "+j)}for(const j of N){const V=j.targetId;if(!j.fromCache){const Q=M.Ms.get(V),te=Q.snapshotVersion,J=Q.withLastLimboFreeSnapshotVersion(te);M.Ms=M.Ms.insert(V,J)}}})(s.localStore,d))}async function KN(r,e){const t=Ot(r);if(!t.currentUser.isEqual(e)){nt(Zy,"User change. New user:",e.toKey());const s=await vw(t.localStore,e);t.currentUser=e,(function(d,v){d.mu.forEach((E=>{E.forEach((A=>{A.reject(new et(ze.CANCELLED,v))}))})),d.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await vf(t,s.Ls)}}function JN(r,e){const t=Ot(r),s=t.Au.get(e);if(s&&s.hu)return un().add(s.key);{let l=un();const d=t.Iu.get(e);if(!d)return l;for(const v of d){const E=t.Tu.get(v);l=l.unionWith(E.view.nu)}return l}}function Vw(r){const e=Ot(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ow.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YN.bind(null,e),e.Pu.H_=DN.bind(null,e.eventManager),e.Pu.yu=ON.bind(null,e.eventManager),e}function qN(r){const e=Ot(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XN.bind(null,e),e}class Ag{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=em(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return nN(this.persistence,new $A,e.initialUser,this.serializer)}Cu(e){return new _w(Oy.mi,this.serializer)}Du(e){return new cN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ag.provider={build:()=>new Ag};class $N extends Ag{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Vn(this.persistence.referenceDelegate instanceof Eg,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new UA(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?za.withCacheSize(this.cacheSizeBytes):za.DEFAULT;return new _w((s=>Eg.mi(s,t)),this.serializer)}}class ay{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>fb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=KN.bind(null,this.syncEngine),await kN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new MN})()}createDatastore(e){const t=em(e.databaseInfo.databaseId),s=(function(d){return new gN(d)})(e.databaseInfo);return(function(d,v,E,A){return new _N(d,v,E,A)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,l,d,v,E){return new bN(s,l,d,v,E)})(this.localStore,this.datastore,e.asyncQueue,(t=>fb(this.syncEngine,t,0)),(function(){return ob.v()?new ob:new uN})())}createSyncEngine(e,t){return(function(l,d,v,E,A,N,M){const j=new VN(l,d,v,E,A,N);return M&&(j.gu=!0),j})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Ot(t);nt(Vu,"RemoteStore shutting down."),s.Ea.add(5),await _f(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ay.provider={build:()=>new ay};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ec("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc="FirestoreClient";class eR{constructor(e,t,s,l,d){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=l,this.user=ra.UNAUTHENTICATED,this.clientId=wy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=d,this.authCredentials.start(s,(async v=>{nt(Qc,"Received user=",v.uid),await this.authCredentialListener(v),this.user=v})),this.appCheckCredentials.start(s,(v=>(nt(Qc,"Received new app check token=",v),this.appCheckCredentialListener(v,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Hy(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Rp(r,e){r.asyncQueue.verifyOperationInProgress(),nt(Qc,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await vw(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function mb(r,e){r.asyncQueue.verifyOperationInProgress();const t=await tR(r);nt(Qc,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((s=>cb(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>cb(e.remoteStore,l))),r._onlineComponents=e}async function tR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){nt(Qc,"Using user provided OfflineComponentProvider");try{await Rp(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(l){return l.name==="FirebaseError"?l.code===ze.FAILED_PRECONDITION||l.code===ze.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(t))throw t;Dh("Error using user provided cache. Falling back to memory cache: "+t),await Rp(r,new Ag)}}else nt(Qc,"Using default OfflineComponentProvider"),await Rp(r,new $N(void 0));return r._offlineComponents}async function Bw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(nt(Qc,"Using user provided OnlineComponentProvider"),await mb(r,r._uninitializedComponentsProvider._online)):(nt(Qc,"Using default OnlineComponentProvider"),await mb(r,new ay))),r._onlineComponents}function nR(r){return Bw(r).then((e=>e.syncEngine))}async function oy(r){const e=await Bw(r),t=e.eventManager;return t.onListen=jN.bind(null,e.syncEngine),t.onUnlisten=HN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=BN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=GN.bind(null,e.syncEngine),t}function iR(r,e,t={}){const s=new Vc;return r.asyncQueue.enqueueAndForget((async()=>(function(d,v,E,A,N){const M=new jw({next:V=>{M.Nu(),v.enqueueAndForget((()=>Iw(d,j))),V.fromCache&&A.source==="server"?N.reject(new et(ze.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):N.resolve(V)},error:V=>N.reject(V)}),j=new kw(E,M,{includeMetadataChanges:!0,qa:!0});return Cw(d,j)})(await oy(r),r.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="firestore.googleapis.com",yb=!0;class _b{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new et(ze.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hw,this.ssl=yb}else this.host=e.host,this.ssl=e.ssl??yb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LA)throw new et(ze.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Fw(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new et(ze.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new et(ze.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new et(ze.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class im{constructor(e,t,s,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _b({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new et(ze.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new et(ze.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _b(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new cS;switch(s.type){case"firstParty":return new fS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new et(ze.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=pb.get(t);s&&(nt("ComponentProvider","Removing Datastore"),pb.delete(t),s.terminate())})(this),Promise.resolve()}}function rR(r,e,t,s={}){r=Nl(r,im);const l=Fu(e),d=r._getSettings(),v={...d,emulatorOptions:r._getEmulatorOptions()},E=`${e}:${t}`;l&&(py(`https://${E}`),yy("Firestore",!0)),d.host!==Hw&&d.host!==E&&Dh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const A={...d,host:E,ssl:l,emulatorOptions:s};if(!Lu(A,v)&&(r._setSettings(A),s.mockUserToken)){let N,M;if(typeof s.mockUserToken=="string")N=s.mockUserToken,M=ra.MOCK_USER;else{N=px(s.mockUserToken,r._app?.options.projectId);const j=s.mockUserToken.sub||s.mockUserToken.user_id;if(!j)throw new et(ze.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new ra(j)}r._authCredentials=new uS(new Cx(N,M))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new eu(this.firestore,e,this._query)}}class Mr{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mr(this.firestore,e,this._key)}toJSON(){return{type:Mr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(mf(t,Mr._jsonSchema))return new Mr(e,s||null,new vt(xi.fromString(t.referencePath)))}}Mr._jsonSchemaVersion="firestore/documentReference/1.0",Mr._jsonSchema={type:Pr("string",Mr._jsonSchemaVersion),referencePath:Pr("string")};class jc extends eu{constructor(e,t,s){super(e,t,Ry(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mr(this.firestore,null,new vt(e))}withConverter(e){return new jc(this.firestore,e,this._path)}}function ql(r,e,...t){if(r=hs(r),Ix("collection","path",e),r instanceof im){const s=xi.fromString(e,...t);return kv(s),new jc(r,null,s)}{if(!(r instanceof Mr||r instanceof jc))throw new et(ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(xi.fromString(e,...t));return kv(s),new jc(r.firestore,null,s)}}function jh(r,e,...t){if(r=hs(r),arguments.length===1&&(e=wy.newId()),Ix("doc","path",e),r instanceof im){const s=xi.fromString(e,...t);return Iv(s),new Mr(r,null,new vt(s))}{if(!(r instanceof Mr||r instanceof jc))throw new et(ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(xi.fromString(e,...t));return Iv(s),new Mr(r.firestore,r instanceof jc?r.converter:null,new vt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="AsyncQueue";class bb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xw(this,"async_queue_retry"),this._c=()=>{const s=Np();s&&nt(vb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Np();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Np();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Vc;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Wh(e))throw e;nt(vb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ec("INTERNAL UNHANDLED ERROR: ",xb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const l=Fy.createAndSchedule(this,e,t,s,(d=>this.hc(d)));return this.tc.push(l),l}uc(){this.nc&&Nt(47125,{Pc:xb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function xb(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(r){return(function(t,s){if(typeof t!="object"||t===null)return!1;const l=t;for(const d of s)if(d in l&&typeof l[d]=="function")return!0;return!1})(r,["next","error","complete"])}class ju extends im{constructor(e,t,s,l){super(e,t,s,l),this.type="firestore",this._queue=new bb,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bb(e),this._firestoreClient=void 0,await e}}}function sR(r,e){const t=typeof r=="object"?r:by(),s=typeof r=="string"?r:vg,l=Gg(t,"firestore").getImmediate({identifier:s});if(!l._initialized){const d=fx("firestore");d&&rR(l,...d)}return l}function Wy(r){if(r._terminated)throw new et(ze.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||aR(r),r._firestoreClient}function aR(r){const e=r._freezeSettings(),t=(function(l,d,v,E){return new IS(l,d,v,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Fw(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new eR(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(l){const d=l?._online.build();return{_offline:l?._offline.build(d),_online:d}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oo(Ds.fromBase64String(e))}catch(t){throw new et(ze.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Oo(Ds.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Oo._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mf(e,Oo._jsonSchema))return Oo.fromBase64String(e.bytes)}}Oo._jsonSchemaVersion="firestore/bytes/1.0",Oo._jsonSchema={type:Pr("string",Oo._jsonSchemaVersion),bytes:Pr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new et(ze.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ms(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new et(ze.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new et(ze.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return cn(this._lat,e._lat)||cn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Il._jsonSchemaVersion}}static fromJSON(e){if(mf(e,Il._jsonSchema))return new Il(e.latitude,e.longitude)}}Il._jsonSchemaVersion="firestore/geoPoint/1.0",Il._jsonSchema={type:Pr("string",Il._jsonSchemaVersion),latitude:Pr("number"),longitude:Pr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let d=0;d<s.length;++d)if(s[d]!==l[d])return!1;return!0})(this._values,e._values)}toJSON(){return{type:kl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mf(e,kl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new kl(e.vectorValues);throw new et(ze.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}kl._jsonSchemaVersion="firestore/vectorValue/1.0",kl._jsonSchema={type:Pr("string",kl._jsonSchemaVersion),vectorValues:Pr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=/^__.*__$/;class lR{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new $c(e,this.data,this.fieldMask,t,this.fieldTransforms):new pf(e,this.data,t,this.fieldTransforms)}}class Gw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new $c(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Zw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt(40011,{Ac:r})}}class Xy{constructor(e,t,s,l,d,v){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=l,d===void 0&&this.Rc(),this.fieldTransforms=d||[],this.fieldMask=v||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ng(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Zw(this.Ac)&&oR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class cR{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||em(e)}Cc(e,t,s,l=!1){return new Xy({Ac:e,methodName:t,Dc:s,path:Ms.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qy(r){const e=r._freezeSettings(),t=em(r._databaseId);return new cR(r._databaseId,!!e.ignoreUndefinedProperties,t)}function uR(r,e,t,s,l,d={}){const v=r.Cc(d.merge||d.mergeFields?2:0,e,t,l);Jy("Data must be an object, but it was:",v,s);const E=Yw(s,v);let A,N;if(d.merge)A=new uo(v.fieldMask),N=v.fieldTransforms;else if(d.mergeFields){const M=[];for(const j of d.mergeFields){const V=ly(e,j,t);if(!v.contains(V))throw new et(ze.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);Xw(M,V)||M.push(V)}A=new uo(M),N=v.fieldTransforms.filter((j=>A.covers(j.field)))}else A=null,N=v.fieldTransforms;return new lR(new Ua(E),A,N)}class am extends sm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof am}}class Ky extends sm{_toFieldTransform(e){return new nA(e.path,new af)}isEqual(e){return e instanceof Ky}}function hR(r,e,t,s){const l=r.Cc(1,e,t);Jy("Data must be an object, but it was:",l,s);const d=[],v=Ua.empty();qc(s,((A,N)=>{const M=qy(e,A,t);N=hs(N);const j=l.yc(M);if(N instanceof am)d.push(M);else{const V=bf(N,j);V!=null&&(d.push(M),v.set(M,V))}}));const E=new uo(d);return new Gw(v,E,l.fieldTransforms)}function dR(r,e,t,s,l,d){const v=r.Cc(1,e,t),E=[ly(e,s,t)],A=[l];if(d.length%2!=0)throw new et(ze.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<d.length;V+=2)E.push(ly(e,d[V])),A.push(d[V+1]);const N=[],M=Ua.empty();for(let V=E.length-1;V>=0;--V)if(!Xw(N,E[V])){const Q=E[V];let te=A[V];te=hs(te);const J=v.yc(Q);if(te instanceof am)N.push(Q);else{const K=bf(te,J);K!=null&&(N.push(Q),M.set(Q,K))}}const j=new uo(N);return new Gw(M,j,v.fieldTransforms)}function fR(r,e,t,s=!1){return bf(t,r.Cc(s?4:3,e))}function bf(r,e){if(Ww(r=hs(r)))return Jy("Unsupported field value:",e,r),Yw(r,e);if(r instanceof sm)return(function(s,l){if(!Zw(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const d=s._toFieldTransform(l);d&&l.fieldTransforms.push(d)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const d=[];let v=0;for(const E of s){let A=bf(E,l.wc(v));A==null&&(A={nullValue:"NULL_VALUE"}),d.push(A),v++}return{arrayValue:{values:d}}})(r,e)}return(function(s,l){if((s=hs(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return $S(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const d=wi.fromDate(s);return{timestampValue:Tg(l.serializer,d)}}if(s instanceof wi){const d=new wi(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Tg(l.serializer,d)}}if(s instanceof Il)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Oo)return{bytesValue:uw(l.serializer,s._byteString)};if(s instanceof Mr){const d=l.databaseId,v=s.firestore._databaseId;if(!v.isEqual(d))throw l.Sc(`Document reference is for database ${v.projectId}/${v.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:My(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof kl)return(function(v,E){return{mapValue:{fields:{[Vx]:{stringValue:jx},[bg]:{arrayValue:{values:v.toArray().map((N=>{if(typeof N!="number")throw E.Sc("VectorValues must only contain numeric values.");return Cy(E.serializer,N)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${Zg(s)}`)})(r,e)}function Yw(r,e){const t={};return Mx(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qc(r,((s,l)=>{const d=bf(l,e.mc(s));d!=null&&(t[s]=d)})),{mapValue:{fields:t}}}function Ww(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof wi||r instanceof Il||r instanceof Oo||r instanceof Mr||r instanceof sm||r instanceof kl)}function Jy(r,e,t){if(!Ww(t)||!kx(t)){const s=Zg(t);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function ly(r,e,t){if((e=hs(e))instanceof rm)return e._internalPath;if(typeof e=="string")return qy(r,e);throw Ng("Field path arguments must be of type string or ",r,!1,void 0,t)}const gR=new RegExp("[~\\*/\\[\\]]");function qy(r,e,t){if(e.search(gR)>=0)throw Ng(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new rm(...e.split("."))._internalPath}catch{throw Ng(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Ng(r,e,t,s,l){const d=s&&!s.isEmpty(),v=l!==void 0;let E=`Function ${e}() called with invalid data`;t&&(E+=" (via `toFirestore()`)"),E+=". ";let A="";return(d||v)&&(A+=" (found",d&&(A+=` in field ${s}`),v&&(A+=` in document ${l}`),A+=")"),new et(ze.INVALID_ARGUMENT,E+r+A)}function Xw(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,t,s,l,d){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=l,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Mr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(om("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class mR extends Qw{data(){return super.data()}}function om(r,e){return typeof e=="string"?qy(r,e):e instanceof rm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new et(ze.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $y{}class Jw extends $y{}function Bh(r,e,...t){let s=[];e instanceof $y&&s.push(e),s=s.concat(t),(function(d){const v=d.filter((A=>A instanceof e_)).length,E=d.filter((A=>A instanceof lm)).length;if(v>1||v>0&&E>0)throw new et(ze.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class lm extends Jw{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new lm(e,t,s)}_apply(e){const t=this._parse(e);return qw(e._query,t),new eu(e.firestore,e.converter,Kp(e._query,t))}_parse(e){const t=Qy(e.firestore);return(function(d,v,E,A,N,M,j){let V;if(N.isKeyField()){if(M==="array-contains"||M==="array-contains-any")throw new et(ze.INVALID_ARGUMENT,`Invalid Query. You can't perform '${M}' queries on documentId().`);if(M==="in"||M==="not-in"){Eb(j,M);const te=[];for(const J of j)te.push(Tb(A,d,J));V={arrayValue:{values:te}}}else V=Tb(A,d,j)}else M!=="in"&&M!=="not-in"&&M!=="array-contains-any"||Eb(j,M),V=fR(E,v,j,M==="in"||M==="not-in");return kr.create(N,M,V)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Fh(r,e,t){const s=e,l=om("where",r);return lm._create(l,s,t)}class e_ extends $y{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new e_(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:ol.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(l,d){let v=l;const E=d.getFlattenedFilters();for(const A of E)qw(v,A),v=Kp(v,A)})(e._query,t),new eu(e.firestore,e.converter,Kp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class t_ extends Jw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new t_(e,t)}_apply(e){const t=(function(l,d,v){if(l.startAt!==null)throw new et(ze.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new et(ze.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sf(d,v)})(e._query,this._field,this._direction);return new eu(e.firestore,e.converter,(function(l,d){const v=l.explicitOrderBy.concat([d]);return new Xh(l.path,l.collectionGroup,v,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,t))}}function Hh(r,e="asc"){const t=e,s=om("orderBy",r);return t_._create(s,t)}function Tb(r,e,t){if(typeof(t=hs(t))=="string"){if(t==="")throw new et(ze.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xx(e)&&t.indexOf("/")!==-1)throw new et(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(xi.fromString(t));if(!vt.isDocumentKey(s))throw new et(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Vv(r,new vt(s))}if(t instanceof Mr)return Vv(r,t._key);throw new et(ze.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zg(t)}.`)}function Eb(r,e){if(!Array.isArray(r)||r.length===0)throw new et(ze.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qw(r,e){const t=(function(l,d){for(const v of l)for(const E of v.getFlattenedFilters())if(d.indexOf(E.op)>=0)return E.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new et(ze.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new et(ze.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class pR{convertValue(e,t="none"){switch(Wc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Yc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Nt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return qc(e,((l,d)=>{s[l]=this.convertValue(d,t)})),s}convertVectorValue(e){const t=e.fields?.[bg].arrayValue?.values?.map((s=>mr(s.doubleValue)));return new kl(t)}convertGeoPoint(e){return new Il(mr(e.latitude),mr(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Xg(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(tf(e));default:return null}}convertTimestamp(e){const t=Zc(e);return new wi(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=xi.fromString(e);Vn(pw(s),9688,{name:e});const l=new nf(s.get(1),s.get(3)),d=new vt(s.popFirst(5));return l.isEqual(t)||ec(`Document ${d} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(r,e,t){let s;return s=r?r.toFirestore(e):e,s}class Zd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pu extends Qw{constructor(e,t,s,l,d,v){super(e,t,s,l,v),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new hg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(om("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new et(ze.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Pu._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Pu._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pu._jsonSchema={type:Pr("string",Pu._jsonSchemaVersion),bundleSource:Pr("string","DocumentSnapshot"),bundleName:Pr("string"),bundle:Pr("string")};class hg extends Pu{data(e={}){return super.data(e)}}class Mu{constructor(e,t,s,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new Zd(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new hg(this._firestore,this._userDataWriter,s.key,s,new Zd(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new et(ze.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(l,d){if(l._snapshot.oldDocs.isEmpty()){let v=0;return l._snapshot.docChanges.map((E=>{const A=new hg(l._firestore,l._userDataWriter,E.doc.key,E.doc,new Zd(l._snapshot.mutatedKeys.has(E.doc.key),l._snapshot.fromCache),l.query.converter);return E.doc,{type:"added",doc:A,oldIndex:-1,newIndex:v++}}))}{let v=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((E=>d||E.type!==3)).map((E=>{const A=new hg(l._firestore,l._userDataWriter,E.doc.key,E.doc,new Zd(l._snapshot.mutatedKeys.has(E.doc.key),l._snapshot.fromCache),l.query.converter);let N=-1,M=-1;return E.type!==0&&(N=v.indexOf(E.doc.key),v=v.delete(E.doc.key)),E.type!==1&&(v=v.add(E.doc),M=v.indexOf(E.doc.key)),{type:_R(E.type),doc:A,oldIndex:N,newIndex:M}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new et(ze.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Mu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],l=[];return this.docs.forEach((d=>{d._document!==null&&(t.push(d._document),s.push(this._userDataWriter.convertObjectMap(d._document.data.value.mapValue.fields,"previous")),l.push(d.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _R(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt(61501,{type:r})}}Mu._jsonSchemaVersion="firestore/querySnapshot/1.0",Mu._jsonSchema={type:Pr("string",Mu._jsonSchemaVersion),bundleSource:Pr("string","QuerySnapshot"),bundleName:Pr("string"),bundle:Pr("string")};class n_ extends pR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mr(this.firestore,null,t)}}function i_(r){r=Nl(r,eu);const e=Nl(r.firestore,ju),t=Wy(e),s=new n_(e);return Kw(r._query),iR(t,r._query).then((l=>new Mu(e,s,r,l)))}function $w(r,e,t,...s){r=Nl(r,Mr);const l=Nl(r.firestore,ju),d=Qy(l);let v;return v=typeof(e=hs(e))=="string"||e instanceof rm?dR(d,"updateDoc",r._key,e,t,s):hR(d,"updateDoc",r._key,e),o_(l,[v.toMutation(r._key,al.exists(!0))])}function r_(r){return o_(Nl(r.firestore,ju),[new Iy(r._key,al.none())])}function s_(r,e){const t=Nl(r.firestore,ju),s=jh(r),l=yR(r.converter,e);return o_(t,[uR(Qy(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,al.exists(!1))]).then((()=>s))}function a_(r,...e){r=hs(r);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||wb(e[s])||(t=e[s++]);const l={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(wb(e[s])){const A=e[s];e[s]=A.next?.bind(A),e[s+1]=A.error?.bind(A),e[s+2]=A.complete?.bind(A)}let d,v,E;if(r instanceof Mr)v=Nl(r.firestore,ju),E=Ry(r._key.path),d={next:A=>{e[s]&&e[s](vR(v,r,A))},error:e[s+1],complete:e[s+2]};else{const A=Nl(r,eu);v=Nl(A.firestore,ju),E=A._query;const N=new n_(v);d={next:M=>{e[s]&&e[s](new Mu(v,N,A,M))},error:e[s+1],complete:e[s+2]},Kw(r._query)}return(function(N,M,j,V){const Q=new jw(V),te=new kw(M,Q,j);return N.asyncQueue.enqueueAndForget((async()=>Cw(await oy(N),te))),()=>{Q.Nu(),N.asyncQueue.enqueueAndForget((async()=>Iw(await oy(N),te)))}})(Wy(v),E,l,d)}function o_(r,e){return(function(s,l){const d=new Vc;return s.asyncQueue.enqueueAndForget((async()=>ZN(await nR(s),l,d))),d.promise})(Wy(r),e)}function vR(r,e,t){const s=t.docs.get(e._key),l=new n_(r);return new Pu(r,l,e._key,s,new Zd(t.hasPendingWrites,t.fromCache),e.converter)}function Du(){return new Ky("serverTimestamp")}(function(e,t=!0){(function(l){Zh=l})(Hu),zu(new Hc("firestore",((s,{instanceIdentifier:l,options:d})=>{const v=s.getProvider("app").getImmediate(),E=new ju(new hS(s.getProvider("auth-internal")),new gS(v,s.getProvider("app-check-internal")),(function(N,M){if(!Object.prototype.hasOwnProperty.apply(N.options,["projectId"]))throw new et(ze.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nf(N.options.projectId,M)})(v,l),v);return d={useFetchStreams:t,...d},E._setSettings(d),E}),"PUBLIC").setMultipleInstances(!0)),Al(Av,Nv,e),Al(Av,Nv,"esm2020")})();var bR="firebase",xR="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Al(bR,xR,"app");function e1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wR=e1,t1=new ff("auth","Firebase",e1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg=new _y("@firebase/auth");function TR(r,...e){Rg.logLevel<=ln.WARN&&Rg.warn(`Auth (${Hu}): ${r}`,...e)}function dg(r,...e){Rg.logLevel<=ln.ERROR&&Rg.error(`Auth (${Hu}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(r,...e){throw l_(r,...e)}function Pl(r,...e){return l_(r,...e)}function n1(r,e,t){const s={...wR(),[e]:t};return new ff("auth","Firebase",s).create(e,{appName:r.name})}function Bc(r){return n1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function l_(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return t1.create(r,...e)}function Ct(r,e,...t){if(!r)throw l_(e,...t)}function Kl(r){const e="INTERNAL ASSERTION FAILED: "+r;throw dg(e),new Error(e)}function ic(r,e){r||Kl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(){return typeof self<"u"&&self.location?.href||""}function ER(){return Sb()==="http:"||Sb()==="https:"}function Sb(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ER()||FE()||"connection"in navigator)?navigator.onLine:!0}function AR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,t){this.shortDelay=e,this.longDelay=t,ic(t>e,"Short delay should be less than long delay!"),this.isMobile=VE()||HE()}get(){return SR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(r,e){ic(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CR=new xf(3e4,6e4);function cm(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Kh(r,e,t,s,l={}){return r1(r,l,async()=>{let d={},v={};s&&(e==="GET"?v=s:d={body:JSON.stringify(s)});const E=gf({key:r.config.apiKey,...v}).slice(1),A=await r._getAdditionalHeaders();A["Content-Type"]="application/json",r.languageCode&&(A["X-Firebase-Locale"]=r.languageCode);const N={method:e,headers:A,...d};return BE()||(N.referrerPolicy="no-referrer"),r.emulatorConfig&&Fu(r.emulatorConfig.host)&&(N.credentials="include"),i1.fetch()(await a1(r,r.config.apiHost,t,E),N)})}async function r1(r,e,t){r._canInitEmulator=!1;const s={...NR,...e};try{const l=new IR(r),d=await Promise.race([t(),l.promise]);l.clearNetworkTimeout();const v=await d.json();if("needConfirmation"in v)throw rg(r,"account-exists-with-different-credential",v);if(d.ok&&!("errorMessage"in v))return v;{const E=d.ok?v.errorMessage:v.error.message,[A,N]=E.split(" : ");if(A==="FEDERATED_USER_ID_ALREADY_LINKED")throw rg(r,"credential-already-in-use",v);if(A==="EMAIL_EXISTS")throw rg(r,"email-already-in-use",v);if(A==="USER_DISABLED")throw rg(r,"user-disabled",v);const M=s[A]||A.toLowerCase().replace(/[_\s]+/g,"-");if(N)throw n1(r,M,N);nc(r,M)}}catch(l){if(l instanceof Ll)throw l;nc(r,"network-request-failed",{message:String(l)})}}async function s1(r,e,t,s,l={}){const d=await Kh(r,e,t,s,l);return"mfaPendingCredential"in d&&nc(r,"multi-factor-auth-required",{_serverResponse:d}),d}async function a1(r,e,t,s){const l=`${e}${t}?${s}`,d=r,v=d.config.emulator?c_(r.config,l):`${r.config.apiScheme}://${l}`;return RR.includes(t)&&(await d._persistenceManagerAvailable,d._getPersistenceType()==="COOKIE")?d._getPersistence()._getFinalTarget(v).toString():v}class IR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Pl(this.auth,"network-request-failed")),CR.get())})}}function rg(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const l=Pl(r,e,s);return l.customData._tokenResponse=t,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(r,e){return Kh(r,"POST","/v1/accounts:delete",e)}async function Cg(r,e){return Kh(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PR(r,e=!1){const t=hs(r),s=await t.getIdToken(e),l=u_(s);Ct(l&&l.exp&&l.auth_time&&l.iat,t.auth,"internal-error");const d=typeof l.firebase=="object"?l.firebase:void 0,v=d?.sign_in_provider;return{claims:l,token:s,authTime:Jd(Cp(l.auth_time)),issuedAtTime:Jd(Cp(l.iat)),expirationTime:Jd(Cp(l.exp)),signInProvider:v||null,signInSecondFactor:d?.sign_in_second_factor||null}}function Cp(r){return Number(r)*1e3}function u_(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return dg("JWT malformed, contained fewer than 3 sections"),null;try{const l=hx(t);return l?JSON.parse(l):(dg("Failed to decode base64 JWT payload"),null)}catch(l){return dg("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Ab(r){const e=u_(r);return Ct(e,"internal-error"),Ct(typeof e.exp<"u","internal-error"),Ct(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cf(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Ll&&MR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function MR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jd(this.lastLoginAt),this.creationTime=Jd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ig(r){const e=r.auth,t=await r.getIdToken(),s=await cf(r,Cg(e,{idToken:t}));Ct(s?.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const d=l.providerUserInfo?.length?o1(l.providerUserInfo):[],v=LR(r.providerData,d),E=r.isAnonymous,A=!(r.email&&l.passwordHash)&&!v?.length,N=E?A:!1,M={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:v,metadata:new uy(l.createdAt,l.lastLoginAt),isAnonymous:N};Object.assign(r,M)}async function OR(r){const e=hs(r);await Ig(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LR(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function o1(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zR(r,e){const t=await r1(r,{},async()=>{const s=gf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:d}=r.config,v=await a1(r,l,"/v1/token",`key=${d}`),E=await r._getAdditionalHeaders();E["Content-Type"]="application/x-www-form-urlencoded";const A={method:"POST",headers:E,body:s};return r.emulatorConfig&&Fu(r.emulatorConfig.host)&&(A.credentials="include"),i1.fetch()(v,A)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function UR(r,e){return Kh(r,"POST","/v2/accounts:revokeToken",cm(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ct(e.idToken,"internal-error"),Ct(typeof e.idToken<"u","internal-error"),Ct(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ab(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ct(e.length!==0,"internal-error");const t=Ab(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ct(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:l,expiresIn:d}=await zR(e,t);this.updateTokensAndExpiration(s,l,Number(d))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:l,expirationTime:d}=t,v=new kh;return s&&(Ct(typeof s=="string","internal-error",{appName:e}),v.refreshToken=s),l&&(Ct(typeof l=="string","internal-error",{appName:e}),v.accessToken=l),d&&(Ct(typeof d=="number","internal-error",{appName:e}),v.expirationTime=d),v}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kh,this.toJSON())}_performRefresh(){return Kl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(r,e){Ct(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class rl{constructor({uid:e,auth:t,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new DR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new uy(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await cf(this,this.stsTokenManager.getToken(this.auth,e));return Ct(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return PR(this,e)}reload(){return OR(this)}_assign(e){this!==e&&(Ct(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new rl({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Ig(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Do(this.auth.app))return Promise.reject(Bc(this.auth));const e=await this.getIdToken();return await cf(this,kR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,l=t.email??void 0,d=t.phoneNumber??void 0,v=t.photoURL??void 0,E=t.tenantId??void 0,A=t._redirectEventId??void 0,N=t.createdAt??void 0,M=t.lastLoginAt??void 0,{uid:j,emailVerified:V,isAnonymous:Q,providerData:te,stsTokenManager:J}=t;Ct(j&&J,e,"internal-error");const K=kh.fromJSON(this.name,J);Ct(typeof j=="string",e,"internal-error"),Ic(s,e.name),Ic(l,e.name),Ct(typeof V=="boolean",e,"internal-error"),Ct(typeof Q=="boolean",e,"internal-error"),Ic(d,e.name),Ic(v,e.name),Ic(E,e.name),Ic(A,e.name),Ic(N,e.name),Ic(M,e.name);const _e=new rl({uid:j,auth:e,email:l,emailVerified:V,displayName:s,isAnonymous:Q,photoURL:v,phoneNumber:d,tenantId:E,stsTokenManager:K,createdAt:N,lastLoginAt:M});return te&&Array.isArray(te)&&(_e.providerData=te.map(Re=>({...Re}))),A&&(_e._redirectEventId=A),_e}static async _fromIdTokenResponse(e,t,s=!1){const l=new kh;l.updateFromServerResponse(t);const d=new rl({uid:t.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Ig(d),d}static async _fromGetAccountInfoResponse(e,t,s){const l=t.users[0];Ct(l.localId!==void 0,"internal-error");const d=l.providerUserInfo!==void 0?o1(l.providerUserInfo):[],v=!(l.email&&l.passwordHash)&&!d?.length,E=new kh;E.updateFromIdToken(s);const A=new rl({uid:l.localId,auth:e,stsTokenManager:E,isAnonymous:v}),N={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new uy(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!d?.length};return Object.assign(A,N),A}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=new Map;function Jl(r){ic(r instanceof Function,"Expected a class definition");let e=Nb.get(r);return e?(ic(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Nb.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}l1.type="NONE";const Rb=l1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(r,e,t){return`firebase:${r}:${e}:${t}`}class Ph{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:l,name:d}=this.auth;this.fullUserKey=fg(this.userKey,l.apiKey,d),this.fullPersistenceKey=fg("persistence",l.apiKey,d),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Cg(this.auth,{idToken:e}).catch(()=>{});return t?rl._fromGetAccountInfoResponse(this.auth,t,e):null}return rl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Ph(Jl(Rb),e,s);const l=(await Promise.all(t.map(async N=>{if(await N._isAvailable())return N}))).filter(N=>N);let d=l[0]||Jl(Rb);const v=fg(s,e.config.apiKey,e.name);let E=null;for(const N of t)try{const M=await N._get(v);if(M){let j;if(typeof M=="string"){const V=await Cg(e,{idToken:M}).catch(()=>{});if(!V)break;j=await rl._fromGetAccountInfoResponse(e,V,M)}else j=rl._fromJSON(e,M);N!==d&&(E=j),d=N;break}}catch{}const A=l.filter(N=>N._shouldAllowMigration);return!d._shouldAllowMigration||!A.length?new Ph(d,e,s):(d=A[0],E&&await d._set(v,E.toJSON()),await Promise.all(t.map(async N=>{if(N!==d)try{await N._remove(v)}catch{}})),new Ph(d,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(d1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(c1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(g1(e))return"Blackberry";if(m1(e))return"Webos";if(u1(e))return"Safari";if((e.includes("chrome/")||h1(e))&&!e.includes("edge/"))return"Chrome";if(f1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if(s?.length===2)return s[1]}return"Other"}function c1(r=aa()){return/firefox\//i.test(r)}function u1(r=aa()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function h1(r=aa()){return/crios\//i.test(r)}function d1(r=aa()){return/iemobile/i.test(r)}function f1(r=aa()){return/android/i.test(r)}function g1(r=aa()){return/blackberry/i.test(r)}function m1(r=aa()){return/webos/i.test(r)}function h_(r=aa()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function VR(r=aa()){return h_(r)&&!!window.navigator?.standalone}function jR(){return GE()&&document.documentMode===10}function p1(r=aa()){return h_(r)||f1(r)||m1(r)||g1(r)||/windows phone/i.test(r)||d1(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(r,e=[]){let t;switch(r){case"Browser":t=Cb(aa());break;case"Worker":t=`${Cb(aa())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Hu}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=d=>new Promise((v,E)=>{try{const A=e(d);v(A)}catch(A){E(A)}});s.onAbort=t,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const l of t)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(r,e={}){return Kh(r,"GET","/v2/passwordPolicy",cm(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=6;class GR{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??HR,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),l&&(t.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,l,d){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,t,s,l){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ib(this),this.idTokenSubscription=new Ib(this),this.beforeStateQueue=new BR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=t1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(d=>this._resolvePersistenceManagerAvailable=d)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Jl(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ph.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Cg(this,{idToken:e}),s=await rl._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Do(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(v=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(v,v))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=this.redirectUser?._redirectEventId,v=s?._redirectEventId,E=await this.tryRedirectSignIn(e);(!d||d===v)&&E?.user&&(s=E.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(d){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ig(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Do(this.app))return Promise.reject(Bc(this));const t=e?hs(e):null;return t&&Ct(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ct(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Do(this.app)?Promise.reject(Bc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Do(this.app)?Promise.reject(Bc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Jl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FR(this),t=new GR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ff("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await UR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Jl(e)||this._popupRedirectResolver;Ct(t,this,"argument-error"),this.redirectPersistenceManager=await Ph.create(this,[Jl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,l){if(this._deleted)return()=>{};const d=typeof t=="function"?t:t.next.bind(t);let v=!1;const E=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ct(E,this,"internal-error"),E.then(()=>{v||d(this.currentUser)}),typeof t=="function"){const A=e.addObserver(t,s,l);return()=>{v=!0,A()}}else{const A=e.addObserver(t);return()=>{v=!0,A()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=y1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Do(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&TR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function um(r){return hs(r)}class Ib{constructor(e){this.auth=e,this.observer=null,this.addObserver=qE(t=>this.observer=t)}get next(){return Ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YR(r){d_=r}function WR(r){return d_.loadJS(r)}function XR(){return d_.gapiScript}function QR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(r,e){const t=Gg(r,"auth");if(t.isInitialized()){const l=t.getImmediate(),d=t.getOptions();if(Lu(d,e??{}))return l;nc(l,"already-initialized")}return t.initialize({options:e})}function JR(r,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Jl);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function qR(r,e,t){const s=um(r);Ct(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,d=_1(e),{host:v,port:E}=$R(e),A=E===null?"":`:${E}`,N={url:`${d}//${v}${A}/`},M=Object.freeze({host:v,port:E,protocol:d.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Ct(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ct(Lu(N,s.config.emulator)&&Lu(M,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=N,s.emulatorConfig=M,s.settings.appVerificationDisabledForTesting=!0,Fu(v)?(py(`${d}//${v}${A}`),yy("Auth",!0)):eC()}function _1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function $R(r){const e=_1(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const d=l[1];return{host:d,port:kb(s.substr(d.length+1))}}else{const[d,v]=s.split(":");return{host:d,port:kb(v)}}}function kb(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function eC(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Kl("not implemented")}_getIdTokenResponse(e){return Kl("not implemented")}_linkToIdToken(e,t){return Kl("not implemented")}_getReauthenticationResolver(e){return Kl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mh(r,e){return s1(r,"POST","/v1/accounts:signInWithIdp",cm(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="http://localhost";class Bu extends v1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Bu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):nc("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...d}=t;if(!s||!l)return null;const v=new Bu(s,l);return v.idToken=d.idToken||void 0,v.accessToken=d.accessToken||void 0,v.secret=d.secret,v.nonce=d.nonce,v.pendingToken=d.pendingToken||null,v}_getIdTokenResponse(e){const t=this.buildRequest();return Mh(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Mh(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Mh(e,t)}buildRequest(){const e={requestUri:tC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=gf(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf extends b1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends wf{constructor(){super("facebook.com")}static credential(e){return Bu._fromParams({providerId:kc.PROVIDER_ID,signInMethod:kc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kc.credentialFromTaggedObject(e)}static credentialFromError(e){return kc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kc.credential(e.oauthAccessToken)}catch{return null}}}kc.FACEBOOK_SIGN_IN_METHOD="facebook.com";kc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends wf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Bu._fromParams({providerId:Pc.PROVIDER_ID,signInMethod:Pc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Pc.credentialFromTaggedObject(e)}static credentialFromError(e){return Pc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Pc.credential(t,s)}catch{return null}}}Pc.GOOGLE_SIGN_IN_METHOD="google.com";Pc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends wf{constructor(){super("github.com")}static credential(e){return Bu._fromParams({providerId:Mc.PROVIDER_ID,signInMethod:Mc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mc.credentialFromTaggedObject(e)}static credentialFromError(e){return Mc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mc.credential(e.oauthAccessToken)}catch{return null}}}Mc.GITHUB_SIGN_IN_METHOD="github.com";Mc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends wf{constructor(){super("twitter.com")}static credential(e,t){return Bu._fromParams({providerId:Dc.PROVIDER_ID,signInMethod:Dc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Dc.credentialFromTaggedObject(e)}static credentialFromError(e){return Dc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Dc.credential(t,s)}catch{return null}}}Dc.TWITTER_SIGN_IN_METHOD="twitter.com";Dc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nC(r,e){return s1(r,"POST","/v1/accounts:signUp",cm(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,l=!1){const d=await rl._fromIdTokenResponse(e,s,l),v=Pb(s);return new Kc({user:d,providerId:v,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const l=Pb(s);return new Kc({user:e,providerId:l,_tokenResponse:s,operationType:t})}}function Pb(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iC(r){if(Do(r.app))return Promise.reject(Bc(r));const e=um(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Kc({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await nC(e,{returnSecureToken:!0}),s=await Kc._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg extends Ll{constructor(e,t,s,l){super(t.code,t.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,kg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,l){return new kg(e,t,s,l)}}function x1(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(d=>{throw d.code==="auth/multi-factor-auth-required"?kg._fromErrorAndOperation(r,d,e,s):d})}async function rC(r,e,t=!1){const s=await cf(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Kc._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(r,e,t=!1){const{auth:s}=r;if(Do(s.app))return Promise.reject(Bc(s));const l="reauthenticate";try{const d=await cf(r,x1(s,l,e,r),t);Ct(d.idToken,s,"internal-error");const v=u_(d.idToken);Ct(v,s,"internal-error");const{sub:E}=v;return Ct(r.uid===E,s,"user-mismatch"),Kc._forOperation(r,l,d)}catch(d){throw d?.code==="auth/user-not-found"&&nc(s,"user-mismatch"),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aC(r,e,t=!1){if(Do(r.app))return Promise.reject(Bc(r));const s="signIn",l=await x1(r,s,e),d=await Kc._fromIdTokenResponse(r,s,l);return t||await r._updateCurrentUser(d.user),d}function oC(r,e,t,s){return hs(r).onIdTokenChanged(e,t,s)}function lC(r,e,t){return hs(r).beforeAuthStateChanged(e,t)}function cC(r,e,t,s){return hs(r).onAuthStateChanged(e,t,s)}const Pg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Pg,"1"),this.storage.removeItem(Pg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=1e3,hC=10;class T1 extends w1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=p1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),l=this.localCache[t];s!==l&&e(t,l,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((v,E,A)=>{this.notifyListeners(v,A)});return}const s=e.key;t?this.detachListener():this.stopPolling();const l=()=>{const v=this.storage.getItem(s);!t&&this.localCache[s]===v||this.notifyListeners(s,v)},d=this.storage.getItem(s);jR()&&d!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,hC):l()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},uC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}T1.type="LOCAL";const dC=T1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1 extends w1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}E1.type="SESSION";const S1=E1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(l=>l.isListeningto(e));if(t)return t;const s=new hm(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:l,data:d}=t.data,v=this.handlersMap[l];if(!v?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const E=Array.from(v).map(async N=>N(t.origin,d)),A=await fC(E);t.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:A})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let d,v;return new Promise((E,A)=>{const N=f_("",20);l.port1.start();const M=setTimeout(()=>{A(new Error("unsupported_event"))},s);v={messageChannel:l,onMessage(j){const V=j;if(V.data.eventId===N)switch(V.data.status){case"ack":clearTimeout(M),d=setTimeout(()=>{A(new Error("timeout"))},3e3);break;case"done":clearTimeout(d),E(V.data.response);break;default:clearTimeout(M),clearTimeout(d),A(new Error("invalid_response"));break}}},this.handlers.add(v),l.port1.addEventListener("message",v.onMessage),this.target.postMessage({eventType:e,eventId:N,data:t},[l.port2])}).finally(()=>{v&&this.removeMessageHandler(v)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(){return window}function mC(r){Ml().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(){return typeof Ml().WorkerGlobalScope<"u"&&typeof Ml().importScripts=="function"}async function pC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yC(){return navigator?.serviceWorker?.controller||null}function _C(){return A1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="firebaseLocalStorageDb",vC=1,Mg="firebaseLocalStorage",R1="fbase_key";class Tf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function dm(r,e){return r.transaction([Mg],e?"readwrite":"readonly").objectStore(Mg)}function bC(){const r=indexedDB.deleteDatabase(N1);return new Tf(r).toPromise()}function hy(){const r=indexedDB.open(N1,vC);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Mg,{keyPath:R1})}catch(l){t(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Mg)?e(s):(s.close(),await bC(),e(await hy()))})})}async function Mb(r,e,t){const s=dm(r,!0).put({[R1]:e,value:t});return new Tf(s).toPromise()}async function xC(r,e){const t=dm(r,!1).get(e),s=await new Tf(t).toPromise();return s===void 0?null:s.value}function Db(r,e){const t=dm(r,!0).delete(e);return new Tf(t).toPromise()}const wC=800,TC=3;class C1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>TC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return A1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hm._getInstance(_C()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pC(),!this.activeServiceWorker)return;this.sender=new gC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hy();return await Mb(e,Pg,"1"),await Db(e,Pg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Mb(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>xC(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Db(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const d=dm(l,!1).getAll();return new Tf(d).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:d}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(d)&&(this.notifyListeners(l,d),t.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),t.push(l));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}C1.type="LOCAL";const EC=C1;new xf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(r,e){return e?Jl(e):(Ct(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_ extends v1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Mh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Mh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function AC(r){return aC(r.auth,new g_(r),r.bypassAuthState)}function NC(r){const{auth:e,user:t}=r;return Ct(t,e,"internal-error"),sC(t,new g_(r),r.bypassAuthState)}async function RC(r){const{auth:e,user:t}=r;return Ct(t,e,"internal-error"),rC(t,new g_(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,t,s,l,d=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=d,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:l,tenantId:d,error:v,type:E}=e;if(v){this.reject(v);return}const A={auth:this.auth,requestUri:t,sessionId:s,tenantId:d||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(E)(A))}catch(N){this.reject(N)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AC;case"linkViaPopup":case"linkViaRedirect":return RC;case"reauthViaPopup":case"reauthViaRedirect":return NC;default:nc(this.auth,"internal-error")}}resolve(e){ic(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ic(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=new xf(2e3,1e4);class Ch extends I1{constructor(e,t,s,l,d){super(e,t,l,d),this.provider=s,this.authWindow=null,this.pollId=null,Ch.currentPopupAction&&Ch.currentPopupAction.cancel(),Ch.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ct(e,this.auth,"internal-error"),e}async onExecution(){ic(this.filter.length===1,"Popup operations only handle one event");const e=f_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Pl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Pl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ch.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CC.get())};e()}}Ch.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="pendingRedirect",gg=new Map;class kC extends I1{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=gg.get(this.auth._key());if(!e){try{const s=await PC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}gg.set(this.auth._key(),e)}return this.bypassAuthState||gg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PC(r,e){const t=OC(e),s=DC(r);if(!await s._isAvailable())return!1;const l=await s._get(t)==="true";return await s._remove(t),l}function MC(r,e){gg.set(r._key(),e)}function DC(r){return Jl(r._redirectPersistence)}function OC(r){return fg(IC,r.config.apiKey,r.name)}async function LC(r,e,t=!1){if(Do(r.app))return Promise.reject(Bc(r));const s=um(r),l=SC(s,e),v=await new kC(s,l,t).execute();return v&&!t&&(delete v.user._redirectEventId,await s._persistUserIfCurrent(v.user),await s._setRedirectUser(null,e)),v}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=600*1e3;class UC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!k1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Pl(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ob(e))}saveEventToCache(e){this.cachedEventUids.add(Ob(e)),this.lastProcessedEventTime=Date.now()}}function Ob(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function k1({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function VC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return k1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jC(r,e={}){return Kh(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FC=/^https?/;async function HC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await jC(r);for(const t of e)try{if(GC(t))return}catch{}nc(r,"unauthorized-domain")}function GC(r){const e=cy(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const v=new URL(r);return v.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&v.hostname===s}if(!FC.test(t))return!1;if(BC.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=new xf(3e4,6e4);function Lb(){const r=Ml().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function YC(r){return new Promise((e,t)=>{function s(){Lb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Lb(),t(Pl(r,"network-request-failed"))},timeout:ZC.get()})}if(Ml().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ml().gapi?.load)s();else{const l=QR("iframefcb");return Ml()[l]=()=>{gapi.load?s():t(Pl(r,"network-request-failed"))},WR(`${XR()}?onload=${l}`).catch(d=>t(d))}}).catch(e=>{throw mg=null,e})}let mg=null;function WC(r){return mg=mg||YC(r),mg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=new xf(5e3,15e3),QC="__/auth/iframe",KC="emulator/auth/iframe",JC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $C(r){const e=r.config;Ct(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?c_(e,KC):`https://${r.config.authDomain}/${QC}`,s={apiKey:e.apiKey,appName:r.name,v:Hu},l=qC.get(r.config.apiHost);l&&(s.eid=l);const d=r._getFrameworks();return d.length&&(s.fw=d.join(",")),`${t}?${gf(s).slice(1)}`}async function eI(r){const e=await WC(r),t=Ml().gapi;return Ct(t,r,"internal-error"),e.open({where:document.body,url:$C(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JC,dontclear:!0},s=>new Promise(async(l,d)=>{await s.restyle({setHideOnLeave:!1});const v=Pl(r,"network-request-failed"),E=Ml().setTimeout(()=>{d(v)},XC.get());function A(){Ml().clearTimeout(E),l(s)}s.ping(A).then(A,()=>{d(v)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nI=500,iI=600,rI="_blank",sI="http://localhost";class zb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aI(r,e,t,s=nI,l=iI){const d=Math.max((window.screen.availHeight-l)/2,0).toString(),v=Math.max((window.screen.availWidth-s)/2,0).toString();let E="";const A={...tI,width:s.toString(),height:l.toString(),top:d,left:v},N=aa().toLowerCase();t&&(E=h1(N)?rI:t),c1(N)&&(e=e||sI,A.scrollbars="yes");const M=Object.entries(A).reduce((V,[Q,te])=>`${V}${Q}=${te},`,"");if(VR(N)&&E!=="_self")return oI(e||"",E),new zb(null);const j=window.open(e||"",E,M);Ct(j,r,"popup-blocked");try{j.focus()}catch{}return new zb(j)}function oI(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="__/auth/handler",cI="emulator/auth/handler",uI=encodeURIComponent("fac");async function Ub(r,e,t,s,l,d){Ct(r.config.authDomain,r,"auth-domain-config-required"),Ct(r.config.apiKey,r,"invalid-api-key");const v={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Hu,eventId:l};if(e instanceof b1){e.setDefaultLanguage(r.languageCode),v.providerId=e.providerId||"",JE(e.getCustomParameters())||(v.customParameters=JSON.stringify(e.getCustomParameters()));for(const[M,j]of Object.entries({}))v[M]=j}if(e instanceof wf){const M=e.getScopes().filter(j=>j!=="");M.length>0&&(v.scopes=M.join(","))}r.tenantId&&(v.tid=r.tenantId);const E=v;for(const M of Object.keys(E))E[M]===void 0&&delete E[M];const A=await r._getAppCheckToken(),N=A?`#${uI}=${encodeURIComponent(A)}`:"";return`${hI(r)}?${gf(E).slice(1)}${N}`}function hI({config:r}){return r.emulator?c_(r,cI):`https://${r.authDomain}/${lI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="webStorageSupport";class dI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=S1,this._completeRedirectFn=LC,this._overrideRedirectResult=MC}async _openPopup(e,t,s,l){ic(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const d=await Ub(e,t,s,cy(),l);return aI(e,d,f_())}async _openRedirect(e,t,s,l){await this._originValidation(e);const d=await Ub(e,t,s,cy(),l);return mC(d),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:l,promise:d}=this.eventManagers[t];return l?Promise.resolve(l):(ic(d,"If manager is not set, promise should be"),d)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await eI(e),s=new UC(e);return t.register("authEvent",l=>(Ct(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ip,{type:Ip},l=>{const d=l?.[0]?.[Ip];d!==void 0&&t(!!d),nc(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=HC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return p1()||u1()||h_()}}const fI=dI;var Vb="@firebase/auth",jb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pI(r){zu(new Hc("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),d=e.getProvider("app-check-internal"),{apiKey:v,authDomain:E}=s.options;Ct(v&&!v.includes(":"),"invalid-api-key",{appName:s.name});const A={apiKey:v,authDomain:E,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:y1(r)},N=new ZR(s,l,d,A);return JR(N,t),N},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),zu(new Hc("auth-internal",e=>{const t=um(e.getProvider("auth").getImmediate());return(s=>new gI(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Al(Vb,jb,mI(r)),Al(Vb,jb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=300,_I=mx("authIdTokenMaxAge")||yI;let Bb=null;const vI=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>_I)return;const l=t?.token;Bb!==l&&(Bb=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function bI(r=by()){const e=Gg(r,"auth");if(e.isInitialized())return e.getImmediate();const t=KR(r,{popupRedirectResolver:fI,persistence:[EC,dC,S1]}),s=mx("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const d=new URL(s,location.origin);if(location.origin===d.origin){const v=vI(d.toString());lC(t,v,()=>v(t.currentUser)),oC(t,E=>v(E))}}const l=dx("auth");return l&&qR(t,`http://${l}`),t}function xI(){return document.getElementsByTagName("head")?.[0]??document}YR({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const d=Pl("internal-error");d.customData=l,t(d)},s.type="text/javascript",s.charset="UTF-8",xI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pI("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="firebasestorage.googleapis.com",wI="storageBucket",TI=120*1e3,EI=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends Ll{constructor(e,t,s=0){super(kp(e),`Firebase Storage: ${t} (${kp(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,zl.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return kp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ol;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ol||(Ol={}));function kp(r){return"storage/"+r}function SI(){const r="An unknown error occurred, please check the error payload for server response.";return new zl(Ol.UNKNOWN,r)}function AI(){return new zl(Ol.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function NI(){return new zl(Ol.CANCELED,"User canceled the upload/download.")}function RI(r){return new zl(Ol.INVALID_URL,"Invalid URL '"+r+"'.")}function CI(r){return new zl(Ol.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function Fb(r){return new zl(Ol.INVALID_ARGUMENT,r)}function M1(){return new zl(Ol.APP_DELETED,"The Firebase app was deleted.")}function II(r){return new zl(Ol.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=sl.makeFromUrl(e,t)}catch{return new sl(e,"")}if(s.path==="")return s;throw CI(e)}static makeFromUrl(e,t){let s=null;const l="([A-Za-z0-9.\\-_]+)";function d(ke){ke.path.charAt(ke.path.length-1)==="/"&&(ke.path_=ke.path_.slice(0,-1))}const v="(/(.*))?$",E=new RegExp("^gs://"+l+v,"i"),A={bucket:1,path:3};function N(ke){ke.path_=decodeURIComponent(ke.path)}const M="v[A-Za-z0-9_]+",j=t.replace(/[.]/g,"\\."),V="(/([^?#]*).*)?$",Q=new RegExp(`^https?://${j}/${M}/b/${l}/o${V}`,"i"),te={bucket:1,path:3},J=t===P1?"(?:storage.googleapis.com|storage.cloud.google.com)":t,K="([^?#]*)",_e=new RegExp(`^https?://${J}/${l}/${K}`,"i"),ie=[{regex:E,indices:A,postModify:d},{regex:Q,indices:te,postModify:N},{regex:_e,indices:{bucket:1,path:2},postModify:N}];for(let ke=0;ke<ie.length;ke++){const Ye=ie[ke],Qe=Ye.regex.exec(e);if(Qe){const ce=Qe[Ye.indices.bucket];let H=Qe[Ye.indices.path];H||(H=""),s=new sl(ce,H),Ye.postModify(s);break}}if(s==null)throw RI(e);return s}}class kI{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(r,e,t){let s=1,l=null,d=null,v=!1,E=0;function A(){return E===2}let N=!1;function M(...K){N||(N=!0,e.apply(null,K))}function j(K){l=setTimeout(()=>{l=null,r(Q,A())},K)}function V(){d&&clearTimeout(d)}function Q(K,..._e){if(N){V();return}if(K){V(),M.call(null,K,..._e);return}if(A()||v){V(),M.call(null,K,..._e);return}s<64&&(s*=2);let ie;E===1?(E=2,ie=0):ie=(s+Math.random())*1e3,j(ie)}let te=!1;function J(K){te||(te=!0,V(),!N&&(l!==null?(K||(E=2),clearTimeout(l),j(0)):K||(E=1)))}return j(0),d=setTimeout(()=>{v=!0,J(!0)},t),J}function MI(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(r){return r!==void 0}function Hb(r,e,t,s){if(s<e)throw Fb(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>t)throw Fb(`Invalid value for '${r}'. Expected ${t} or less.`)}function OI(r){const e=encodeURIComponent;let t="?";for(const s in r)if(r.hasOwnProperty(s)){const l=e(s)+"="+e(r[s]);t=t+l+"&"}return t=t.slice(0,-1),t}var Dg;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Dg||(Dg={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(r,e){const t=r>=500&&r<600,l=[408,429].indexOf(r)!==-1,d=e.indexOf(r)!==-1;return t||l||d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,t,s,l,d,v,E,A,N,M,j,V=!0,Q=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=l,this.successCodes_=d,this.additionalRetryCodes_=v,this.callback_=E,this.errorCallback_=A,this.timeout_=N,this.progressCallback_=M,this.connectionFactory_=j,this.retry=V,this.isUsingEmulator=Q,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((te,J)=>{this.resolve_=te,this.reject_=J,this.start_()})}start_(){const e=(s,l)=>{if(l){s(!1,new sg(!1,null,!0));return}const d=this.connectionFactory_();this.pendingConnection_=d;const v=E=>{const A=E.loaded,N=E.lengthComputable?E.total:-1;this.progressCallback_!==null&&this.progressCallback_(A,N)};this.progressCallback_!==null&&d.addUploadProgressListener(v),d.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&d.removeUploadProgressListener(v),this.pendingConnection_=null;const E=d.getErrorCode()===Dg.NO_ERROR,A=d.getStatus();if(!E||LI(A,this.additionalRetryCodes_)&&this.retry){const M=d.getErrorCode()===Dg.ABORT;s(!1,new sg(!1,null,M));return}const N=this.successCodes_.indexOf(A)!==-1;s(!0,new sg(N,d))})},t=(s,l)=>{const d=this.resolve_,v=this.reject_,E=l.connection;if(l.wasSuccessCode)try{const A=this.callback_(E,E.getResponse());DI(A)?d(A):d()}catch(A){v(A)}else if(E!==null){const A=SI();A.serverResponse=E.getErrorText(),this.errorCallback_?v(this.errorCallback_(E,A)):v(A)}else if(l.canceled){const A=this.appDelete_?M1():NI();v(A)}else{const A=AI();v(A)}};this.canceled_?t(!1,new sg(!1,null,!0)):this.backoffId_=PI(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&MI(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sg{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function UI(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function VI(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function jI(r,e){e&&(r["X-Firebase-GMPID"]=e)}function BI(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function FI(r,e,t,s,l,d,v=!0,E=!1){const A=OI(r.urlParams),N=r.url+A,M=Object.assign({},r.headers);return jI(M,e),UI(M,t),VI(M,d),BI(M,s),new zI(N,r.method,M,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,l,v,E)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function GI(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,t){this._service=e,t instanceof sl?this._location=t:this._location=sl.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Og(e,t)}get root(){const e=new sl(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return GI(this._location.path)}get storage(){return this._service}get parent(){const e=HI(this._location.path);if(e===null)return null;const t=new sl(this._location.bucket,e);return new Og(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw II(e)}}function Gb(r,e){const t=e?.[wI];return t==null?null:sl.makeFromBucketSpec(t,r)}function ZI(r,e,t,s={}){r.host=`${e}:${t}`;const l=Fu(e);l&&(py(`https://${r.host}/b`),yy("Storage",!0)),r._isUsingEmulator=!0,r._protocol=l?"https":"http";const{mockUserToken:d}=s;d&&(r._overrideAuthToken=typeof d=="string"?d:px(d,r.app.options.projectId))}class YI{constructor(e,t,s,l,d,v=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=l,this._firebaseVersion=d,this._isUsingEmulator=v,this._bucket=null,this._host=P1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=TI,this._maxUploadRetryTime=EI,this._requests=new Set,l!=null?this._bucket=sl.makeFromBucketSpec(l,this._host):this._bucket=Gb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=sl.makeFromBucketSpec(this._url,e):this._bucket=Gb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Hb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Hb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Do(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Og(this,e)}_makeRequest(e,t,s,l,d=!0){if(this._deleted)return new kI(M1());{const v=FI(e,this._appId,s,l,t,this._firebaseVersion,d,this._isUsingEmulator);return this._requests.add(v),v.getPromise().then(()=>this._requests.delete(v),()=>this._requests.delete(v)),v}}async makeRequestWithTokens(e,t){const[s,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,l).getPromise()}}const Zb="@firebase/storage",Yb="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="storage";function WI(r=by(),e){r=hs(r);const s=Gg(r,D1).getImmediate({identifier:e}),l=fx("storage");return l&&XI(s,...l),s}function XI(r,e,t,s={}){ZI(r,e,t,s)}function QI(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),l=r.getProvider("app-check-internal");return new YI(t,s,l,e,Hu)}function KI(){zu(new Hc(D1,QI,"PUBLIC").setMultipleInstances(!0)),Al(Zb,Yb,""),Al(Zb,Yb,"esm2020")}KI();const JI={apiKey:"AIzaSyAimaFngWw3k606oy9UWgSrKnXcfbvASDE",authDomain:"trip-management-app-47298.firebaseapp.com",projectId:"trip-management-app-47298",storageBucket:"trip-management-app-47298.firebasestorage.app",messagingSenderId:"338823345553",appId:"1:338823345553:web:0ae79583cef43b1ff5d630"},m_=vx(JI),Va=sR(m_),O1=bI(m_);WI(m_);class Th{static async getPlaces(e){try{const t=Bh(ql(Va,"places"),Fh("userId","==",e),Hh("createdAt","desc"));return(await i_(t)).docs.map(l=>{const d=l.data();return{id:l.id,...d,createdAt:d.createdAt?.toDate().toISOString(),updatedAt:d.updatedAt?.toDate().toISOString()}})}catch(t){throw console.error("Failed to get places:",t),t}}static async addPlace(e,t){try{return(await s_(ql(Va,"places"),{...t,userId:e,createdAt:Du(),updatedAt:Du()})).id}catch(s){throw console.error("Failed to add place:",s),s}}static async updatePlace(e,t){try{const s=jh(Va,"places",e);await $w(s,{...t,updatedAt:Du()})}catch(s){throw console.error("Failed to update place:",s),s}}static async deletePlace(e){try{await r_(jh(Va,"places",e))}catch(t){throw console.error("Failed to delete place:",t),t}}static subscribeToPlaces(e,t){const s=Bh(ql(Va,"places"),Fh("userId","==",e),Hh("createdAt","desc"));return a_(s,l=>{const d=l.docs.map(v=>{const E=v.data();return{id:v.id,...E,createdAt:E.createdAt?.toDate().toISOString(),updatedAt:E.updatedAt?.toDate().toISOString()}});t(d)})}}class Eh{static async getTrips(e){try{const t=Bh(ql(Va,"trips"),Fh("userId","==",e),Hh("createdAt","desc"));return(await i_(t)).docs.map(l=>{const d=l.data();return{id:l.id,...d,createdAt:d.createdAt?.toDate().toISOString(),updatedAt:d.updatedAt?.toDate().toISOString()}})}catch(t){throw console.error("Failed to get trips:",t),t}}static async addTrip(e,t){try{return(await s_(ql(Va,"trips"),{...t,userId:e,createdAt:Du(),updatedAt:Du()})).id}catch(s){throw console.error("Failed to add trip:",s),s}}static async updateTrip(e,t){try{const s=jh(Va,"trips",e);await $w(s,{...t,updatedAt:Du()})}catch(s){throw console.error("Failed to update trip:",s),s}}static async deleteTrip(e){try{await r_(jh(Va,"trips",e))}catch(t){throw console.error("Failed to delete trip:",t),t}}static subscribeToTrips(e,t){const s=Bh(ql(Va,"trips"),Fh("userId","==",e),Hh("createdAt","desc"));return a_(s,l=>{const d=l.docs.map(v=>{const E=v.data();return{id:v.id,...E,createdAt:E.createdAt?.toDate().toISOString(),updatedAt:E.updatedAt?.toDate().toISOString()}});t(d)})}}class Ud{static async getPhotos(e){try{const t=Bh(ql(Va,"photos"),Fh("userId","==",e),Hh("takenAt","desc"));return(await i_(t)).docs.map(l=>{const d=l.data();return{id:l.id,...d,takenAt:d.takenAt?.toDate().toISOString()}})}catch(t){throw console.error("Failed to get photos:",t),t}}static async addPhoto(e,t){try{return(await s_(ql(Va,"photos"),{...t,userId:e,takenAt:t.takenAt?wi.fromDate(new Date(t.takenAt)):Du()})).id}catch(s){throw console.error("Failed to add photo:",s),s}}static async deletePhoto(e){try{await r_(jh(Va,"photos",e))}catch(t){throw console.error("Failed to delete photo:",t),t}}static subscribeToPhotos(e,t){const s=Bh(ql(Va,"photos"),Fh("userId","==",e),Hh("takenAt","desc"));return a_(s,l=>{const d=l.docs.map(v=>{const E=v.data();return{id:v.id,...E,takenAt:E.takenAt?.toDate().toISOString()}});t(d)})}}const qI=async()=>{try{const r=await iC(O1);return{uid:r.user.uid,email:r.user.email,isAnonymous:r.user.isAnonymous}}catch(r){throw console.error("Anonymous sign in failed:",r),r}},$I=r=>cC(O1,e=>{r(e?{uid:e.uid,email:e.email,isAnonymous:e.isAnonymous}:null)});async function ek(r){return new Promise((e,t)=>{const s=new FileReader;s.onload=()=>{try{const l=s.result,d=new DataView(l);if(d.getUint16(0)!==65496){e({});return}const v=tk(d);e(v)}catch(l){console.warn("EXIF parsing error:",l),e({})}},s.onerror=()=>{t(new Error("Failed to read file"))},s.readAsArrayBuffer(r.slice(0,65536))})}function tk(r){let e=2;const t={};for(;e<r.byteLength-4;){const s=r.getUint16(e);if(s===65505){const l=r.getUint16(e+2);if(uf(r,e+4,4)==="Exif"){const v=e+10,E=nk(r,v);Object.assign(t,E)}e+=l+2}else if((s&65280)===65280){const l=r.getUint16(e+2);e+=l+2}else break}return t}function nk(r,e){const t={};try{const l=r.getUint16(e)===18761;if(Fc(r,e+2,l)!==42)return t;let v=Jc(r,e+4,l);for(;v!==0;){const E=ik(r,e+v,l,e);Object.assign(t,E);const A=Fc(r,e+v,l),N=e+v+2+A*12;if(N+4<=r.byteLength)v=Jc(r,N,l);else break}}catch(s){console.warn("TIFF parsing error:",s)}return t}function ik(r,e,t,s){const l={};try{const d=Fc(r,e,t);for(let v=0;v<d;v++){const E=e+2+v*12,A=Fc(r,E,t),N=Fc(r,E+2,t),M=Jc(r,E+4,t),j=Jc(r,E+8,t);if(A===34853){const V=s+j,Q=rk(r,V,t,s);Q.location&&(l.location=Q.location)}if(A===306||A===36867||A===36868)try{const V=sk(r,E+8,M,N,j,s,t);if(V){const Q=ak(V);Q&&(l.timestamp=Q)}}catch{}}}catch(d){console.warn("IFD parsing error:",d)}return l}function rk(r,e,t,s){const l={};try{const d=Fc(r,e,t);let v="",E="";for(let A=0;A<d;A++){const N=e+2+A*12,M=Fc(r,N,t),j=Fc(r,N+2,t),V=Jc(r,N+4,t),Q=Jc(r,N+8,t);switch(M){case 1:v=uf(r,N+8,1);break;case 2:if(j===5&&V===3){const te=Wb(r,s+Q,t);te!==null&&(l.lat=te)}break;case 3:E=uf(r,N+8,1);break;case 4:if(j===5&&V===3){const te=Wb(r,s+Q,t);te!==null&&(l.lng=te)}break}}if(l.lat!==void 0&&l.lng!==void 0)return v==="S"&&(l.lat=-l.lat),E==="W"&&(l.lng=-l.lng),{location:{lat:l.lat,lng:l.lng}}}catch(d){console.warn("GPS IFD parsing error:",d)}return{}}function Wb(r,e,t){try{const s=Pp(r,e,t),l=Pp(r,e+8,t),d=Pp(r,e+16,t);if(s!==null&&l!==null&&d!==null)return s+l/60+d/3600}catch(s){console.warn("GPS coordinate parsing error:",s)}return null}function Pp(r,e,t){try{const s=Jc(r,e,t),l=Jc(r,e+4,t);return l!==0?s/l:null}catch{return null}}function Fc(r,e,t){return r.getUint16(e,t)}function Jc(r,e,t){return r.getUint32(e,t)}function uf(r,e,t){let s="";for(let l=0;l<t;l++){const d=r.getUint8(e+l);if(d===0)break;s+=String.fromCharCode(d)}return s}function sk(r,e,t,s,l,d,v){try{if(s===2&&t<=4)return uf(r,e,t-1);if(s===2&&t>4)return uf(r,d+l,t-1)}catch(E){console.warn("String parsing error:",E)}return null}function ak(r){try{const e=r.match(/^(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})$/);if(e){const[,t,s,l,d,v,E]=e;return new Date(parseInt(t),parseInt(s)-1,parseInt(l),parseInt(d),parseInt(v),parseInt(E))}}catch(e){console.warn("DateTime parsing error:",e)}return null}function L1(r,e,t,s){const d=(t-r)*Math.PI/180,v=(s-e)*Math.PI/180,E=Math.sin(d/2)*Math.sin(d/2)+Math.cos(r*Math.PI/180)*Math.cos(t*Math.PI/180)*Math.sin(v/2)*Math.sin(v/2);return 6371e3*(2*Math.atan2(Math.sqrt(E),Math.sqrt(1-E)))}function ok(r,e,t=200){let s=null,l=1/0;for(const d of e){const v=L1(r.lat,r.lng,d.lat,d.lng);v<=t&&v<l&&(l=v,s=d)}return s?{place:s,distance:l}:null}const Au=()=>Date.now().toString()+Math.random().toString(36).substr(2,9),lk={places:[],trips:[],dayPlans:[],photos:[],schedules:[],exhibitions:[],currentViewMode:"places",selectedPlace:void 0,selectedTrip:void 0,isDarkMode:typeof window<"u"?window.matchMedia("(prefers-color-scheme: dark)").matches:!1,mapViewState:{center:[35.6762,139.6503],zoom:10},currentUser:null,isOnline:typeof window<"u"?navigator.onLine:!0,syncStatus:"offline",useFirebase:!0,unsubscribeFunctions:[]},Ti=SE((r,e)=>({...lk,addPlace:async t=>{const s=e();if(s.useFirebase&&s.currentUser)try{s.setSyncStatus("syncing"),await Th.addPlace(s.currentUser.uid,t),s.setSyncStatus("synced")}catch(l){console.error("Failed to add place to Firebase:",l),s.setSyncStatus("error");const d={...t,id:Au()};r(v=>({places:[...v.places,d]})),e().saveData()}else{const l={...t,id:Au()};r(d=>({places:[...d.places,l]})),e().saveData()}},updatePlace:async(t,s)=>{const l=e();if(l.useFirebase&&l.currentUser)try{l.setSyncStatus("syncing"),await Th.updatePlace(t,s),l.setSyncStatus("synced")}catch(d){console.error("Failed to update place in Firebase:",d),l.setSyncStatus("error"),r(v=>({places:v.places.map(E=>E.id===t?{...E,...s}:E)})),e().saveData()}else r(d=>({places:d.places.map(v=>v.id===t?{...v,...s}:v)})),e().saveData()},deletePlace:async t=>{const s=e();if(s.useFirebase&&s.currentUser)try{s.setSyncStatus("syncing"),await Th.deletePlace(t),s.setSyncStatus("synced")}catch(l){console.error("Failed to delete place from Firebase:",l),s.setSyncStatus("error"),r(d=>({places:d.places.filter(v=>v.id!==t),selectedPlace:d.selectedPlace?.id===t?void 0:d.selectedPlace})),e().saveData()}else r(l=>({places:l.places.filter(d=>d.id!==t),selectedPlace:l.selectedPlace?.id===t?void 0:l.selectedPlace})),e().saveData()},setSelectedPlace:t=>{r({selectedPlace:t})},addTrip:async t=>{const s=e();if(s.useFirebase&&s.currentUser)try{s.setSyncStatus("syncing"),await Eh.addTrip(s.currentUser.uid,t),s.setSyncStatus("synced")}catch(l){console.error("Failed to add trip to Firebase:",l),s.setSyncStatus("error");const d=new Date().toISOString(),v={...t,id:Au(),createdAt:d,updatedAt:d};r(E=>({trips:[...E.trips,v]})),e().saveData()}else{const l=new Date().toISOString(),d={...t,id:Au(),createdAt:l,updatedAt:l};r(v=>({trips:[...v.trips,d]})),e().saveData()}},updateTrip:async(t,s)=>{const l=e();if(l.useFirebase&&l.currentUser)try{l.setSyncStatus("syncing"),await Eh.updateTrip(t,s),l.setSyncStatus("synced")}catch(d){console.error("Failed to update trip in Firebase:",d),l.setSyncStatus("error"),r(v=>({trips:v.trips.map(E=>E.id===t?{...E,...s,updatedAt:new Date().toISOString()}:E)})),e().saveData()}else r(d=>({trips:d.trips.map(v=>v.id===t?{...v,...s,updatedAt:new Date().toISOString()}:v)})),e().saveData()},deleteTrip:async t=>{const s=e();if(s.useFirebase&&s.currentUser)try{s.setSyncStatus("syncing"),await Eh.deleteTrip(t),s.setSyncStatus("synced")}catch(l){console.error("Failed to delete trip from Firebase:",l),s.setSyncStatus("error"),r(d=>({trips:d.trips.filter(v=>v.id!==t),selectedTrip:d.selectedTrip?.id===t?void 0:d.selectedTrip})),e().saveData()}else r(l=>({trips:l.trips.filter(d=>d.id!==t),selectedTrip:l.selectedTrip?.id===t?void 0:l.selectedTrip})),e().saveData()},setSelectedTrip:t=>{r({selectedTrip:t})},completeTrip:async t=>{const s=e();await s.updateTrip(t,{status:"completed"}),await s.generateTripRecord(t),await s.autoClassifyPhotosForTrip(t)},generateTripRecord:async t=>{const s=e(),l=s.trips.find(M=>M.id===t);if(!l)return;for(const M of l.places){const j=s.places.find(V=>V.id===M);j&&j.status!=="visited"&&await s.updatePlace(M,{status:"visited"})}const d=s.places.filter(M=>l.places.includes(M.id)),v=new Date(l.startDate),E=new Date(l.endDate),A=Math.ceil((E.getTime()-v.getTime())/(1e3*60*60*24))+1;if(s.dayPlans.filter(M=>M.tripId===t).length===0&&d.length>0){const M=Math.ceil(d.length/A);for(let j=0;j<A;j++){const V=new Date(v);V.setDate(v.getDate()+j);const Q=d.slice(j*M,(j+1)*M);if(Q.length>0){const te=Q.map((J,K)=>{const _e=9+K*2,Re=_e+1.5;return{placeId:J.id,startTime:`${String(Math.floor(_e)).padStart(2,"0")}:${String(_e%1*60).padStart(2,"0")}`,endTime:`${String(Math.floor(Re)).padStart(2,"0")}:${String(Re%1*60).padStart(2,"0")}`,transportationToNext:K<Q.length-1?"walk":void 0,notes:`${J.name}の訪問記録（自動生成）`}});s.addDayPlan({tripId:t,date:V.toISOString().split("T")[0],places:te,notes:`${l.name} - ${j+1}日目（自動生成）`})}}}},autoClassifyPhotosForTrip:async t=>{const s=e(),l=s.trips.find(N=>N.id===t);if(!l)return;const d=s.places.filter(N=>l.places.includes(N.id)),v=new Date(l.startDate),E=new Date(l.endDate),A=s.photos.filter(N=>{if(N.tripId&&N.tripId===t)return!1;const M=new Date(N.takenAt||N.createdAt);return!(M<v||M>E)});console.log(`Analyzing ${A.length} photos for trip ${l.name}`);for(const N of A){if(!N.location)continue;let M=null,j=1/0;const V=500;for(const Q of d){const te=L1(N.location.lat,N.location.lng,Q.lat,Q.lng);te<=V&&te<j&&(j=te,M=Q)}if(M){console.log(`Auto-classifying photo to ${M.name} (${Math.round(j)}m away)`);const Q={...N,tripId:t,placeId:M.id,autoClassified:!0,classificationDistance:Math.round(j)};r(te=>({photos:te.photos.map(J=>J.id===N.id?Q:J)}))}}if(s.saveData(),s.useFirebase)try{await s.syncWithFirebase()}catch(N){console.error("Failed to sync auto-classified photos:",N)}},addDayPlan:t=>{const s={...t,id:Au()};r(l=>({dayPlans:[...l.dayPlans,s]})),e().saveData()},updateDayPlan:(t,s)=>{r(l=>({dayPlans:l.dayPlans.map(d=>d.id===t?{...d,...s}:d)})),e().saveData()},deleteDayPlan:t=>{r(s=>({dayPlans:s.dayPlans.filter(l=>l.id!==t)})),e().saveData()},getDayPlansForTrip:t=>e().dayPlans.filter(s=>s.tripId===t),addPhoto:async t=>{const s=e();if(s.useFirebase&&s.currentUser)try{s.setSyncStatus("syncing");const l={...t,createdAt:new Date().toISOString()};await Ud.addPhoto(s.currentUser.uid,l),s.setSyncStatus("synced")}catch(l){console.error("Failed to add photo to Firebase:",l),s.setSyncStatus("error");const d={...t,id:Au(),createdAt:new Date().toISOString()};r(v=>({photos:[...v.photos,d]})),e().saveData()}else{const l={...t,id:Au(),createdAt:new Date().toISOString()};r(d=>({photos:[...d.photos,l]})),e().saveData()}},deletePhoto:async t=>{const s=e();if(s.useFirebase&&s.currentUser)try{s.setSyncStatus("syncing"),await Ud.deletePhoto(t),s.setSyncStatus("synced")}catch(l){console.error("Failed to delete photo from Firebase:",l),s.setSyncStatus("error"),r(d=>({photos:d.photos.filter(v=>v.id!==t)})),e().saveData()}else r(l=>({photos:l.photos.filter(d=>d.id!==t)})),e().saveData()},setViewMode:t=>{r({currentViewMode:t})},toggleTheme:()=>{r(t=>{const s=!t.isDarkMode;return typeof window<"u"&&(s?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")),{isDarkMode:s}}),e().saveData()},setMapViewState:t=>{r({mapViewState:t})},saveData:()=>{const t=e(),s={places:t.places,trips:t.trips,dayPlans:t.dayPlans,photos:t.photos,schedules:t.schedules,exhibitions:t.exhibitions,isDarkMode:t.isDarkMode,mapViewState:t.mapViewState};AE("tripManagementData",s)},loadData:()=>{const t=NE("tripManagementData");t&&(r(s=>({...s,...t})),typeof window<"u"&&t.isDarkMode&&(t.isDarkMode?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")))},initializeAuth:()=>{const t=e();typeof window<"u"&&(window.addEventListener("online",()=>{r({isOnline:!0}),t.useFirebase&&e().syncWithFirebase()}),window.addEventListener("offline",()=>{r({isOnline:!1,syncStatus:"offline"})}));const s=$I(l=>{r({currentUser:l}),l&&t.useFirebase?e().setupRealtimeListeners():!l&&t.useFirebase&&(e().cleanupListeners(),r({syncStatus:"offline"}))});r(l=>({unsubscribeFunctions:[...l.unsubscribeFunctions,s]}))},signInAnonymously:async()=>{try{await qI(),r({useFirebase:!0,syncStatus:"syncing"}),await e().syncWithFirebase()}catch(t){throw console.error("Anonymous sign in failed:",t),t}},signOut:async()=>{try{e().cleanupListeners(),e().currentUser&&await e().syncWithFirebase(),r({currentUser:null,useFirebase:!1,syncStatus:"offline"})}catch(t){console.error("Sign out failed:",t)}},syncWithFirebase:async()=>{const t=e();if(!(!t.currentUser||!t.isOnline))try{r({syncStatus:"syncing"});const[s,l,d]=await Promise.all([Th.getPlaces(t.currentUser.uid),Eh.getTrips(t.currentUser.uid),Ud.getPhotos(t.currentUser.uid)]);r({places:s,trips:l,photos:d,syncStatus:"synced"}),e().setupRealtimeListeners()}catch(s){console.error("Firebase sync failed:",s),r({syncStatus:"error"})}},migrateLocalData:async()=>{const t=e();if(!t.currentUser||!t.isOnline)throw new Error("User not authenticated or offline");try{r({syncStatus:"syncing"});const s=[];t.places.forEach(l=>{const{id:d,...v}=l;s.push(Th.addPlace(t.currentUser.uid,v))}),t.trips.forEach(l=>{const{id:d,...v}=l;s.push(Eh.addTrip(t.currentUser.uid,v))}),t.photos.forEach(l=>{const{id:d,...v}=l;s.push(Ud.addPhoto(t.currentUser.uid,v))}),await Promise.all(s),await e().syncWithFirebase(),r({syncStatus:"synced"})}catch(s){throw console.error("Data migration failed:",s),r({syncStatus:"error"}),s}},setupRealtimeListeners:()=>{const t=e();if(!t.currentUser)return;e().cleanupListeners();const s=Th.subscribeToPlaces(t.currentUser.uid,v=>{r({places:v})}),l=Eh.subscribeToTrips(t.currentUser.uid,v=>{r({trips:v})}),d=Ud.subscribeToPhotos(t.currentUser.uid,v=>{r({photos:v})});r(v=>({unsubscribeFunctions:[...v.unsubscribeFunctions,s,l,d]}))},cleanupListeners:()=>{e().unsubscribeFunctions.forEach(s=>s()),r({unsubscribeFunctions:[]})},setSyncStatus:t=>{r({syncStatus:t})}}));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uk=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),Xb=r=>{const e=uk(r);return e.charAt(0).toUpperCase()+e.slice(1)},z1=(...r)=>r.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),hk=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=Ie.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:l="",children:d,iconNode:v,...E},A)=>Ie.createElement("svg",{ref:A,...dk,width:e,height:e,stroke:r,strokeWidth:s?Number(t)*24/Number(e):t,className:z1("lucide",l),...!d&&!hk(E)&&{"aria-hidden":"true"},...E},[...v.map(([N,M])=>Ie.createElement(N,M)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=(r,e)=>{const t=Ie.forwardRef(({className:s,...l},d)=>Ie.createElement(fk,{ref:d,iconNode:e,className:z1(`lucide-${ck(Xb(r))}`,`lucide-${r}`,s),...l}));return t.displayName=Xb(r),t};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],mk=Ht("arrow-left",gk);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],U1=Ht("building",pk);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ho=Ht("camera",yk);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],oa=Ht("calendar",_k);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],bk=Ht("chevron-left",vk);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Lg=Ht("chevron-right",xk);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],qd=Ht("circle-alert",wk);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],dy=Ht("circle-check-big",Tk);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Sk=Ht("circle-question-mark",Ek);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],rc=Ht("clock",Ak);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],Mp=Ht("cloud-off",Nk);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],fy=Ht("cloud",Rk);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Ik=Ht("coffee",Ck);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Qb=Ht("database",kk);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],fm=Ht("dollar-sign",Pk);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Dk=Ht("download",Mk);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],V1=Ht("external-link",Ok);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zk=Ht("eye",Lk);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],p_=Ht("file-text",Uk);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],jk=Ht("funnel",Vk);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Fk=Ht("info",Bk);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Gk=Ht("lightbulb",Hk);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Kb=Ht("loader",Zk);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Dr=Ht("map-pin",Yk);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],j1=Ht("menu",Wk);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Qk=Ht("moon",Xk);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],B1=Ht("navigation",Kk);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],gm=Ht("pen-line",Jk);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],F1=Ht("plus",qk);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],eP=Ht("rotate-ccw",$k);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],y_=Ht("save",tP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],mm=Ht("search",nP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rP=Ht("settings",iP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ou=Ht("star",sP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],oP=Ht("sun",aP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],ku=Ht("ticket",lP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],__=Ht("trash-2",cP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],H1=Ht("upload",uP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],v_=Ht("utensils",hP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],fP=Ht("wifi-off",dP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],mP=Ht("wifi",gP);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ba=Ht("x",pP);var Nu={},Vd={};/**
 * @license React
 * react-dom-server-legacy.browser.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jb;function yP(){if(Jb)return Vd;Jb=1;var r=hf(),e=zg();function t(m){var b="https://react.dev/errors/"+m;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)b+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+m+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),M=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),K=Symbol.for("react.scope"),_e=Symbol.for("react.activity"),Re=Symbol.for("react.legacy_hidden"),ie=Symbol.for("react.memo_cache_sentinel"),ke=Symbol.for("react.view_transition"),Ye=Symbol.iterator,Qe=Array.isArray;function ce(m,b){var S=m.length&3,I=m.length-S,z=b;for(b=0;b<I;){var Z=m.charCodeAt(b)&255|(m.charCodeAt(++b)&255)<<8|(m.charCodeAt(++b)&255)<<16|(m.charCodeAt(++b)&255)<<24;++b,Z=3432918353*(Z&65535)+((3432918353*(Z>>>16)&65535)<<16)&4294967295,Z=Z<<15|Z>>>17,Z=461845907*(Z&65535)+((461845907*(Z>>>16)&65535)<<16)&4294967295,z^=Z,z=z<<13|z>>>19,z=5*(z&65535)+((5*(z>>>16)&65535)<<16)&4294967295,z=(z&65535)+27492+(((z>>>16)+58964&65535)<<16)}switch(Z=0,S){case 3:Z^=(m.charCodeAt(b+2)&255)<<16;case 2:Z^=(m.charCodeAt(b+1)&255)<<8;case 1:Z^=m.charCodeAt(b)&255,Z=3432918353*(Z&65535)+((3432918353*(Z>>>16)&65535)<<16)&4294967295,Z=Z<<15|Z>>>17,z^=461845907*(Z&65535)+((461845907*(Z>>>16)&65535)<<16)&4294967295}return z^=m.length,z^=z>>>16,z=2246822507*(z&65535)+((2246822507*(z>>>16)&65535)<<16)&4294967295,z^=z>>>13,z=3266489909*(z&65535)+((3266489909*(z>>>16)&65535)<<16)&4294967295,(z^z>>>16)>>>0}var H=Object.assign,Y=Object.prototype.hasOwnProperty,he=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ae={},q={};function X(m){return Y.call(q,m)?!0:Y.call(ae,m)?!1:he.test(m)?q[m]=!0:(ae[m]=!0,!1)}var rt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),lt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$=/["'&<>]/;function le(m){if(typeof m=="boolean"||typeof m=="number"||typeof m=="bigint")return""+m;m=""+m;var b=$.exec(m);if(b){var S="",I,z=0;for(I=b.index;I<m.length;I++){switch(m.charCodeAt(I)){case 34:b="&quot;";break;case 38:b="&amp;";break;case 39:b="&#x27;";break;case 60:b="&lt;";break;case 62:b="&gt;";break;default:continue}z!==I&&(S+=m.slice(z,I)),z=I+1,S+=b}m=z!==I?S+m.slice(z,I):S}return m}var Ce=/([A-Z])/g,xt=/^ms-/,F=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ee(m){return F.test(""+m)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":m}var je=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Me=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Be={pending:!1,data:null,method:null,action:null},Ke=Me.d;Me.d={f:Ke.f,r:Ke.r,D:Bn,C:Vo,L:Ba,m:ms,X:Si,S:zs,M:Ea};var Ge=[],gn=/(<\/|<)(s)(cript)/gi;function Bt(m,b,S,I){return""+b+(S==="s"?"\\u0073":"\\u0053")+I}function ds(m,b,S,I,z){return{idPrefix:m===void 0?"":m,nextFormID:0,streamingFormat:0,bootstrapScriptContent:S,bootstrapScripts:I,bootstrapModules:z,instructions:0,hasBody:!1,hasHtml:!1,unknownResources:{},dnsResources:{},connectResources:{default:{},anonymous:{},credentials:{}},imageResources:{},styleResources:{},scriptResources:{},moduleUnknownResources:{},moduleScriptResources:{}}}function pr(){return{htmlChunks:null,headChunks:null,bodyChunks:null,contribution:0}}function Mn(m,b,S){return{insertionMode:m,selectedValue:b,tagScope:S}}function pt(m,b,S){switch(b){case"noscript":return Mn(2,null,m.tagScope|1);case"select":return Mn(2,S.value!=null?S.value:S.defaultValue,m.tagScope);case"svg":return Mn(4,null,m.tagScope);case"picture":return Mn(2,null,m.tagScope|2);case"math":return Mn(5,null,m.tagScope);case"foreignObject":return Mn(2,null,m.tagScope);case"table":return Mn(6,null,m.tagScope);case"thead":case"tbody":case"tfoot":return Mn(7,null,m.tagScope);case"colgroup":return Mn(9,null,m.tagScope);case"tr":return Mn(8,null,m.tagScope);case"head":if(2>m.insertionMode)return Mn(3,null,m.tagScope);break;case"html":if(m.insertionMode===0)return Mn(1,null,m.tagScope)}return 6<=m.insertionMode||2>m.insertionMode?Mn(2,null,m.tagScope):m}var Os=new Map;function xa(m,b){if(typeof b!="object")throw Error(t(62));var S=!0,I;for(I in b)if(Y.call(b,I)){var z=b[I];if(z!=null&&typeof z!="boolean"&&z!==""){if(I.indexOf("--")===0){var Z=le(I);z=le((""+z).trim())}else Z=Os.get(I),Z===void 0&&(Z=le(I.replace(Ce,"-$1").toLowerCase().replace(xt,"-ms-")),Os.set(I,Z)),z=typeof z=="number"?z===0||rt.has(I)?""+z:z+"px":le((""+z).trim());S?(S=!1,m.push(' style="',Z,":",z)):m.push(";",Z,":",z)}}S||m.push('"')}function wa(m,b,S){S&&typeof S!="function"&&typeof S!="symbol"&&m.push(" ",b,'=""')}function Dn(m,b,S){typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&m.push(" ",b,'="',le(S),'"')}var ui=le("javascript:throw new Error('React form unexpectedly submitted.')");function la(m,b){this.push('<input type="hidden"'),fo(m),Dn(this,"name",b),Dn(this,"value",m),this.push("/>")}function fo(m){if(typeof m!="string")throw Error(t(480))}function Hi(m,b){if(typeof b.$$FORM_ACTION=="function"){var S=m.nextFormID++;m=m.idPrefix+S;try{var I=b.$$FORM_ACTION(m);if(I){var z=I.data;z?.forEach(fo)}return I}catch(Z){if(typeof Z=="object"&&Z!==null&&typeof Z.then=="function")throw Z}}return null}function ni(m,b,S,I,z,Z,oe,Ne){var ye=null;if(typeof I=="function"){var Ae=Hi(b,I);Ae!==null?(Ne=Ae.name,I=Ae.action||"",z=Ae.encType,Z=Ae.method,oe=Ae.target,ye=Ae.data):(m.push(" ","formAction",'="',ui,'"'),oe=Z=z=I=Ne=null,zo(b,S))}return Ne!=null&&Kt(m,"name",Ne),I!=null&&Kt(m,"formAction",I),z!=null&&Kt(m,"formEncType",z),Z!=null&&Kt(m,"formMethod",Z),oe!=null&&Kt(m,"formTarget",oe),ye}function Kt(m,b,S){switch(b){case"className":Dn(m,"class",S);break;case"tabIndex":Dn(m,"tabindex",S);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(m,b,S);break;case"style":xa(m,S);break;case"src":case"href":if(S==="")break;case"action":case"formAction":if(S==null||typeof S=="function"||typeof S=="symbol"||typeof S=="boolean")break;S=ee(""+S),m.push(" ",b,'="',le(S),'"');break;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"autoFocus":case"multiple":case"muted":wa(m,b.toLowerCase(),S);break;case"xlinkHref":if(typeof S=="function"||typeof S=="symbol"||typeof S=="boolean")break;S=ee(""+S),m.push(" ","xlink:href",'="',le(S),'"');break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":typeof S!="function"&&typeof S!="symbol"&&m.push(" ",b,'="',le(S),'"');break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":S&&typeof S!="function"&&typeof S!="symbol"&&m.push(" ",b,'=""');break;case"capture":case"download":S===!0?m.push(" ",b,'=""'):S!==!1&&typeof S!="function"&&typeof S!="symbol"&&m.push(" ",b,'="',le(S),'"');break;case"cols":case"rows":case"size":case"span":typeof S!="function"&&typeof S!="symbol"&&!isNaN(S)&&1<=S&&m.push(" ",b,'="',le(S),'"');break;case"rowSpan":case"start":typeof S=="function"||typeof S=="symbol"||isNaN(S)||m.push(" ",b,'="',le(S),'"');break;case"xlinkActuate":Dn(m,"xlink:actuate",S);break;case"xlinkArcrole":Dn(m,"xlink:arcrole",S);break;case"xlinkRole":Dn(m,"xlink:role",S);break;case"xlinkShow":Dn(m,"xlink:show",S);break;case"xlinkTitle":Dn(m,"xlink:title",S);break;case"xlinkType":Dn(m,"xlink:type",S);break;case"xmlBase":Dn(m,"xml:base",S);break;case"xmlLang":Dn(m,"xml:lang",S);break;case"xmlSpace":Dn(m,"xml:space",S);break;default:if((!(2<b.length)||b[0]!=="o"&&b[0]!=="O"||b[1]!=="n"&&b[1]!=="N")&&(b=lt.get(b)||b,X(b))){switch(typeof S){case"function":case"symbol":return;case"boolean":var I=b.toLowerCase().slice(0,5);if(I!=="data-"&&I!=="aria-")return}m.push(" ",b,'="',le(S),'"')}}}function hi(m,b,S){if(b!=null){if(S!=null)throw Error(t(60));if(typeof b!="object"||!("__html"in b))throw Error(t(61));b=b.__html,b!=null&&m.push(""+b)}}function Lo(m){var b="";return r.Children.forEach(m,function(S){S!=null&&(b+=S)}),b}function zo(m,b){(m.instructions&16)===0&&(m.instructions|=16,b.bootstrapChunks.unshift(b.startInlineScript,`addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error('React form unexpectedly submitted.')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});`,"<\/script>"))}function It(m,b){m.push(mn("link"));for(var S in b)if(Y.call(b,S)){var I=b[S];if(I!=null)switch(S){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"link"));default:Kt(m,S,I)}}return m.push("/>"),null}var Jt=/(<\/|<)(s)(tyle)/gi;function Gi(m,b,S,I){return""+b+(S==="s"?"\\73 ":"\\53 ")+I}function Wn(m,b,S){m.push(mn(S));for(var I in b)if(Y.call(b,I)){var z=b[I];if(z!=null)switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,S));default:Kt(m,I,z)}}return m.push("/>"),null}function Ta(m,b){m.push(mn("title"));var S=null,I=null,z;for(z in b)if(Y.call(b,z)){var Z=b[z];if(Z!=null)switch(z){case"children":S=Z;break;case"dangerouslySetInnerHTML":I=Z;break;default:Kt(m,z,Z)}}return m.push(">"),b=Array.isArray(S)?2>S.length?S[0]:null:S,typeof b!="function"&&typeof b!="symbol"&&b!==null&&b!==void 0&&m.push(le(""+b)),hi(m,I,S),m.push(Wr("title")),null}function ca(m,b){m.push(mn("script"));var S=null,I=null,z;for(z in b)if(Y.call(b,z)){var Z=b[z];if(Z!=null)switch(z){case"children":S=Z;break;case"dangerouslySetInnerHTML":I=Z;break;default:Kt(m,z,Z)}}return m.push(">"),hi(m,I,S),typeof S=="string"&&m.push((""+S).replace(gn,Bt)),m.push(Wr("script")),null}function ua(m,b,S){m.push(mn(S));var I=S=null,z;for(z in b)if(Y.call(b,z)){var Z=b[z];if(Z!=null)switch(z){case"children":S=Z;break;case"dangerouslySetInnerHTML":I=Z;break;default:Kt(m,z,Z)}}return m.push(">"),hi(m,I,S),S}function fs(m,b,S){m.push(mn(S));var I=S=null,z;for(z in b)if(Y.call(b,z)){var Z=b[z];if(Z!=null)switch(z){case"children":S=Z;break;case"dangerouslySetInnerHTML":I=Z;break;default:Kt(m,z,Z)}}return m.push(">"),hi(m,I,S),typeof S=="string"?(m.push(le(S)),null):S}var Ls=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,yr=new Map;function mn(m){var b=yr.get(m);if(b===void 0){if(!Ls.test(m))throw Error(t(65,m));b="<"+m,yr.set(m,b)}return b}function On(m,b,S,I,z,Z,oe,Ne,ye,Ae){switch(b){case"div":case"span":case"svg":case"path":break;case"a":m.push(mn("a"));var We=null,Fe=null,it;for(it in S)if(Y.call(S,it)){var dt=S[it];if(dt!=null)switch(it){case"children":We=dt;break;case"dangerouslySetInnerHTML":Fe=dt;break;case"href":dt===""?Dn(m,"href",""):Kt(m,it,dt);break;default:Kt(m,it,dt)}}if(m.push(">"),hi(m,Fe,We),typeof We=="string"){m.push(le(We));var ct=null}else ct=We;return ct;case"g":case"p":case"li":break;case"select":m.push(mn("select"));var wt=null,Ut=null,nn;for(nn in S)if(Y.call(S,nn)){var _n=S[nn];if(_n!=null)switch(nn){case"children":wt=_n;break;case"dangerouslySetInnerHTML":Ut=_n;break;case"defaultValue":case"value":break;default:Kt(m,nn,_n)}}return m.push(">"),hi(m,Ut,wt),wt;case"option":var En=Ne.selectedValue;m.push(mn("option"));var ut=null,Fn=null,Vt=null,zn=null,Nn;for(Nn in S)if(Y.call(S,Nn)){var mt=S[Nn];if(mt!=null)switch(Nn){case"children":ut=mt;break;case"selected":Vt=mt;break;case"dangerouslySetInnerHTML":zn=mt;break;case"value":Fn=mt;default:Kt(m,Nn,mt)}}if(En!=null){var on=Fn!==null?""+Fn:Lo(ut);if(Qe(En)){for(var pi=0;pi<En.length;pi++)if(""+En[pi]===on){m.push(' selected=""');break}}else""+En===on&&m.push(' selected=""')}else Vt&&m.push(' selected=""');return m.push(">"),hi(m,zn,ut),ut;case"textarea":m.push(mn("textarea"));var Qn=null,Ii=null,er=null,si;for(si in S)if(Y.call(S,si)){var ai=S[si];if(ai!=null)switch(si){case"children":er=ai;break;case"value":Qn=ai;break;case"defaultValue":Ii=ai;break;case"dangerouslySetInnerHTML":throw Error(t(91));default:Kt(m,si,ai)}}if(Qn===null&&Ii!==null&&(Qn=Ii),m.push(">"),er!=null){if(Qn!=null)throw Error(t(92));if(Qe(er)){if(1<er.length)throw Error(t(93));Qn=""+er[0]}Qn=""+er}return typeof Qn=="string"&&Qn[0]===`
`&&m.push(`
`),Qn!==null&&m.push(le(""+Qn)),null;case"input":m.push(mn("input"));var oi=null,Fr=null,Kn=null,ns=null,Ys=null,yi=null,Ws=null,Hr=null,So=null,Xs;for(Xs in S)if(Y.call(S,Xs)){var Mi=S[Xs];if(Mi!=null)switch(Xs){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"input"));case"name":oi=Mi;break;case"formAction":Fr=Mi;break;case"formEncType":Kn=Mi;break;case"formMethod":ns=Mi;break;case"formTarget":Ys=Mi;break;case"defaultChecked":So=Mi;break;case"defaultValue":Ws=Mi;break;case"checked":Hr=Mi;break;case"value":yi=Mi;break;default:Kt(m,Xs,Mi)}}var hl=ni(m,I,z,Fr,Kn,ns,Ys,oi);return Hr!==null?wa(m,"checked",Hr):So!==null&&wa(m,"checked",So),yi!==null?Kt(m,"value",yi):Ws!==null&&Kt(m,"value",Ws),m.push("/>"),hl?.forEach(la,m),null;case"button":m.push(mn("button"));var Ca=null,ya=null,Ia=null,a=null,c=null,p=null,w=null,C;for(C in S)if(Y.call(S,C)){var U=S[C];if(U!=null)switch(C){case"children":Ca=U;break;case"dangerouslySetInnerHTML":ya=U;break;case"name":Ia=U;break;case"formAction":a=U;break;case"formEncType":c=U;break;case"formMethod":p=U;break;case"formTarget":w=U;break;default:Kt(m,C,U)}}var ne=ni(m,I,z,a,c,p,w,Ia);if(m.push(">"),ne?.forEach(la,m),hi(m,ya,Ca),typeof Ca=="string"){m.push(le(Ca));var fe=null}else fe=Ca;return fe;case"form":m.push(mn("form"));var we=null,Le=null,Xe=null,$e=null,qe=null,_t=null,fn;for(fn in S)if(Y.call(S,fn)){var vn=S[fn];if(vn!=null)switch(fn){case"children":we=vn;break;case"dangerouslySetInnerHTML":Le=vn;break;case"action":Xe=vn;break;case"encType":$e=vn;break;case"method":qe=vn;break;case"target":_t=vn;break;default:Kt(m,fn,vn)}}var Xt=null,dr=null;if(typeof Xe=="function"){var is=Hi(I,Xe);is!==null?(Xe=is.action||"",$e=is.encType,qe=is.method,_t=is.target,Xt=is.data,dr=is.name):(m.push(" ","action",'="',ui,'"'),_t=qe=$e=Xe=null,zo(I,z))}if(Xe!=null&&Kt(m,"action",Xe),$e!=null&&Kt(m,"encType",$e),qe!=null&&Kt(m,"method",qe),_t!=null&&Kt(m,"target",_t),m.push(">"),dr!==null&&(m.push('<input type="hidden"'),Dn(m,"name",dr),m.push("/>"),Xt?.forEach(la,m)),hi(m,Le,we),typeof we=="string"){m.push(le(we));var Wa=null}else Wa=we;return Wa;case"menuitem":m.push(mn("menuitem"));for(var _a in S)if(Y.call(S,_a)){var rs=S[_a];if(rs!=null)switch(_a){case"children":case"dangerouslySetInnerHTML":throw Error(t(400));default:Kt(m,_a,rs)}}return m.push(">"),null;case"object":m.push(mn("object"));var Ss=null,Gr=null,Dt;for(Dt in S)if(Y.call(S,Dt)){var Di=S[Dt];if(Di!=null)switch(Dt){case"children":Ss=Di;break;case"dangerouslySetInnerHTML":Gr=Di;break;case"data":var As=ee(""+Di);if(As==="")break;m.push(" ","data",'="',le(As),'"');break;default:Kt(m,Dt,Di)}}if(m.push(">"),hi(m,Gr,Ss),typeof Ss=="string"){m.push(le(Ss));var Qs=null}else Qs=Ss;return Qs;case"title":if(Ne.insertionMode===4||Ne.tagScope&1||S.itemProp!=null)var Nr=Ta(m,S);else Ae?Nr=null:(Ta(z.hoistableChunks,S),Nr=void 0);return Nr;case"link":var Xa=S.rel,Jn=S.href,Ks=S.precedence;if(Ne.insertionMode===4||Ne.tagScope&1||S.itemProp!=null||typeof Xa!="string"||typeof Jn!="string"||Jn===""){It(m,S);var ka=null}else if(S.rel==="stylesheet")if(typeof Ks!="string"||S.disabled!=null||S.onLoad||S.onError)ka=It(m,S);else{var ss=z.styles.get(Ks),Oi=I.styleResources.hasOwnProperty(Jn)?I.styleResources[Jn]:void 0;if(Oi!==null){I.styleResources[Jn]=null,ss||(ss={precedence:le(Ks),rules:[],hrefs:[],sheets:new Map},z.styles.set(Ks,ss));var Ao={state:0,props:H({},S,{"data-precedence":S.precedence,precedence:null})};if(Oi){Oi.length===2&&Kr(Ao.props,Oi);var as=z.preloads.stylesheets.get(Jn);as&&0<as.length?as.length=0:Ao.state=1}ss.sheets.set(Jn,Ao),oe&&oe.stylesheets.add(Ao)}else if(ss){var Yu=ss.sheets.get(Jn);Yu&&oe&&oe.stylesheets.add(Yu)}ye&&m.push("<!-- -->"),ka=null}else S.onLoad||S.onError?ka=It(m,S):(ye&&m.push("<!-- -->"),ka=Ae?null:It(z.hoistableChunks,S));return ka;case"script":var Go=S.async;if(typeof S.src!="string"||!S.src||!Go||typeof Go=="function"||typeof Go=="symbol"||S.onLoad||S.onError||Ne.insertionMode===4||Ne.tagScope&1||S.itemProp!=null)var tu=ca(m,S);else{var qn=S.src;if(S.type==="module")var No=I.moduleScriptResources,Qa=z.preloads.moduleScripts;else No=I.scriptResources,Qa=z.preloads.scripts;var Js=No.hasOwnProperty(qn)?No[qn]:void 0;if(Js!==null){No[qn]=null;var Zo=S;if(Js){Js.length===2&&(Zo=H({},S),Kr(Zo,Js));var Ka=Qa.get(qn);Ka&&(Ka.length=0)}var Ja=[];z.scripts.add(Ja),ca(Ja,Zo)}ye&&m.push("<!-- -->"),tu=null}return tu;case"style":var Vl=S.precedence,qs=S.href;if(Ne.insertionMode===4||Ne.tagScope&1||S.itemProp!=null||typeof Vl!="string"||typeof qs!="string"||qs===""){m.push(mn("style"));var qa=null,Yo=null,Ns;for(Ns in S)if(Y.call(S,Ns)){var Wo=S[Ns];if(Wo!=null)switch(Ns){case"children":qa=Wo;break;case"dangerouslySetInnerHTML":Yo=Wo;break;default:Kt(m,Ns,Wo)}}m.push(">");var $a=Array.isArray(qa)?2>qa.length?qa[0]:null:qa;typeof $a!="function"&&typeof $a!="symbol"&&$a!==null&&$a!==void 0&&m.push((""+$a).replace(Jt,Gi)),hi(m,Yo,qa),m.push(Wr("style"));var dl=null}else{var $s=z.styles.get(Vl);if((I.styleResources.hasOwnProperty(qs)?I.styleResources[qs]:void 0)!==null){I.styleResources[qs]=null,$s?$s.hrefs.push(le(qs)):($s={precedence:le(Vl),rules:[],hrefs:[le(qs)],sheets:new Map},z.styles.set(Vl,$s));var eo=$s.rules,Pa=null,to=null,fl;for(fl in S)if(Y.call(S,fl)){var g=S[fl];if(g!=null)switch(fl){case"children":Pa=g;break;case"dangerouslySetInnerHTML":to=g}}var y=Array.isArray(Pa)?2>Pa.length?Pa[0]:null:Pa;typeof y!="function"&&typeof y!="symbol"&&y!==null&&y!==void 0&&eo.push((""+y).replace(Jt,Gi)),hi(eo,to,Pa)}$s&&oe&&oe.styles.add($s),ye&&m.push("<!-- -->"),dl=void 0}return dl;case"meta":if(Ne.insertionMode===4||Ne.tagScope&1||S.itemProp!=null)var T=Wn(m,S,"meta");else ye&&m.push("<!-- -->"),T=Ae?null:typeof S.charSet=="string"?Wn(z.charsetChunks,S,"meta"):S.name==="viewport"?Wn(z.viewportChunks,S,"meta"):Wn(z.hoistableChunks,S,"meta");return T;case"listing":case"pre":m.push(mn(b));var P=null,O=null,W;for(W in S)if(Y.call(S,W)){var se=S[W];if(se!=null)switch(W){case"children":P=se;break;case"dangerouslySetInnerHTML":O=se;break;default:Kt(m,W,se)}}if(m.push(">"),O!=null){if(P!=null)throw Error(t(60));if(typeof O!="object"||!("__html"in O))throw Error(t(61));var be=O.__html;be!=null&&(typeof be=="string"&&0<be.length&&be[0]===`
`?m.push(`
`,be):m.push(""+be))}return typeof P=="string"&&P[0]===`
`&&m.push(`
`),P;case"img":var ue=S.src,pe=S.srcSet;if(!(S.loading==="lazy"||!ue&&!pe||typeof ue!="string"&&ue!=null||typeof pe!="string"&&pe!=null)&&S.fetchPriority!=="low"&&!(Ne.tagScope&3)&&(typeof ue!="string"||ue[4]!==":"||ue[0]!=="d"&&ue[0]!=="D"||ue[1]!=="a"&&ue[1]!=="A"||ue[2]!=="t"&&ue[2]!=="T"||ue[3]!=="a"&&ue[3]!=="A")&&(typeof pe!="string"||pe[4]!==":"||pe[0]!=="d"&&pe[0]!=="D"||pe[1]!=="a"&&pe[1]!=="A"||pe[2]!=="t"&&pe[2]!=="T"||pe[3]!=="a"&&pe[3]!=="A")){var He=typeof S.sizes=="string"?S.sizes:void 0,Pe=pe?pe+`
`+(He||""):ue,tt=z.preloads.images,st=tt.get(Pe);if(st)(S.fetchPriority==="high"||10>z.highImagePreloads.size)&&(tt.delete(Pe),z.highImagePreloads.add(st));else if(!I.imageResources.hasOwnProperty(Pe)){I.imageResources[Pe]=Ge;var ft=S.crossOrigin,At=typeof ft=="string"?ft==="use-credentials"?ft:"":void 0,kn=z.headers,Hn;kn&&0<kn.remainingCapacity&&typeof S.srcSet!="string"&&(S.fetchPriority==="high"||500>kn.highImagePreloads.length)&&(Hn=Jr(ue,"image",{imageSrcSet:S.srcSet,imageSizes:S.sizes,crossOrigin:At,integrity:S.integrity,nonce:S.nonce,type:S.type,fetchPriority:S.fetchPriority,referrerPolicy:S.refererPolicy}),0<=(kn.remainingCapacity-=Hn.length+2))?(z.resets.image[Pe]=Ge,kn.highImagePreloads&&(kn.highImagePreloads+=", "),kn.highImagePreloads+=Hn):(st=[],It(st,{rel:"preload",as:"image",href:pe?void 0:ue,imageSrcSet:pe,imageSizes:He,crossOrigin:At,integrity:S.integrity,type:S.type,fetchPriority:S.fetchPriority,referrerPolicy:S.referrerPolicy}),S.fetchPriority==="high"||10>z.highImagePreloads.size?z.highImagePreloads.add(st):(z.bulkPreloads.add(st),tt.set(Pe,st)))}}return Wn(m,S,"img");case"base":case"area":case"br":case"col":case"embed":case"hr":case"keygen":case"param":case"source":case"track":case"wbr":return Wn(m,S,b);case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":break;case"head":if(2>Ne.insertionMode){var Zt=Z||z.preamble;if(Zt.headChunks)throw Error(t(545,"`<head>`"));Zt.headChunks=[];var fr=ua(Zt.headChunks,S,"head")}else fr=fs(m,S,"head");return fr;case"body":if(2>Ne.insertionMode){var li=Z||z.preamble;if(li.bodyChunks)throw Error(t(545,"`<body>`"));li.bodyChunks=[];var Rr=ua(li.bodyChunks,S,"body")}else Rr=fs(m,S,"body");return Rr;case"html":if(Ne.insertionMode===0){var $n=Z||z.preamble;if($n.htmlChunks)throw Error(t(545,"`<html>`"));$n.htmlChunks=[""];var Tt=ua($n.htmlChunks,S,"html")}else Tt=fs(m,S,"html");return Tt;default:if(b.indexOf("-")!==-1){m.push(mn(b));var jt=null,Ft=null,_i;for(_i in S)if(Y.call(S,_i)){var Pn=S[_i];if(Pn!=null){var vi=_i;switch(_i){case"children":jt=Pn;break;case"dangerouslySetInnerHTML":Ft=Pn;break;case"style":xa(m,Pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"className":vi="class";default:if(X(_i)&&typeof Pn!="function"&&typeof Pn!="symbol"&&Pn!==!1){if(Pn===!0)Pn="";else if(typeof Pn=="object")continue;m.push(" ",vi,'="',le(Pn),'"')}}}}return m.push(">"),hi(m,Ft,jt),jt}}return fs(m,S,b)}var ja=new Map;function Wr(m){var b=ja.get(m);return b===void 0&&(b="</"+m+">",ja.set(m,b)),b}function ir(m,b){m=m.preamble,m.htmlChunks===null&&b.htmlChunks&&(m.htmlChunks=b.htmlChunks,b.contribution|=1),m.headChunks===null&&b.headChunks&&(m.headChunks=b.headChunks,b.contribution|=4),m.bodyChunks===null&&b.bodyChunks&&(m.bodyChunks=b.bodyChunks,b.contribution|=2)}function Xr(m,b){b=b.bootstrapChunks;for(var S=0;S<b.length-1;S++)m.push(b[S]);return S<b.length?(S=b[S],b.length=0,m.push(S)):!0}function Qr(m,b,S){if(m.push('<!--$?--><template id="'),S===null)throw Error(t(395));return m.push(b.boundaryPrefix),b=S.toString(16),m.push(b),m.push('"></template>')}function go(m,b){b=b.contribution,b!==0&&(m.push("<!--"),m.push(""+b),m.push("-->"))}function gs(m,b,S,I){switch(S.insertionMode){case 0:case 1:case 3:case 2:return m.push('<div hidden id="'),m.push(b.segmentPrefix),b=I.toString(16),m.push(b),m.push('">');case 4:return m.push('<svg aria-hidden="true" style="display:none" id="'),m.push(b.segmentPrefix),b=I.toString(16),m.push(b),m.push('">');case 5:return m.push('<math aria-hidden="true" style="display:none" id="'),m.push(b.segmentPrefix),b=I.toString(16),m.push(b),m.push('">');case 6:return m.push('<table hidden id="'),m.push(b.segmentPrefix),b=I.toString(16),m.push(b),m.push('">');case 7:return m.push('<table hidden><tbody id="'),m.push(b.segmentPrefix),b=I.toString(16),m.push(b),m.push('">');case 8:return m.push('<table hidden><tr id="'),m.push(b.segmentPrefix),b=I.toString(16),m.push(b),m.push('">');case 9:return m.push('<table hidden><colgroup id="'),m.push(b.segmentPrefix),b=I.toString(16),m.push(b),m.push('">');default:throw Error(t(397))}}function Uo(m,b){switch(b.insertionMode){case 0:case 1:case 3:case 2:return m.push("</div>");case 4:return m.push("</svg>");case 5:return m.push("</math>");case 6:return m.push("</table>");case 7:return m.push("</tbody></table>");case 8:return m.push("</tr></table>");case 9:return m.push("</colgroup></table>");default:throw Error(t(397))}}var ha=/[<\u2028\u2029]/g;function di(m){return JSON.stringify(m).replace(ha,function(b){switch(b){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var Ei=/[&><\u2028\u2029]/g;function Xn(m){return JSON.stringify(m).replace(Ei,function(b){switch(b){case"&":return"\\u0026";case">":return"\\u003e";case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSObjectForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var hn=!1,jn=!0;function Gt(m){var b=m.rules,S=m.hrefs,I=0;if(S.length){for(this.push('<style media="not all" data-precedence="'),this.push(m.precedence),this.push('" data-href="');I<S.length-1;I++)this.push(S[I]),this.push(" ");for(this.push(S[I]),this.push('">'),I=0;I<b.length;I++)this.push(b[I]);jn=this.push("</style>"),hn=!0,b.length=0,S.length=0}}function Or(m){return m.state!==2?hn=!0:!1}function Zi(m,b,S){return hn=!1,jn=!0,b.styles.forEach(Gt,m),b.stylesheets.forEach(Or),hn&&(S.stylesToHoist=!0),jn}function Je(m){for(var b=0;b<m.length;b++)this.push(m[b]);m.length=0}var zi=[];function mo(m){It(zi,m.props);for(var b=0;b<zi.length;b++)this.push(zi[b]);zi.length=0,m.state=2}function da(m){var b=0<m.sheets.size;m.sheets.forEach(mo,this),m.sheets.clear();var S=m.rules,I=m.hrefs;if(!b||I.length){if(this.push('<style data-precedence="'),this.push(m.precedence),m=0,I.length){for(this.push('" data-href="');m<I.length-1;m++)this.push(I[m]),this.push(" ");this.push(I[m])}for(this.push('">'),m=0;m<S.length;m++)this.push(S[m]);this.push("</style>"),S.length=0,I.length=0}}function Lt(m){if(m.state===0){m.state=1;var b=m.props;for(It(zi,{rel:"preload",as:"style",href:m.props.href,crossOrigin:b.crossOrigin,fetchPriority:b.fetchPriority,integrity:b.integrity,media:b.media,hrefLang:b.hrefLang,referrerPolicy:b.referrerPolicy}),m=0;m<zi.length;m++)this.push(zi[m]);zi.length=0}}function Sn(m){m.sheets.forEach(Lt,this),m.sheets.clear()}function rr(m,b){m.push("[");var S="[";b.stylesheets.forEach(function(I){if(I.state!==2)if(I.state===3)m.push(S),I=Xn(""+I.props.href),m.push(I),m.push("]"),S=",[";else{m.push(S);var z=I.props["data-precedence"],Z=I.props,oe=ee(""+I.props.href);oe=Xn(oe),m.push(oe),z=""+z,m.push(","),z=Xn(z),m.push(z);for(var Ne in Z)if(Y.call(Z,Ne)&&(z=Z[Ne],z!=null))switch(Ne){case"href":case"rel":case"precedence":case"data-precedence":break;case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"link"));default:wn(m,Ne,z)}m.push("]"),S=",[",I.state=3}}),m.push("]")}function wn(m,b,S){var I=b.toLowerCase();switch(typeof S){case"function":case"symbol":return}switch(b){case"innerHTML":case"dangerouslySetInnerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"style":case"ref":return;case"className":I="class",b=""+S;break;case"hidden":if(S===!1)return;b="";break;case"src":case"href":S=ee(S),b=""+S;break;default:if(2<b.length&&(b[0]==="o"||b[0]==="O")&&(b[1]==="n"||b[1]==="N")||!X(b))return;b=""+S}m.push(","),I=Xn(I),m.push(I),m.push(","),I=Xn(b),m.push(I)}function Ui(){return{styles:new Set,stylesheets:new Set}}function Bn(m){var b=ri||null;if(b){var S=b.resumableState,I=b.renderState;if(typeof m=="string"&&m){if(!S.dnsResources.hasOwnProperty(m)){S.dnsResources[m]=null,S=I.headers;var z,Z;(Z=S&&0<S.remainingCapacity)&&(Z=(z="<"+(""+m).replace(ps,sr)+">; rel=dns-prefetch",0<=(S.remainingCapacity-=z.length+2))),Z?(I.resets.dns[m]=null,S.preconnects&&(S.preconnects+=", "),S.preconnects+=z):(z=[],It(z,{href:m,rel:"dns-prefetch"}),I.preconnects.add(z))}Ya(b)}}else Ke.D(m)}function Vo(m,b){var S=ri||null;if(S){var I=S.resumableState,z=S.renderState;if(typeof m=="string"&&m){var Z=b==="use-credentials"?"credentials":typeof b=="string"?"anonymous":"default";if(!I.connectResources[Z].hasOwnProperty(m)){I.connectResources[Z][m]=null,I=z.headers;var oe,Ne;if(Ne=I&&0<I.remainingCapacity){if(Ne="<"+(""+m).replace(ps,sr)+">; rel=preconnect",typeof b=="string"){var ye=(""+b).replace(ii,_r);Ne+='; crossorigin="'+ye+'"'}Ne=(oe=Ne,0<=(I.remainingCapacity-=oe.length+2))}Ne?(z.resets.connect[Z][m]=null,I.preconnects&&(I.preconnects+=", "),I.preconnects+=oe):(Z=[],It(Z,{rel:"preconnect",href:m,crossOrigin:b}),z.preconnects.add(Z))}Ya(S)}}else Ke.C(m,b)}function Ba(m,b,S){var I=ri||null;if(I){var z=I.resumableState,Z=I.renderState;if(b&&m){switch(b){case"image":if(S)var oe=S.imageSrcSet,Ne=S.imageSizes,ye=S.fetchPriority;var Ae=oe?oe+`
`+(Ne||""):m;if(z.imageResources.hasOwnProperty(Ae))return;z.imageResources[Ae]=Ge,z=Z.headers;var We;z&&0<z.remainingCapacity&&typeof oe!="string"&&ye==="high"&&(We=Jr(m,b,S),0<=(z.remainingCapacity-=We.length+2))?(Z.resets.image[Ae]=Ge,z.highImagePreloads&&(z.highImagePreloads+=", "),z.highImagePreloads+=We):(z=[],It(z,H({rel:"preload",href:oe?void 0:m,as:b},S)),ye==="high"?Z.highImagePreloads.add(z):(Z.bulkPreloads.add(z),Z.preloads.images.set(Ae,z)));break;case"style":if(z.styleResources.hasOwnProperty(m))return;oe=[],It(oe,H({rel:"preload",href:m,as:b},S)),z.styleResources[m]=!S||typeof S.crossOrigin!="string"&&typeof S.integrity!="string"?Ge:[S.crossOrigin,S.integrity],Z.preloads.stylesheets.set(m,oe),Z.bulkPreloads.add(oe);break;case"script":if(z.scriptResources.hasOwnProperty(m))return;oe=[],Z.preloads.scripts.set(m,oe),Z.bulkPreloads.add(oe),It(oe,H({rel:"preload",href:m,as:b},S)),z.scriptResources[m]=!S||typeof S.crossOrigin!="string"&&typeof S.integrity!="string"?Ge:[S.crossOrigin,S.integrity];break;default:if(z.unknownResources.hasOwnProperty(b)){if(oe=z.unknownResources[b],oe.hasOwnProperty(m))return}else oe={},z.unknownResources[b]=oe;if(oe[m]=Ge,(z=Z.headers)&&0<z.remainingCapacity&&b==="font"&&(Ae=Jr(m,b,S),0<=(z.remainingCapacity-=Ae.length+2)))Z.resets.font[m]=Ge,z.fontPreloads&&(z.fontPreloads+=", "),z.fontPreloads+=Ae;else switch(z=[],m=H({rel:"preload",href:m,as:b},S),It(z,m),b){case"font":Z.fontPreloads.add(z);break;default:Z.bulkPreloads.add(z)}}Ya(I)}}else Ke.L(m,b,S)}function ms(m,b){var S=ri||null;if(S){var I=S.resumableState,z=S.renderState;if(m){var Z=b&&typeof b.as=="string"?b.as:"script";switch(Z){case"script":if(I.moduleScriptResources.hasOwnProperty(m))return;Z=[],I.moduleScriptResources[m]=!b||typeof b.crossOrigin!="string"&&typeof b.integrity!="string"?Ge:[b.crossOrigin,b.integrity],z.preloads.moduleScripts.set(m,Z);break;default:if(I.moduleUnknownResources.hasOwnProperty(Z)){var oe=I.unknownResources[Z];if(oe.hasOwnProperty(m))return}else oe={},I.moduleUnknownResources[Z]=oe;Z=[],oe[m]=Ge}It(Z,H({rel:"modulepreload",href:m},b)),z.bulkPreloads.add(Z),Ya(S)}}else Ke.m(m,b)}function zs(m,b,S){var I=ri||null;if(I){var z=I.resumableState,Z=I.renderState;if(m){b=b||"default";var oe=Z.styles.get(b),Ne=z.styleResources.hasOwnProperty(m)?z.styleResources[m]:void 0;Ne!==null&&(z.styleResources[m]=null,oe||(oe={precedence:le(b),rules:[],hrefs:[],sheets:new Map},Z.styles.set(b,oe)),b={state:0,props:H({rel:"stylesheet",href:m,"data-precedence":b},S)},Ne&&(Ne.length===2&&Kr(b.props,Ne),(Z=Z.preloads.stylesheets.get(m))&&0<Z.length?Z.length=0:b.state=1),oe.sheets.set(m,b),Ya(I))}}else Ke.S(m,b,S)}function Si(m,b){var S=ri||null;if(S){var I=S.resumableState,z=S.renderState;if(m){var Z=I.scriptResources.hasOwnProperty(m)?I.scriptResources[m]:void 0;Z!==null&&(I.scriptResources[m]=null,b=H({src:m,async:!0},b),Z&&(Z.length===2&&Kr(b,Z),m=z.preloads.scripts.get(m))&&(m.length=0),m=[],z.scripts.add(m),ca(m,b),Ya(S))}}else Ke.X(m,b)}function Ea(m,b){var S=ri||null;if(S){var I=S.resumableState,z=S.renderState;if(m){var Z=I.moduleScriptResources.hasOwnProperty(m)?I.moduleScriptResources[m]:void 0;Z!==null&&(I.moduleScriptResources[m]=null,b=H({src:m,type:"module",async:!0},b),Z&&(Z.length===2&&Kr(b,Z),m=z.preloads.moduleScripts.get(m))&&(m.length=0),m=[],z.scripts.add(m),ca(m,b),Ya(S))}}else Ke.M(m,b)}function Kr(m,b){m.crossOrigin==null&&(m.crossOrigin=b[0]),m.integrity==null&&(m.integrity=b[1])}function Jr(m,b,S){m=(""+m).replace(ps,sr),b=(""+b).replace(ii,_r),b="<"+m+'>; rel=preload; as="'+b+'"';for(var I in S)Y.call(S,I)&&(m=S[I],typeof m=="string"&&(b+="; "+I.toLowerCase()+'="'+(""+m).replace(ii,_r)+'"'));return b}var ps=/[<>\r\n]/g;function sr(m){switch(m){case"<":return"%3C";case">":return"%3E";case`
`:return"%0A";case"\r":return"%0D";default:throw Error("escapeLinkHrefForHeaderContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}var ii=/["';,\r\n]/g;function _r(m){switch(m){case'"':return"%22";case"'":return"%27";case";":return"%3B";case",":return"%2C";case`
`:return"%0A";case"\r":return"%0D";default:throw Error("escapeStringForLinkHeaderQuotedParamValueContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}function ys(m){this.styles.add(m)}function _s(m){this.stylesheets.add(m)}function Sa(m,b){var S=m.idPrefix,I=[],z=m.bootstrapScriptContent,Z=m.bootstrapScripts,oe=m.bootstrapModules;z!==void 0&&I.push("<script>",(""+z).replace(gn,Bt),"<\/script>"),z=S+"P:";var Ne=S+"S:";S+="B:";var ye=pr(),Ae=new Set,We=new Set,Fe=new Set,it=new Map,dt=new Set,ct=new Set,wt=new Set,Ut={images:new Map,stylesheets:new Map,scripts:new Map,moduleScripts:new Map};if(Z!==void 0)for(var nn=0;nn<Z.length;nn++){var _n=Z[nn],En,ut=void 0,Fn=void 0,Vt={rel:"preload",as:"script",fetchPriority:"low",nonce:void 0};typeof _n=="string"?Vt.href=En=_n:(Vt.href=En=_n.src,Vt.integrity=Fn=typeof _n.integrity=="string"?_n.integrity:void 0,Vt.crossOrigin=ut=typeof _n=="string"||_n.crossOrigin==null?void 0:_n.crossOrigin==="use-credentials"?"use-credentials":""),_n=m;var zn=En;_n.scriptResources[zn]=null,_n.moduleScriptResources[zn]=null,_n=[],It(_n,Vt),dt.add(_n),I.push('<script src="',le(En)),typeof Fn=="string"&&I.push('" integrity="',le(Fn)),typeof ut=="string"&&I.push('" crossorigin="',le(ut)),I.push('" async=""><\/script>')}if(oe!==void 0)for(Z=0;Z<oe.length;Z++)Vt=oe[Z],ut=En=void 0,Fn={rel:"modulepreload",fetchPriority:"low",nonce:void 0},typeof Vt=="string"?Fn.href=nn=Vt:(Fn.href=nn=Vt.src,Fn.integrity=ut=typeof Vt.integrity=="string"?Vt.integrity:void 0,Fn.crossOrigin=En=typeof Vt=="string"||Vt.crossOrigin==null?void 0:Vt.crossOrigin==="use-credentials"?"use-credentials":""),Vt=m,_n=nn,Vt.scriptResources[_n]=null,Vt.moduleScriptResources[_n]=null,Vt=[],It(Vt,Fn),dt.add(Vt),I.push('<script type="module" src="',le(nn)),typeof ut=="string"&&I.push('" integrity="',le(ut)),typeof En=="string"&&I.push('" crossorigin="',le(En)),I.push('" async=""><\/script>');return{placeholderPrefix:z,segmentPrefix:Ne,boundaryPrefix:S,startInlineScript:"<script>",preamble:ye,externalRuntimeScript:null,bootstrapChunks:I,importMapChunks:[],onHeaders:void 0,headers:null,resets:{font:{},dns:{},connect:{default:{},anonymous:{},credentials:{}},image:{},style:{}},charsetChunks:[],viewportChunks:[],hoistableChunks:[],preconnects:Ae,fontPreloads:We,highImagePreloads:Fe,styles:it,bootstrapScripts:dt,scripts:ct,bulkPreloads:wt,preloads:Ut,stylesToHoist:!1,generateStaticMarkup:b}}function dn(m,b,S,I){return S.generateStaticMarkup?(m.push(le(b)),!1):(b===""?m=I:(I&&m.push("<!-- -->"),m.push(le(b)),m=!0),m)}function Mt(m,b,S,I){b.generateStaticMarkup||S&&I&&m.push("<!-- -->")}var pn=Function.prototype.bind,Ai=Symbol.for("react.client.reference");function Ni(m){if(m==null)return null;if(typeof m=="function")return m.$$typeof===Ai?null:m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case d:return"Fragment";case E:return"Profiler";case v:return"StrictMode";case V:return"Suspense";case Q:return"SuspenseList";case _e:return"Activity"}if(typeof m=="object")switch(m.$$typeof){case l:return"Portal";case M:return(m.displayName||"Context")+".Provider";case N:return(m._context.displayName||"Context")+".Consumer";case j:var b=m.render;return m=m.displayName,m||(m=b.displayName||b.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case te:return b=m.displayName||null,b!==null?b:Ni(m.type)||"Memo";case J:b=m._payload,m=m._init;try{return Ni(m(b))}catch{}}return null}var Us={},ar=null;function bt(m,b){if(m!==b){m.context._currentValue2=m.parentValue,m=m.parent;var S=b.parent;if(m===null){if(S!==null)throw Error(t(401))}else{if(S===null)throw Error(t(401));bt(m,S)}b.context._currentValue2=b.value}}function yn(m){m.context._currentValue2=m.parentValue,m=m.parent,m!==null&&yn(m)}function po(m){var b=m.parent;b!==null&&po(b),m.context._currentValue2=m.value}function Ln(m,b){if(m.context._currentValue2=m.parentValue,m=m.parent,m===null)throw Error(t(402));m.depth===b.depth?bt(m,b):Ln(m,b)}function In(m,b){var S=b.parent;if(S===null)throw Error(t(402));m.depth===S.depth?bt(m,S):In(m,S),b.context._currentValue2=b.value}function vr(m){var b=ar;b!==m&&(b===null?po(m):m===null?yn(b):b.depth===m.depth?bt(b,m):b.depth>m.depth?Ln(b,m):In(b,m),ar=m)}var or={enqueueSetState:function(m,b){m=m._reactInternals,m.queue!==null&&m.queue.push(b)},enqueueReplaceState:function(m,b){m=m._reactInternals,m.replace=!0,m.queue=[b]},enqueueForceUpdate:function(){}},lr={id:1,overflow:""};function yt(m,b,S){var I=m.id;m=m.overflow;var z=32-Yi(I)-1;I&=~(1<<z),S+=1;var Z=32-Yi(b)+z;if(30<Z){var oe=z-z%5;return Z=(I&(1<<oe)-1).toString(32),I>>=oe,z-=oe,{id:1<<32-Yi(b)+z|S<<z|I,overflow:Z+m}}return{id:1<<Z|S<<z|I,overflow:m}}var Yi=Math.clz32?Math.clz32:yo,Wi=Math.log,qr=Math.LN2;function yo(m){return m>>>=0,m===0?32:31-(Wi(m)/qr|0)|0}var cr=Error(t(460));function vs(){}function jo(m,b,S){switch(S=m[S],S===void 0?m.push(b):S!==b&&(b.then(vs,vs),b=S),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(vs,vs):(m=b,m.status="pending",m.then(function(I){if(b.status==="pending"){var z=b;z.status="fulfilled",z.value=I}},function(I){if(b.status==="pending"){var z=b;z.status="rejected",z.reason=I}})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}throw fa=b,cr}}var fa=null;function bs(){if(fa===null)throw Error(t(459));var m=fa;return fa=null,m}function xs(m,b){return m===b&&(m!==0||1/m===1/b)||m!==m&&b!==b}var ur=typeof Object.is=="function"?Object.is:xs,ki=null,Lr=null,Fa=null,ht=null,Xi=null,ot=null,Qi=!1,Vi=!1,zr=0,Ki=0,Pi=-1,br=0,xr=null,Qt=null,Ri=0;function wr(){if(ki===null)throw Error(t(321));return ki}function fi(){if(0<Ri)throw Error(t(312));return{memoizedState:null,queue:null,next:null}}function qt(){return ot===null?Xi===null?(Qi=!1,Xi=ot=fi()):(Qi=!0,ot=Xi):ot.next===null?(Qi=!1,ot=ot.next=fi()):(Qi=!0,ot=ot.next),ot}function $r(){var m=xr;return xr=null,m}function Ur(){ht=Fa=Lr=ki=null,Vi=!1,Xi=null,Ri=0,ot=Qt=null}function Bo(m,b){return typeof b=="function"?b(m):b}function Aa(m,b,S){if(ki=wr(),ot=qt(),Qi){var I=ot.queue;if(b=I.dispatch,Qt!==null&&(S=Qt.get(I),S!==void 0)){Qt.delete(I),I=ot.memoizedState;do I=m(I,S.action),S=S.next;while(S!==null);return ot.memoizedState=I,[I,b]}return[ot.memoizedState,b]}return m=m===Bo?typeof b=="function"?b():b:S!==void 0?S(b):b,ot.memoizedState=m,m=ot.queue={last:null,dispatch:null},m=m.dispatch=Vs.bind(null,ki,m),[ot.memoizedState,m]}function kt(m,b){if(ki=wr(),ot=qt(),b=b===void 0?null:b,ot!==null){var S=ot.memoizedState;if(S!==null&&b!==null){var I=S[1];e:if(I===null)I=!1;else{for(var z=0;z<I.length&&z<b.length;z++)if(!ur(b[z],I[z])){I=!1;break e}I=!0}if(I)return S[0]}}return m=m(),ot.memoizedState=[m,b],m}function Vs(m,b,S){if(25<=Ri)throw Error(t(301));if(m===ki)if(Vi=!0,m={action:S,next:null},Qt===null&&(Qt=new Map),S=Qt.get(b),S===void 0)Qt.set(b,m);else{for(b=S;b.next!==null;)b=b.next;b.next=m}}function ji(){throw Error(t(394))}function Ji(){throw Error(t(479))}function _o(m,b,S){wr();var I=Ki++,z=Fa;if(typeof m.$$FORM_ACTION=="function"){var Z=null,oe=ht;z=z.formState;var Ne=m.$$IS_SIGNATURE_EQUAL;if(z!==null&&typeof Ne=="function"){var ye=z[1];Ne.call(m,z[2],z[3])&&(Z=S!==void 0?"p"+S:"k"+ce(JSON.stringify([oe,null,I]),0),ye===Z&&(Pi=I,b=z[0]))}var Ae=m.bind(null,b);return m=function(Fe){Ae(Fe)},typeof Ae.$$FORM_ACTION=="function"&&(m.$$FORM_ACTION=function(Fe){Fe=Ae.$$FORM_ACTION(Fe),S!==void 0&&(S+="",Fe.action=S);var it=Fe.data;return it&&(Z===null&&(Z=S!==void 0?"p"+S:"k"+ce(JSON.stringify([oe,null,I]),0)),it.append("$ACTION_KEY",Z)),Fe}),[b,m,!1]}var We=m.bind(null,b);return[b,function(Fe){We(Fe)},!1]}function ll(m){var b=br;return br+=1,xr===null&&(xr=[]),jo(xr,m,b)}function ga(){throw Error(t(393))}function js(){}var Ha={readContext:function(m){return m._currentValue2},use:function(m){if(m!==null&&typeof m=="object"){if(typeof m.then=="function")return ll(m);if(m.$$typeof===M)return m._currentValue2}throw Error(t(438,String(m)))},useContext:function(m){return wr(),m._currentValue2},useMemo:kt,useReducer:Aa,useRef:function(m){ki=wr(),ot=qt();var b=ot.memoizedState;return b===null?(m={current:m},ot.memoizedState=m):b},useState:function(m){return Aa(Bo,m)},useInsertionEffect:js,useLayoutEffect:js,useCallback:function(m,b){return kt(function(){return m},b)},useImperativeHandle:js,useEffect:js,useDebugValue:js,useDeferredValue:function(m,b){return wr(),b!==void 0?b:m},useTransition:function(){return wr(),[!1,ji]},useId:function(){var m=Lr.treeContext,b=m.overflow;m=m.id,m=(m&~(1<<32-Yi(m)-1)).toString(32)+b;var S=ma;if(S===null)throw Error(t(404));return b=zr++,m="«"+S.idPrefix+"R"+m,0<b&&(m+="H"+b.toString(32)),m+"»"},useSyncExternalStore:function(m,b,S){if(S===void 0)throw Error(t(407));return S()},useOptimistic:function(m){return wr(),[m,Ji]},useActionState:_o,useFormState:_o,useHostTransitionStatus:function(){return wr(),Be},useMemoCache:function(m){for(var b=Array(m),S=0;S<m;S++)b[S]=ie;return b},useCacheRefresh:function(){return ga}},ma=null,cl={getCacheForType:function(){throw Error(t(248))}},Bs,ul;function Ci(m){if(Bs===void 0)try{throw Error()}catch(S){var b=S.stack.trim().match(/\n( *(at )?)/);Bs=b&&b[1]||"",ul=-1<S.stack.indexOf(`
    at`)?" (<anonymous>)":-1<S.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bs+m+ul}var pa=!1;function Na(m,b){if(!m||pa)return"";pa=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var I={DetermineComponentFrameRoot:function(){try{if(b){var Fe=function(){throw Error()};if(Object.defineProperty(Fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Fe,[])}catch(dt){var it=dt}Reflect.construct(m,[],Fe)}else{try{Fe.call()}catch(dt){it=dt}m.call(Fe.prototype)}}else{try{throw Error()}catch(dt){it=dt}(Fe=m())&&typeof Fe.catch=="function"&&Fe.catch(function(){})}}catch(dt){if(dt&&it&&typeof dt.stack=="string")return[dt.stack,it.stack]}return[null,null]}};I.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var z=Object.getOwnPropertyDescriptor(I.DetermineComponentFrameRoot,"name");z&&z.configurable&&Object.defineProperty(I.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Z=I.DetermineComponentFrameRoot(),oe=Z[0],Ne=Z[1];if(oe&&Ne){var ye=oe.split(`
`),Ae=Ne.split(`
`);for(z=I=0;I<ye.length&&!ye[I].includes("DetermineComponentFrameRoot");)I++;for(;z<Ae.length&&!Ae[z].includes("DetermineComponentFrameRoot");)z++;if(I===ye.length||z===Ae.length)for(I=ye.length-1,z=Ae.length-1;1<=I&&0<=z&&ye[I]!==Ae[z];)z--;for(;1<=I&&0<=z;I--,z--)if(ye[I]!==Ae[z]){if(I!==1||z!==1)do if(I--,z--,0>z||ye[I]!==Ae[z]){var We=`
`+ye[I].replace(" at new "," at ");return m.displayName&&We.includes("<anonymous>")&&(We=We.replace("<anonymous>",m.displayName)),We}while(1<=I&&0<=z);break}}}finally{pa=!1,Error.prepareStackTrace=S}return(S=m?m.displayName||m.name:"")?Ci(S):""}function es(m){if(typeof m=="string")return Ci(m);if(typeof m=="function")return m.prototype&&m.prototype.isReactComponent?Na(m,!0):Na(m,!1);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case j:return Na(m.render,!1);case te:return Na(m.type,!1);case J:var b=m,S=b._payload;b=b._init;try{m=b(S)}catch{return Ci("Lazy")}return es(m)}if(typeof m.name=="string")return S=m.env,Ci(m.name+(S?" ["+S+"]":""))}switch(m){case Q:return Ci("SuspenseList");case V:return Ci("Suspense")}return""}function Fs(m){if(typeof m=="object"&&m!==null&&typeof m.environmentName=="string"){var b=m.environmentName;m=[m].slice(0),typeof m[0]=="string"?m.splice(0,1,"[%s] "+m[0]," "+b+" "):m.splice(0,0,"[%s] "," "+b+" "),m.unshift(console),b=pn.apply(console.error,m),b()}else console.error(m);return null}function Vr(){}function vo(m,b,S,I,z,Z,oe,Ne,ye,Ae,We){var Fe=new Set;this.destination=null,this.flushScheduled=!1,this.resumableState=m,this.renderState=b,this.rootFormatContext=S,this.progressiveChunkSize=I===void 0?12800:I,this.status=10,this.fatalError=null,this.pendingRootTasks=this.allPendingTasks=this.nextSegmentId=0,this.completedPreambleSegments=this.completedRootSegment=null,this.abortableTasks=Fe,this.pingedTasks=[],this.clientRenderedBoundaries=[],this.completedBoundaries=[],this.partialBoundaries=[],this.trackedPostpones=null,this.onError=z===void 0?Fs:z,this.onPostpone=Ae===void 0?Vr:Ae,this.onAllReady=Z===void 0?Vr:Z,this.onShellReady=oe===void 0?Vr:oe,this.onShellError=Ne===void 0?Vr:Ne,this.onFatalError=ye===void 0?Vr:ye,this.formState=We===void 0?null:We}function bo(m,b,S,I,z,Z,oe,Ne,ye,Ae,We,Fe){return b=new vo(b,S,I,z,Z,oe,Ne,ye,Ae,We,Fe),S=Gs(b,0,null,I,!1,!1),S.parentFlushed=!0,m=Ra(b,null,m,-1,null,S,null,null,b.abortableTasks,null,I,null,lr,null,!1),gi(m),b.pingedTasks.push(m),b}var ri=null;function Hs(m,b){m.pingedTasks.push(b),m.pingedTasks.length===1&&(m.flushScheduled=m.destination!==null,Za(m))}function hr(m,b,S,I){return{status:0,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,completedSegments:[],byteSize:0,fallbackAbortableTasks:b,errorDigest:null,contentState:Ui(),fallbackState:Ui(),contentPreamble:S,fallbackPreamble:I,trackedContentKeyPath:null,trackedFallbackNode:null}}function Ra(m,b,S,I,z,Z,oe,Ne,ye,Ae,We,Fe,it,dt,ct){m.allPendingTasks++,z===null?m.pendingRootTasks++:z.pendingTasks++;var wt={replay:null,node:S,childIndex:I,ping:function(){return Hs(m,wt)},blockedBoundary:z,blockedSegment:Z,blockedPreamble:oe,hoistableState:Ne,abortSet:ye,keyPath:Ae,formatContext:We,context:Fe,treeContext:it,componentStack:dt,thenableState:b,isFallback:ct};return ye.add(wt),wt}function Ga(m,b,S,I,z,Z,oe,Ne,ye,Ae,We,Fe,it,dt){m.allPendingTasks++,Z===null?m.pendingRootTasks++:Z.pendingTasks++,S.pendingTasks++;var ct={replay:S,node:I,childIndex:z,ping:function(){return Hs(m,ct)},blockedBoundary:Z,blockedSegment:null,blockedPreamble:null,hoistableState:oe,abortSet:Ne,keyPath:ye,formatContext:Ae,context:We,treeContext:Fe,componentStack:it,thenableState:b,isFallback:dt};return Ne.add(ct),ct}function Gs(m,b,S,I,z,Z){return{status:0,parentFlushed:!1,id:-1,index:b,chunks:[],children:[],preambleChildren:[],parentFormatContext:I,boundary:S,lastPushedText:z,textEmbedded:Z}}function gi(m){var b=m.node;if(typeof b=="object"&&b!==null)switch(b.$$typeof){case s:m.componentStack={parent:m.componentStack,type:b.type}}}function mi(m){var b={};return m&&Object.defineProperty(b,"componentStack",{configurable:!0,enumerable:!0,get:function(){try{var S="",I=m;do S+=es(I.type),I=I.parent;while(I);var z=S}catch(Z){z=`
Error generating stack: `+Z.message+`
`+Z.stack}return Object.defineProperty(b,"componentStack",{value:z}),z}}),b}function an(m,b,S){if(m=m.onError,b=m(b,S),b==null||typeof b=="string")return b}function Tr(m,b){var S=m.onShellError,I=m.onFatalError;S(b),I(b),m.destination!==null?(m.status=14,m.destination.destroy(b)):(m.status=13,m.fatalError=b)}function Fo(m,b,S,I,z,Z){var oe=b.thenableState;for(b.thenableState=null,ki={},Lr=b,Fa=m,ht=S,Ki=zr=0,Pi=-1,br=0,xr=oe,m=I(z,Z);Vi;)Vi=!1,Ki=zr=0,Pi=-1,br=0,Ri+=1,ot=null,m=I(z,Z);return Ur(),m}function qi(m,b,S,I,z,Z,oe){var Ne=!1;if(Z!==0&&m.formState!==null){var ye=b.blockedSegment;if(ye!==null){Ne=!0,ye=ye.chunks;for(var Ae=0;Ae<Z;Ae++)Ae===oe?ye.push("<!--F!-->"):ye.push("<!--F-->")}}Z=b.keyPath,b.keyPath=S,z?(S=b.treeContext,b.treeContext=yt(S,1,0),$t(m,b,I,-1),b.treeContext=S):Ne?$t(m,b,I,-1):k(m,b,I,-1),b.keyPath=Z}function f(m,b,S,I,z,Z){if(typeof I=="function")if(I.prototype&&I.prototype.isReactComponent){var oe=z;if("ref"in z){oe={};for(var Ne in z)Ne!=="ref"&&(oe[Ne]=z[Ne])}var ye=I.defaultProps;if(ye){oe===z&&(oe=H({},oe,z));for(var Ae in ye)oe[Ae]===void 0&&(oe[Ae]=ye[Ae])}z=oe,oe=Us,ye=I.contextType,typeof ye=="object"&&ye!==null&&(oe=ye._currentValue2),oe=new I(z,oe);var We=oe.state!==void 0?oe.state:null;if(oe.updater=or,oe.props=z,oe.state=We,ye={queue:[],replace:!1},oe._reactInternals=ye,Z=I.contextType,oe.context=typeof Z=="object"&&Z!==null?Z._currentValue2:Us,Z=I.getDerivedStateFromProps,typeof Z=="function"&&(Z=Z(z,We),We=Z==null?We:H({},We,Z),oe.state=We),typeof I.getDerivedStateFromProps!="function"&&typeof oe.getSnapshotBeforeUpdate!="function"&&(typeof oe.UNSAFE_componentWillMount=="function"||typeof oe.componentWillMount=="function"))if(I=oe.state,typeof oe.componentWillMount=="function"&&oe.componentWillMount(),typeof oe.UNSAFE_componentWillMount=="function"&&oe.UNSAFE_componentWillMount(),I!==oe.state&&or.enqueueReplaceState(oe,oe.state,null),ye.queue!==null&&0<ye.queue.length)if(I=ye.queue,Z=ye.replace,ye.queue=null,ye.replace=!1,Z&&I.length===1)oe.state=I[0];else{for(ye=Z?I[0]:oe.state,We=!0,Z=Z?1:0;Z<I.length;Z++)Ae=I[Z],Ae=typeof Ae=="function"?Ae.call(oe,ye,z,void 0):Ae,Ae!=null&&(We?(We=!1,ye=H({},ye,Ae)):H(ye,Ae));oe.state=ye}else ye.queue=null;if(I=oe.render(),m.status===12)throw null;z=b.keyPath,b.keyPath=S,k(m,b,I,-1),b.keyPath=z}else{if(I=Fo(m,b,S,I,z,void 0),m.status===12)throw null;qi(m,b,S,I,zr!==0,Ki,Pi)}else if(typeof I=="string")if(oe=b.blockedSegment,oe===null)oe=z.children,ye=b.formatContext,We=b.keyPath,b.formatContext=pt(ye,I,z),b.keyPath=S,$t(m,b,oe,-1),b.formatContext=ye,b.keyPath=We;else{Z=On(oe.chunks,I,z,m.resumableState,m.renderState,b.blockedPreamble,b.hoistableState,b.formatContext,oe.lastPushedText,b.isFallback),oe.lastPushedText=!1,ye=b.formatContext,We=b.keyPath,b.keyPath=S,(b.formatContext=pt(ye,I,z)).insertionMode===3?(S=Gs(m,0,null,b.formatContext,!1,!1),oe.preambleChildren.push(S),S=Ra(m,null,Z,-1,b.blockedBoundary,S,b.blockedPreamble,b.hoistableState,m.abortableTasks,b.keyPath,b.formatContext,b.context,b.treeContext,b.componentStack,b.isFallback),gi(S),m.pingedTasks.push(S)):$t(m,b,Z,-1),b.formatContext=ye,b.keyPath=We;e:{switch(b=oe.chunks,m=m.resumableState,I){case"title":case"style":case"script":case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break e;case"body":if(1>=ye.insertionMode){m.hasBody=!0;break e}break;case"html":if(ye.insertionMode===0){m.hasHtml=!0;break e}break;case"head":if(1>=ye.insertionMode)break e}b.push(Wr(I))}oe.lastPushedText=!1}else{switch(I){case Re:case v:case E:case d:I=b.keyPath,b.keyPath=S,k(m,b,z.children,-1),b.keyPath=I;return;case _e:z.mode!=="hidden"&&(I=b.keyPath,b.keyPath=S,k(m,b,z.children,-1),b.keyPath=I);return;case Q:I=b.keyPath,b.keyPath=S,k(m,b,z.children,-1),b.keyPath=I;return;case ke:case K:throw Error(t(343));case V:e:if(b.replay!==null){I=b.keyPath,b.keyPath=S,S=z.children;try{$t(m,b,S,-1)}finally{b.keyPath=I}}else{I=b.keyPath;var Fe=b.blockedBoundary;Z=b.blockedPreamble;var it=b.hoistableState;Ae=b.blockedSegment,Ne=z.fallback,z=z.children;var dt=new Set,ct=2>b.formatContext.insertionMode?hr(m,dt,pr(),pr()):hr(m,dt,null,null);m.trackedPostpones!==null&&(ct.trackedContentKeyPath=S);var wt=Gs(m,Ae.chunks.length,ct,b.formatContext,!1,!1);Ae.children.push(wt),Ae.lastPushedText=!1;var Ut=Gs(m,0,null,b.formatContext,!1,!1);if(Ut.parentFlushed=!0,m.trackedPostpones!==null){oe=[S[0],"Suspense Fallback",S[2]],ye=[oe[1],oe[2],[],null],m.trackedPostpones.workingMap.set(oe,ye),ct.trackedFallbackNode=ye,b.blockedSegment=wt,b.blockedPreamble=ct.fallbackPreamble,b.keyPath=oe,wt.status=6;try{$t(m,b,Ne,-1),Mt(wt.chunks,m.renderState,wt.lastPushedText,wt.textEmbedded),wt.status=1}catch(nn){throw wt.status=m.status===12?3:4,nn}finally{b.blockedSegment=Ae,b.blockedPreamble=Z,b.keyPath=I}b=Ra(m,null,z,-1,ct,Ut,ct.contentPreamble,ct.contentState,b.abortSet,S,b.formatContext,b.context,b.treeContext,b.componentStack,b.isFallback),gi(b),m.pingedTasks.push(b)}else{b.blockedBoundary=ct,b.blockedPreamble=ct.contentPreamble,b.hoistableState=ct.contentState,b.blockedSegment=Ut,b.keyPath=S,Ut.status=6;try{if($t(m,b,z,-1),Mt(Ut.chunks,m.renderState,Ut.lastPushedText,Ut.textEmbedded),Ut.status=1,Er(ct,Ut),ct.pendingTasks===0&&ct.status===0){ct.status=1,m.pendingRootTasks===0&&b.blockedPreamble&&Zs(m);break e}}catch(nn){ct.status=4,m.status===12?(Ut.status=3,oe=m.fatalError):(Ut.status=4,oe=nn),ye=mi(b.componentStack),We=an(m,oe,ye),ct.errorDigest=We,Ee(m,ct)}finally{b.blockedBoundary=Fe,b.blockedPreamble=Z,b.hoistableState=it,b.blockedSegment=Ae,b.keyPath=I}b=Ra(m,null,Ne,-1,Fe,wt,ct.fallbackPreamble,ct.fallbackState,dt,[S[0],"Suspense Fallback",S[2]],b.formatContext,b.context,b.treeContext,b.componentStack,!0),gi(b),m.pingedTasks.push(b)}}return}if(typeof I=="object"&&I!==null)switch(I.$$typeof){case j:if("ref"in z)for(ct in oe={},z)ct!=="ref"&&(oe[ct]=z[ct]);else oe=z;I=Fo(m,b,S,I.render,oe,Z),qi(m,b,S,I,zr!==0,Ki,Pi);return;case te:f(m,b,S,I.type,z,Z);return;case A:case M:if(ye=z.children,oe=b.keyPath,z=z.value,We=I._currentValue2,I._currentValue2=z,Z=ar,ar=I={parent:Z,depth:Z===null?0:Z.depth+1,context:I,parentValue:We,value:z},b.context=I,b.keyPath=S,k(m,b,ye,-1),m=ar,m===null)throw Error(t(403));m.context._currentValue2=m.parentValue,m=ar=m.parent,b.context=m,b.keyPath=oe;return;case N:z=z.children,I=z(I._context._currentValue2),z=b.keyPath,b.keyPath=S,k(m,b,I,-1),b.keyPath=z;return;case J:if(oe=I._init,I=oe(I._payload),m.status===12)throw null;f(m,b,S,I,z,Z);return}throw Error(t(130,I==null?I:typeof I,""))}}function R(m,b,S,I,z){var Z=b.replay,oe=b.blockedBoundary,Ne=Gs(m,0,null,b.formatContext,!1,!1);Ne.id=S,Ne.parentFlushed=!0;try{b.replay=null,b.blockedSegment=Ne,$t(m,b,I,z),Ne.status=1,oe===null?m.completedRootSegment=Ne:(Er(oe,Ne),oe.parentFlushed&&m.partialBoundaries.push(oe))}finally{b.replay=Z,b.blockedSegment=null}}function k(m,b,S,I){b.replay!==null&&typeof b.replay.slots=="number"?R(m,b,b.replay.slots,S,I):(b.node=S,b.childIndex=I,S=b.componentStack,gi(b),G(m,b),b.componentStack=S)}function G(m,b){var S=b.node,I=b.childIndex;if(S!==null){if(typeof S=="object"){switch(S.$$typeof){case s:var z=S.type,Z=S.key,oe=S.props;S=oe.ref;var Ne=S!==void 0?S:null,ye=Ni(z),Ae=Z??(I===-1?0:I);if(Z=[b.keyPath,ye,Ae],b.replay!==null)e:{var We=b.replay;for(I=We.nodes,S=0;S<I.length;S++){var Fe=I[S];if(Ae===Fe[1]){if(Fe.length===4){if(ye!==null&&ye!==Fe[0])throw Error(t(490,Fe[0],ye));var it=Fe[2];ye=Fe[3],Ae=b.node,b.replay={nodes:it,slots:ye,pendingTasks:1};try{if(f(m,b,Z,z,oe,Ne),b.replay.pendingTasks===1&&0<b.replay.nodes.length)throw Error(t(488));b.replay.pendingTasks--}catch(ut){if(typeof ut=="object"&&ut!==null&&(ut===cr||typeof ut.then=="function"))throw b.node===Ae&&(b.replay=We),ut;b.replay.pendingTasks--,oe=mi(b.componentStack),Z=b.blockedBoundary,z=ut,oe=an(m,z,oe),en(m,Z,it,ye,z,oe)}b.replay=We}else{if(z!==V)throw Error(t(490,"Suspense",Ni(z)||"Unknown"));t:{We=void 0,z=Fe[5],Ne=Fe[2],ye=Fe[3],Ae=Fe[4]===null?[]:Fe[4][2],Fe=Fe[4]===null?null:Fe[4][3];var dt=b.keyPath,ct=b.replay,wt=b.blockedBoundary,Ut=b.hoistableState,nn=oe.children,_n=oe.fallback,En=new Set;oe=2>b.formatContext.insertionMode?hr(m,En,pr(),pr()):hr(m,En,null,null),oe.parentFlushed=!0,oe.rootSegmentID=z,b.blockedBoundary=oe,b.hoistableState=oe.contentState,b.keyPath=Z,b.replay={nodes:Ne,slots:ye,pendingTasks:1};try{if($t(m,b,nn,-1),b.replay.pendingTasks===1&&0<b.replay.nodes.length)throw Error(t(488));if(b.replay.pendingTasks--,oe.pendingTasks===0&&oe.status===0){oe.status=1,m.completedBoundaries.push(oe);break t}}catch(ut){oe.status=4,it=mi(b.componentStack),We=an(m,ut,it),oe.errorDigest=We,b.replay.pendingTasks--,m.clientRenderedBoundaries.push(oe)}finally{b.blockedBoundary=wt,b.hoistableState=Ut,b.replay=ct,b.keyPath=dt}b=Ga(m,null,{nodes:Ae,slots:Fe,pendingTasks:0},_n,-1,wt,oe.fallbackState,En,[Z[0],"Suspense Fallback",Z[2]],b.formatContext,b.context,b.treeContext,b.componentStack,!0),gi(b),m.pingedTasks.push(b)}}I.splice(S,1);break e}}}else f(m,b,Z,z,oe,Ne);return;case l:throw Error(t(257));case J:if(it=S._init,S=it(S._payload),m.status===12)throw null;k(m,b,S,I);return}if(Qe(S)){me(m,b,S,I);return}if(S===null||typeof S!="object"?it=null:(it=Ye&&S[Ye]||S["@@iterator"],it=typeof it=="function"?it:null),it&&(it=it.call(S))){if(S=it.next(),!S.done){oe=[];do oe.push(S.value),S=it.next();while(!S.done);me(m,b,oe,I)}return}if(typeof S.then=="function")return b.thenableState=null,k(m,b,ll(S),I);if(S.$$typeof===M)return k(m,b,S._currentValue2,I);throw I=Object.prototype.toString.call(S),Error(t(31,I==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":I))}typeof S=="string"?(I=b.blockedSegment,I!==null&&(I.lastPushedText=dn(I.chunks,S,m.renderState,I.lastPushedText))):(typeof S=="number"||typeof S=="bigint")&&(I=b.blockedSegment,I!==null&&(I.lastPushedText=dn(I.chunks,""+S,m.renderState,I.lastPushedText)))}}function me(m,b,S,I){var z=b.keyPath;if(I!==-1&&(b.keyPath=[b.keyPath,"Fragment",I],b.replay!==null)){for(var Z=b.replay,oe=Z.nodes,Ne=0;Ne<oe.length;Ne++){var ye=oe[Ne];if(ye[1]===I){I=ye[2],ye=ye[3],b.replay={nodes:I,slots:ye,pendingTasks:1};try{if(me(m,b,S,-1),b.replay.pendingTasks===1&&0<b.replay.nodes.length)throw Error(t(488));b.replay.pendingTasks--}catch(Fe){if(typeof Fe=="object"&&Fe!==null&&(Fe===cr||typeof Fe.then=="function"))throw Fe;b.replay.pendingTasks--,S=mi(b.componentStack);var Ae=b.blockedBoundary,We=Fe;S=an(m,We,S),en(m,Ae,I,ye,We,S)}b.replay=Z,oe.splice(Ne,1);break}}b.keyPath=z;return}if(Z=b.treeContext,oe=S.length,b.replay!==null&&(Ne=b.replay.slots,Ne!==null&&typeof Ne=="object")){for(I=0;I<oe;I++)ye=S[I],b.treeContext=yt(Z,oe,I),Ae=Ne[I],typeof Ae=="number"?(R(m,b,Ae,ye,I),delete Ne[I]):$t(m,b,ye,I);b.treeContext=Z,b.keyPath=z;return}for(Ne=0;Ne<oe;Ne++)I=S[Ne],b.treeContext=yt(Z,oe,Ne),$t(m,b,I,Ne);b.treeContext=Z,b.keyPath=z}function Ee(m,b){m=m.trackedPostpones,m!==null&&(b=b.trackedContentKeyPath,b!==null&&(b=m.workingMap.get(b),b!==void 0&&(b.length=4,b[2]=[],b[3]=null)))}function Ze(m,b,S){return Ga(m,S,b.replay,b.node,b.childIndex,b.blockedBoundary,b.hoistableState,b.abortSet,b.keyPath,b.formatContext,b.context,b.treeContext,b.componentStack,b.isFallback)}function zt(m,b,S){var I=b.blockedSegment,z=Gs(m,I.chunks.length,null,b.formatContext,I.lastPushedText,!0);return I.children.push(z),I.lastPushedText=!1,Ra(m,S,b.node,b.childIndex,b.blockedBoundary,z,b.blockedPreamble,b.hoistableState,b.abortSet,b.keyPath,b.formatContext,b.context,b.treeContext,b.componentStack,b.isFallback)}function $t(m,b,S,I){var z=b.formatContext,Z=b.context,oe=b.keyPath,Ne=b.treeContext,ye=b.componentStack,Ae=b.blockedSegment;if(Ae===null)try{return k(m,b,S,I)}catch(it){if(Ur(),S=it===cr?bs():it,typeof S=="object"&&S!==null){if(typeof S.then=="function"){I=$r(),m=Ze(m,b,I).ping,S.then(m,m),b.formatContext=z,b.context=Z,b.keyPath=oe,b.treeContext=Ne,b.componentStack=ye,vr(Z);return}if(S.message==="Maximum call stack size exceeded"){S=$r(),S=Ze(m,b,S),m.pingedTasks.push(S),b.formatContext=z,b.context=Z,b.keyPath=oe,b.treeContext=Ne,b.componentStack=ye,vr(Z);return}}}else{var We=Ae.children.length,Fe=Ae.chunks.length;try{return k(m,b,S,I)}catch(it){if(Ur(),Ae.children.length=We,Ae.chunks.length=Fe,S=it===cr?bs():it,typeof S=="object"&&S!==null){if(typeof S.then=="function"){I=$r(),m=zt(m,b,I).ping,S.then(m,m),b.formatContext=z,b.context=Z,b.keyPath=oe,b.treeContext=Ne,b.componentStack=ye,vr(Z);return}if(S.message==="Maximum call stack size exceeded"){S=$r(),S=zt(m,b,S),m.pingedTasks.push(S),b.formatContext=z,b.context=Z,b.keyPath=oe,b.treeContext=Ne,b.componentStack=ye,vr(Z);return}}}}throw b.formatContext=z,b.context=Z,b.keyPath=oe,b.treeContext=Ne,vr(Z),S}function Wt(m){var b=m.blockedBoundary;m=m.blockedSegment,m!==null&&(m.status=3,xo(this,b,m))}function en(m,b,S,I,z,Z){for(var oe=0;oe<S.length;oe++){var Ne=S[oe];if(Ne.length===4)en(m,b,Ne[2],Ne[3],z,Z);else{Ne=Ne[5];var ye=m,Ae=Z,We=hr(ye,new Set,null,null);We.parentFlushed=!0,We.rootSegmentID=Ne,We.status=4,We.errorDigest=Ae,We.parentFlushed&&ye.clientRenderedBoundaries.push(We)}}if(S.length=0,I!==null){if(b===null)throw Error(t(487));if(b.status!==4&&(b.status=4,b.errorDigest=Z,b.parentFlushed&&m.clientRenderedBoundaries.push(b)),typeof I=="object")for(var Fe in I)delete I[Fe]}}function An(m,b,S){var I=m.blockedBoundary,z=m.blockedSegment;if(z!==null){if(z.status===6)return;z.status=3}if(z=mi(m.componentStack),I===null){if(b.status!==13&&b.status!==14){if(I=m.replay,I===null){an(b,S,z),Tr(b,S);return}I.pendingTasks--,I.pendingTasks===0&&0<I.nodes.length&&(m=an(b,S,z),en(b,null,I.nodes,I.slots,S,m)),b.pendingRootTasks--,b.pendingRootTasks===0&&Tn(b)}}else I.pendingTasks--,I.status!==4&&(I.status=4,m=an(b,S,z),I.status=4,I.errorDigest=m,Ee(b,I),I.parentFlushed&&b.clientRenderedBoundaries.push(I)),I.fallbackAbortableTasks.forEach(function(Z){return An(Z,b,S)}),I.fallbackAbortableTasks.clear();b.allPendingTasks--,b.allPendingTasks===0&&jr(b)}function ws(m,b){try{var S=m.renderState,I=S.onHeaders;if(I){var z=S.headers;if(z){S.headers=null;var Z=z.preconnects;if(z.fontPreloads&&(Z&&(Z+=", "),Z+=z.fontPreloads),z.highImagePreloads&&(Z&&(Z+=", "),Z+=z.highImagePreloads),!b){var oe=S.styles.values(),Ne=oe.next();e:for(;0<z.remainingCapacity&&!Ne.done;Ne=oe.next())for(var ye=Ne.value.sheets.values(),Ae=ye.next();0<z.remainingCapacity&&!Ae.done;Ae=ye.next()){var We=Ae.value,Fe=We.props,it=Fe.href,dt=We.props,ct=Jr(dt.href,"style",{crossOrigin:dt.crossOrigin,integrity:dt.integrity,nonce:dt.nonce,type:dt.type,fetchPriority:dt.fetchPriority,referrerPolicy:dt.referrerPolicy,media:dt.media});if(0<=(z.remainingCapacity-=ct.length+2))S.resets.style[it]=Ge,Z&&(Z+=", "),Z+=ct,S.resets.style[it]=typeof Fe.crossOrigin=="string"||typeof Fe.integrity=="string"?[Fe.crossOrigin,Fe.integrity]:Ge;else break e}}I(Z?{Link:Z}:{})}}}catch(wt){an(m,wt,{})}}function Tn(m){m.trackedPostpones===null&&ws(m,!0),m.trackedPostpones===null&&Zs(m),m.onShellError=Vr,m=m.onShellReady,m()}function jr(m){ws(m,m.trackedPostpones===null?!0:m.completedRootSegment===null||m.completedRootSegment.status!==5),Zs(m),m=m.onAllReady,m()}function Er(m,b){if(b.chunks.length===0&&b.children.length===1&&b.children[0].boundary===null&&b.children[0].id===-1){var S=b.children[0];S.id=b.id,S.parentFlushed=!0,S.status===1&&Er(m,S)}else m.completedSegments.push(b)}function xo(m,b,S){if(b===null){if(S!==null&&S.parentFlushed){if(m.completedRootSegment!==null)throw Error(t(389));m.completedRootSegment=S}m.pendingRootTasks--,m.pendingRootTasks===0&&Tn(m)}else b.pendingTasks--,b.status!==4&&(b.pendingTasks===0?(b.status===0&&(b.status=1),S!==null&&S.parentFlushed&&S.status===1&&Er(b,S),b.parentFlushed&&m.completedBoundaries.push(b),b.status===1&&(b.fallbackAbortableTasks.forEach(Wt,m),b.fallbackAbortableTasks.clear(),m.pendingRootTasks===0&&m.trackedPostpones===null&&b.contentPreamble!==null&&Zs(m))):S!==null&&S.parentFlushed&&S.status===1&&(Er(b,S),b.completedSegments.length===1&&b.parentFlushed&&m.partialBoundaries.push(b)));m.allPendingTasks--,m.allPendingTasks===0&&jr(m)}function Za(m){if(m.status!==14&&m.status!==13){var b=ar,S=je.H;je.H=Ha;var I=je.A;je.A=cl;var z=ri;ri=m;var Z=ma;ma=m.resumableState;try{var oe=m.pingedTasks,Ne;for(Ne=0;Ne<oe.length;Ne++){var ye=oe[Ne],Ae=m,We=ye.blockedSegment;if(We===null){var Fe=Ae;if(ye.replay.pendingTasks!==0){vr(ye.context);try{if(typeof ye.replay.slots=="number"?R(Fe,ye,ye.replay.slots,ye.node,ye.childIndex):G(Fe,ye),ye.replay.pendingTasks===1&&0<ye.replay.nodes.length)throw Error(t(488));ye.replay.pendingTasks--,ye.abortSet.delete(ye),xo(Fe,ye.blockedBoundary,null)}catch(on){Ur();var it=on===cr?bs():on;if(typeof it=="object"&&it!==null&&typeof it.then=="function"){var dt=ye.ping;it.then(dt,dt),ye.thenableState=$r()}else{ye.replay.pendingTasks--,ye.abortSet.delete(ye);var ct=mi(ye.componentStack);Ae=void 0;var wt=Fe,Ut=ye.blockedBoundary,nn=Fe.status===12?Fe.fatalError:it,_n=ye.replay.nodes,En=ye.replay.slots;Ae=an(wt,nn,ct),en(wt,Ut,_n,En,nn,Ae),Fe.pendingRootTasks--,Fe.pendingRootTasks===0&&Tn(Fe),Fe.allPendingTasks--,Fe.allPendingTasks===0&&jr(Fe)}}finally{}}}else if(Fe=void 0,wt=We,wt.status===0){wt.status=6,vr(ye.context);var ut=wt.children.length,Fn=wt.chunks.length;try{G(Ae,ye),Mt(wt.chunks,Ae.renderState,wt.lastPushedText,wt.textEmbedded),ye.abortSet.delete(ye),wt.status=1,xo(Ae,ye.blockedBoundary,wt)}catch(on){Ur(),wt.children.length=ut,wt.chunks.length=Fn;var Vt=on===cr?bs():Ae.status===12?Ae.fatalError:on;if(typeof Vt=="object"&&Vt!==null&&typeof Vt.then=="function"){wt.status=0,ye.thenableState=$r();var zn=ye.ping;Vt.then(zn,zn)}else{var Nn=mi(ye.componentStack);ye.abortSet.delete(ye),wt.status=4;var mt=ye.blockedBoundary;Fe=an(Ae,Vt,Nn),mt===null?Tr(Ae,Vt):(mt.pendingTasks--,mt.status!==4&&(mt.status=4,mt.errorDigest=Fe,Ee(Ae,mt),mt.parentFlushed&&Ae.clientRenderedBoundaries.push(mt),Ae.pendingRootTasks===0&&Ae.trackedPostpones===null&&mt.contentPreamble!==null&&Zs(Ae))),Ae.allPendingTasks--,Ae.allPendingTasks===0&&jr(Ae)}}finally{}}}oe.splice(0,Ne),m.destination!==null&&Br(m,m.destination)}catch(on){an(m,on,{}),Tr(m,on)}finally{ma=Z,je.H=S,je.A=I,S===Ha&&vr(b),ri=z}}}function Ho(m,b,S){b.preambleChildren.length&&S.push(b.preambleChildren);for(var I=!1,z=0;z<b.children.length;z++)I=Ts(m,b.children[z],S)||I;return I}function Ts(m,b,S){var I=b.boundary;if(I===null)return Ho(m,b,S);var z=I.contentPreamble,Z=I.fallbackPreamble;if(z===null||Z===null)return!1;switch(I.status){case 1:if(ir(m.renderState,z),b=I.completedSegments[0],!b)throw Error(t(391));return Ho(m,b,S);case 5:if(m.trackedPostpones!==null)return!0;case 4:if(b.status===1)return ir(m.renderState,Z),Ho(m,b,S);default:return!0}}function Zs(m){if(m.completedRootSegment&&m.completedPreambleSegments===null){var b=[],S=Ts(m,m.completedRootSegment,b),I=m.renderState.preamble;(S===!1||I.headChunks&&I.bodyChunks)&&(m.completedPreambleSegments=b)}}function Sr(m,b,S,I){switch(S.parentFlushed=!0,S.status){case 0:S.id=m.nextSegmentId++;case 5:return I=S.id,S.lastPushedText=!1,S.textEmbedded=!1,m=m.renderState,b.push('<template id="'),b.push(m.placeholderPrefix),m=I.toString(16),b.push(m),b.push('"></template>');case 1:S.status=2;var z=!0,Z=S.chunks,oe=0;S=S.children;for(var Ne=0;Ne<S.length;Ne++){for(z=S[Ne];oe<z.index;oe++)b.push(Z[oe]);z=Es(m,b,z,I)}for(;oe<Z.length-1;oe++)b.push(Z[oe]);return oe<Z.length&&(z=b.push(Z[oe])),z;default:throw Error(t(390))}}function Es(m,b,S,I){var z=S.boundary;if(z===null)return Sr(m,b,S,I);if(z.parentFlushed=!0,z.status===4){if(!m.renderState.generateStaticMarkup){var Z=z.errorDigest;b.push("<!--$!-->"),b.push("<template"),Z&&(b.push(' data-dgst="'),Z=le(Z),b.push(Z),b.push('"')),b.push("></template>")}return Sr(m,b,S,I),m.renderState.generateStaticMarkup?b=!0:((m=z.fallbackPreamble)&&go(b,m),b=b.push("<!--/$-->")),b}if(z.status!==1)return z.status===0&&(z.rootSegmentID=m.nextSegmentId++),0<z.completedSegments.length&&m.partialBoundaries.push(z),Qr(b,m.renderState,z.rootSegmentID),I&&(z=z.fallbackState,z.styles.forEach(ys,I),z.stylesheets.forEach(_s,I)),Sr(m,b,S,I),b.push("<!--/$-->");if(z.byteSize>m.progressiveChunkSize)return z.rootSegmentID=m.nextSegmentId++,m.completedBoundaries.push(z),Qr(b,m.renderState,z.rootSegmentID),Sr(m,b,S,I),b.push("<!--/$-->");if(I&&(S=z.contentState,S.styles.forEach(ys,I),S.stylesheets.forEach(_s,I)),m.renderState.generateStaticMarkup||b.push("<!--$-->"),S=z.completedSegments,S.length!==1)throw Error(t(391));return Es(m,b,S[0],I),m.renderState.generateStaticMarkup?b=!0:((m=z.contentPreamble)&&go(b,m),b=b.push("<!--/$-->")),b}function wo(m,b,S,I){return gs(b,m.renderState,S.parentFormatContext,S.id),Es(m,b,S,I),Uo(b,S.parentFormatContext)}function To(m,b,S){for(var I=S.completedSegments,z=0;z<I.length;z++)Ul(m,b,S,I[z]);I.length=0,Zi(b,S.contentState,m.renderState),I=m.resumableState,m=m.renderState,z=S.rootSegmentID,S=S.contentState;var Z=m.stylesToHoist;return m.stylesToHoist=!1,b.push(m.startInlineScript),Z?(I.instructions&2)===0?(I.instructions|=10,b.push(`$RC=function(b,c,e){c=document.getElementById(c);c.parentNode.removeChild(c);var a=document.getElementById(b);if(a){b=a.previousSibling;if(e)b.data="$!",a.setAttribute("data-dgst",e);else{e=b.parentNode;a=b.nextSibling;var f=0;do{if(a&&8===a.nodeType){var d=a.data;if("/$"===d)if(0===f)break;else f--;else"$"!==d&&"$?"!==d&&"$!"!==d||f++}d=a.nextSibling;e.removeChild(a);a=d}while(a);for(;c.firstChild;)e.insertBefore(c.firstChild,a);b.data="$"}b._reactRetry&&b._reactRetry()}};$RM=new Map;
$RR=function(t,u,y){function v(n){this._p=null;n()}for(var w=$RC,p=$RM,q=new Map,r=document,g,b,h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=[],k=0;b=h[k++];)"not all"===b.getAttribute("media")?x.push(b):("LINK"===b.tagName&&p.set(b.getAttribute("href"),b),q.set(b.dataset.precedence,g=b));b=0;h=[];var l,a;for(k=!0;;){if(k){var e=y[b++];if(!e){k=!1;b=0;continue}var c=!1,m=0;var d=e[m++];if(a=p.get(d)){var f=a._p;c=!0}else{a=r.createElement("link");a.href=
d;a.rel="stylesheet";for(a.dataset.precedence=l=e[m++];f=e[m++];)a.setAttribute(f,e[m++]);f=a._p=new Promise(function(n,z){a.onload=v.bind(a,n);a.onerror=v.bind(a,z)});p.set(d,a)}d=a.getAttribute("media");!f||d&&!matchMedia(d).matches||h.push(f);if(c)continue}else{a=x[b++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=q.get(l)||g;c===g&&(g=a);q.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=r.head,c.insertBefore(a,c.firstChild))}Promise.all(h).then(w.bind(null,
t,u,""),w.bind(null,t,u,"Resource failed to load"))};$RR("`)):(I.instructions&8)===0?(I.instructions|=8,b.push(`$RM=new Map;
$RR=function(t,u,y){function v(n){this._p=null;n()}for(var w=$RC,p=$RM,q=new Map,r=document,g,b,h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=[],k=0;b=h[k++];)"not all"===b.getAttribute("media")?x.push(b):("LINK"===b.tagName&&p.set(b.getAttribute("href"),b),q.set(b.dataset.precedence,g=b));b=0;h=[];var l,a;for(k=!0;;){if(k){var e=y[b++];if(!e){k=!1;b=0;continue}var c=!1,m=0;var d=e[m++];if(a=p.get(d)){var f=a._p;c=!0}else{a=r.createElement("link");a.href=
d;a.rel="stylesheet";for(a.dataset.precedence=l=e[m++];f=e[m++];)a.setAttribute(f,e[m++]);f=a._p=new Promise(function(n,z){a.onload=v.bind(a,n);a.onerror=v.bind(a,z)});p.set(d,a)}d=a.getAttribute("media");!f||d&&!matchMedia(d).matches||h.push(f);if(c)continue}else{a=x[b++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=q.get(l)||g;c===g&&(g=a);q.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=r.head,c.insertBefore(a,c.firstChild))}Promise.all(h).then(w.bind(null,
t,u,""),w.bind(null,t,u,"Resource failed to load"))};$RR("`)):b.push('$RR("'):(I.instructions&2)===0?(I.instructions|=2,b.push('$RC=function(b,c,e){c=document.getElementById(c);c.parentNode.removeChild(c);var a=document.getElementById(b);if(a){b=a.previousSibling;if(e)b.data="$!",a.setAttribute("data-dgst",e);else{e=b.parentNode;a=b.nextSibling;var f=0;do{if(a&&8===a.nodeType){var d=a.data;if("/$"===d)if(0===f)break;else f--;else"$"!==d&&"$?"!==d&&"$!"!==d||f++}d=a.nextSibling;e.removeChild(a);a=d}while(a);for(;c.firstChild;)e.insertBefore(c.firstChild,a);b.data="$"}b._reactRetry&&b._reactRetry()}};$RC("')):b.push('$RC("'),I=z.toString(16),b.push(m.boundaryPrefix),b.push(I),b.push('","'),b.push(m.segmentPrefix),b.push(I),Z?(b.push('",'),rr(b,S)):b.push('"'),S=b.push(")<\/script>"),Xr(b,m)&&S}function Ul(m,b,S,I){if(I.status===2)return!0;var z=S.contentState,Z=I.id;if(Z===-1){if((I.id=S.rootSegmentID)===-1)throw Error(t(392));return wo(m,b,I,z)}return Z===S.rootSegmentID?wo(m,b,I,z):(wo(m,b,I,z),S=m.resumableState,m=m.renderState,b.push(m.startInlineScript),(S.instructions&1)===0?(S.instructions|=1,b.push('$RS=function(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')):b.push('$RS("'),b.push(m.segmentPrefix),Z=Z.toString(16),b.push(Z),b.push('","'),b.push(m.placeholderPrefix),b.push(Z),b=b.push('")<\/script>'),b)}function Br(m,b){try{if(!(0<m.pendingRootTasks)){var S,I=m.completedRootSegment;if(I!==null){if(I.status===5)return;var z=m.completedPreambleSegments;if(z===null)return;var Z=m.renderState,oe=Z.preamble,Ne=oe.htmlChunks,ye=oe.headChunks,Ae;if(Ne){for(Ae=0;Ae<Ne.length;Ae++)b.push(Ne[Ae]);if(ye)for(Ae=0;Ae<ye.length;Ae++)b.push(ye[Ae]);else{var We=mn("head");b.push(We),b.push(">")}}else if(ye)for(Ae=0;Ae<ye.length;Ae++)b.push(ye[Ae]);var Fe=Z.charsetChunks;for(Ae=0;Ae<Fe.length;Ae++)b.push(Fe[Ae]);Fe.length=0,Z.preconnects.forEach(Je,b),Z.preconnects.clear();var it=Z.viewportChunks;for(Ae=0;Ae<it.length;Ae++)b.push(it[Ae]);it.length=0,Z.fontPreloads.forEach(Je,b),Z.fontPreloads.clear(),Z.highImagePreloads.forEach(Je,b),Z.highImagePreloads.clear(),Z.styles.forEach(da,b);var dt=Z.importMapChunks;for(Ae=0;Ae<dt.length;Ae++)b.push(dt[Ae]);dt.length=0,Z.bootstrapScripts.forEach(Je,b),Z.scripts.forEach(Je,b),Z.scripts.clear(),Z.bulkPreloads.forEach(Je,b),Z.bulkPreloads.clear();var ct=Z.hoistableChunks;for(Ae=0;Ae<ct.length;Ae++)b.push(ct[Ae]);for(Z=ct.length=0;Z<z.length;Z++){var wt=z[Z];for(oe=0;oe<wt.length;oe++)Es(m,b,wt[oe],null)}var Ut=m.renderState.preamble,nn=Ut.headChunks;if(Ut.htmlChunks||nn){var _n=Wr("head");b.push(_n)}var En=Ut.bodyChunks;if(En)for(z=0;z<En.length;z++)b.push(En[z]);Es(m,b,I,null),m.completedRootSegment=null,Xr(b,m.renderState)}var ut=m.renderState;I=0;var Fn=ut.viewportChunks;for(I=0;I<Fn.length;I++)b.push(Fn[I]);Fn.length=0,ut.preconnects.forEach(Je,b),ut.preconnects.clear(),ut.fontPreloads.forEach(Je,b),ut.fontPreloads.clear(),ut.highImagePreloads.forEach(Je,b),ut.highImagePreloads.clear(),ut.styles.forEach(Sn,b),ut.scripts.forEach(Je,b),ut.scripts.clear(),ut.bulkPreloads.forEach(Je,b),ut.bulkPreloads.clear();var Vt=ut.hoistableChunks;for(I=0;I<Vt.length;I++)b.push(Vt[I]);Vt.length=0;var zn=m.clientRenderedBoundaries;for(S=0;S<zn.length;S++){var Nn=zn[S];ut=b;var mt=m.resumableState,on=m.renderState,pi=Nn.rootSegmentID,Qn=Nn.errorDigest;ut.push(on.startInlineScript),(mt.instructions&4)===0?(mt.instructions|=4,ut.push('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};;$RX("')):ut.push('$RX("'),ut.push(on.boundaryPrefix);var Ii=pi.toString(16);if(ut.push(Ii),ut.push('"'),Qn){ut.push(",");var er=di(Qn||"");ut.push(er)}var si=ut.push(")<\/script>");if(!si){m.destination=null,S++,zn.splice(0,S);return}}zn.splice(0,S);var ai=m.completedBoundaries;for(S=0;S<ai.length;S++)if(!To(m,b,ai[S])){m.destination=null,S++,ai.splice(0,S);return}ai.splice(0,S);var oi=m.partialBoundaries;for(S=0;S<oi.length;S++){var Fr=oi[S];e:{zn=m,Nn=b;var Kn=Fr.completedSegments;for(si=0;si<Kn.length;si++)if(!Ul(zn,Nn,Fr,Kn[si])){si++,Kn.splice(0,si);var ns=!1;break e}Kn.splice(0,si),ns=Zi(Nn,Fr.contentState,zn.renderState)}if(!ns){m.destination=null,S++,oi.splice(0,S);return}}oi.splice(0,S);var Ys=m.completedBoundaries;for(S=0;S<Ys.length;S++)if(!To(m,b,Ys[S])){m.destination=null,S++,Ys.splice(0,S);return}Ys.splice(0,S)}}finally{m.allPendingTasks===0&&m.pingedTasks.length===0&&m.clientRenderedBoundaries.length===0&&m.completedBoundaries.length===0&&(m.flushScheduled=!1,S=m.resumableState,S.hasBody&&(oi=Wr("body"),b.push(oi)),S.hasHtml&&(S=Wr("html"),b.push(S)),m.status=14,b.push(null),m.destination=null)}}function Ya(m){if(m.flushScheduled===!1&&m.pingedTasks.length===0&&m.destination!==null){m.flushScheduled=!0;var b=m.destination;b?Br(m,b):m.flushScheduled=!1}}function Eo(m,b){if(m.status===13)m.status=14,b.destroy(m.fatalError);else if(m.status!==14&&m.destination===null){m.destination=b;try{Br(m,b)}catch(S){an(m,S,{}),Tr(m,S)}}}function $i(m,b){(m.status===11||m.status===10)&&(m.status=12);try{var S=m.abortableTasks;if(0<S.size){var I=b===void 0?Error(t(432)):typeof b=="object"&&b!==null&&typeof b.then=="function"?Error(t(530)):b;m.fatalError=I,S.forEach(function(z){return An(z,m,I)}),S.clear()}m.destination!==null&&Br(m,m.destination)}catch(z){an(m,z,{}),Tr(m,z)}}function Ar(){}function ts(m,b,S,I){var z=!1,Z=null,oe="",Ne=!1;if(b=ds(b?b.identifierPrefix:void 0),m=bo(m,b,Sa(b,S),Mn(0,null,0),1/0,Ar,void 0,function(){Ne=!0},void 0,void 0,void 0),m.flushScheduled=m.destination!==null,Za(m),m.status===10&&(m.status=11),m.trackedPostpones===null&&ws(m,m.pendingRootTasks===0),$i(m,I),Eo(m,{push:function(ye){return ye!==null&&(oe+=ye),!0},destroy:function(ye){z=!0,Z=ye}}),z&&Z!==I)throw Z;if(!Ne)throw Error(t(426));return oe}return Vd.renderToStaticMarkup=function(m,b){return ts(m,b,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},Vd.renderToString=function(m,b){return ts(m,b,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},Vd.version="19.1.1",Vd}var jd={};/**
 * @license React
 * react-dom-server.browser.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qb;function _P(){if(qb)return jd;qb=1;var r=hf(),e=zg();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),M=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),K=Symbol.for("react.scope"),_e=Symbol.for("react.activity"),Re=Symbol.for("react.legacy_hidden"),ie=Symbol.for("react.memo_cache_sentinel"),ke=Symbol.for("react.view_transition"),Ye=Symbol.iterator,Qe=Array.isArray;function ce(g,y){var T=g.length&3,P=g.length-T,O=y;for(y=0;y<P;){var W=g.charCodeAt(y)&255|(g.charCodeAt(++y)&255)<<8|(g.charCodeAt(++y)&255)<<16|(g.charCodeAt(++y)&255)<<24;++y,W=3432918353*(W&65535)+((3432918353*(W>>>16)&65535)<<16)&4294967295,W=W<<15|W>>>17,W=461845907*(W&65535)+((461845907*(W>>>16)&65535)<<16)&4294967295,O^=W,O=O<<13|O>>>19,O=5*(O&65535)+((5*(O>>>16)&65535)<<16)&4294967295,O=(O&65535)+27492+(((O>>>16)+58964&65535)<<16)}switch(W=0,T){case 3:W^=(g.charCodeAt(y+2)&255)<<16;case 2:W^=(g.charCodeAt(y+1)&255)<<8;case 1:W^=g.charCodeAt(y)&255,W=3432918353*(W&65535)+((3432918353*(W>>>16)&65535)<<16)&4294967295,W=W<<15|W>>>17,O^=461845907*(W&65535)+((461845907*(W>>>16)&65535)<<16)&4294967295}return O^=g.length,O^=O>>>16,O=2246822507*(O&65535)+((2246822507*(O>>>16)&65535)<<16)&4294967295,O^=O>>>13,O=3266489909*(O&65535)+((3266489909*(O>>>16)&65535)<<16)&4294967295,(O^O>>>16)>>>0}var H=new MessageChannel,Y=[];H.port1.onmessage=function(){var g=Y.shift();g&&g()};function he(g){Y.push(g),H.port2.postMessage(null)}function ae(g){setTimeout(function(){throw g})}var q=Promise,X=typeof queueMicrotask=="function"?queueMicrotask:function(g){q.resolve(null).then(g).catch(ae)},rt=null,lt=0;function $(g,y){if(y.byteLength!==0)if(2048<y.byteLength)0<lt&&(g.enqueue(new Uint8Array(rt.buffer,0,lt)),rt=new Uint8Array(2048),lt=0),g.enqueue(y);else{var T=rt.length-lt;T<y.byteLength&&(T===0?g.enqueue(rt):(rt.set(y.subarray(0,T),lt),g.enqueue(rt),y=y.subarray(T)),rt=new Uint8Array(2048),lt=0),rt.set(y,lt),lt+=y.byteLength}}function le(g,y){return $(g,y),!0}function Ce(g){rt&&0<lt&&(g.enqueue(new Uint8Array(rt.buffer,0,lt)),rt=null,lt=0)}var xt=new TextEncoder;function F(g){return xt.encode(g)}function ee(g){return xt.encode(g)}function je(g,y){typeof g.error=="function"?g.error(y):g.close()}var Me=Object.assign,Be=Object.prototype.hasOwnProperty,Ke=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ge={},gn={};function Bt(g){return Be.call(gn,g)?!0:Be.call(Ge,g)?!1:Ke.test(g)?gn[g]=!0:(Ge[g]=!0,!1)}var ds=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),pr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mn=/["'&<>]/;function pt(g){if(typeof g=="boolean"||typeof g=="number"||typeof g=="bigint")return""+g;g=""+g;var y=Mn.exec(g);if(y){var T="",P,O=0;for(P=y.index;P<g.length;P++){switch(g.charCodeAt(P)){case 34:y="&quot;";break;case 38:y="&amp;";break;case 39:y="&#x27;";break;case 60:y="&lt;";break;case 62:y="&gt;";break;default:continue}O!==P&&(T+=g.slice(O,P)),O=P+1,T+=y}g=O!==P?T+g.slice(O,P):T}return g}var Os=/([A-Z])/g,xa=/^ms-/,wa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dn(g){return wa.test(""+g)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":g}var ui=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,la=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fo={pending:!1,data:null,method:null,action:null},Hi=la.d;la.d={f:Hi.f,r:Hi.r,D:ws,C:Tn,L:jr,m:Er,X:Za,S:xo,M:Ho};var ni=[];ee('"></template>');var Kt=ee("<script>"),hi=ee("<\/script>"),Lo=ee('<script src="'),zo=ee('<script type="module" src="'),It=ee('" nonce="'),Jt=ee('" integrity="'),Gi=ee('" crossorigin="'),Wn=ee('" async=""><\/script>'),Ta=/(<\/|<)(s)(cript)/gi;function ca(g,y,T,P){return""+y+(T==="s"?"\\u0073":"\\u0053")+P}var ua=ee('<script type="importmap">'),fs=ee("<\/script>");function Ls(g,y,T,P,O,W){var se=y===void 0?Kt:ee('<script nonce="'+pt(y)+'">'),be=g.idPrefix;T=[];var ue=g.bootstrapScriptContent,pe=g.bootstrapScripts,He=g.bootstrapModules;if(ue!==void 0&&T.push(se,F((""+ue).replace(Ta,ca)),hi),ue=[],P!==void 0&&(ue.push(ua),ue.push(F((""+JSON.stringify(P)).replace(Ta,ca))),ue.push(fs)),P=O?{preconnects:"",fontPreloads:"",highImagePreloads:"",remainingCapacity:2+(typeof W=="number"?W:2e3)}:null,O={placeholderPrefix:ee(be+"P:"),segmentPrefix:ee(be+"S:"),boundaryPrefix:ee(be+"B:"),startInlineScript:se,preamble:mn(),externalRuntimeScript:null,bootstrapChunks:T,importMapChunks:ue,onHeaders:O,headers:P,resets:{font:{},dns:{},connect:{default:{},anonymous:{},credentials:{}},image:{},style:{}},charsetChunks:[],viewportChunks:[],hoistableChunks:[],preconnects:new Set,fontPreloads:new Set,highImagePreloads:new Set,styles:new Map,bootstrapScripts:new Set,scripts:new Set,bulkPreloads:new Set,preloads:{images:new Map,stylesheets:new Map,scripts:new Map,moduleScripts:new Map},nonce:y,hoistableState:null,stylesToHoist:!1},pe!==void 0)for(P=0;P<pe.length;P++){var Pe=pe[P];be=se=void 0,ue={rel:"preload",as:"script",fetchPriority:"low",nonce:y},typeof Pe=="string"?ue.href=W=Pe:(ue.href=W=Pe.src,ue.integrity=be=typeof Pe.integrity=="string"?Pe.integrity:void 0,ue.crossOrigin=se=typeof Pe=="string"||Pe.crossOrigin==null?void 0:Pe.crossOrigin==="use-credentials"?"use-credentials":""),Pe=g;var tt=W;Pe.scriptResources[tt]=null,Pe.moduleScriptResources[tt]=null,Pe=[],Si(Pe,ue),O.bootstrapScripts.add(Pe),T.push(Lo,F(pt(W))),y&&T.push(It,F(pt(y))),typeof be=="string"&&T.push(Jt,F(pt(be))),typeof se=="string"&&T.push(Gi,F(pt(se))),T.push(Wn)}if(He!==void 0)for(pe=0;pe<He.length;pe++)ue=He[pe],se=W=void 0,be={rel:"modulepreload",fetchPriority:"low",nonce:y},typeof ue=="string"?be.href=P=ue:(be.href=P=ue.src,be.integrity=se=typeof ue.integrity=="string"?ue.integrity:void 0,be.crossOrigin=W=typeof ue=="string"||ue.crossOrigin==null?void 0:ue.crossOrigin==="use-credentials"?"use-credentials":""),ue=g,Pe=P,ue.scriptResources[Pe]=null,ue.moduleScriptResources[Pe]=null,ue=[],Si(ue,be),O.bootstrapScripts.add(ue),T.push(zo,F(pt(P))),y&&T.push(It,F(pt(y))),typeof se=="string"&&T.push(Jt,F(pt(se))),typeof W=="string"&&T.push(Gi,F(pt(W))),T.push(Wn);return O}function yr(g,y,T,P,O){return{idPrefix:g===void 0?"":g,nextFormID:0,streamingFormat:0,bootstrapScriptContent:T,bootstrapScripts:P,bootstrapModules:O,instructions:0,hasBody:!1,hasHtml:!1,unknownResources:{},dnsResources:{},connectResources:{default:{},anonymous:{},credentials:{}},imageResources:{},styleResources:{},scriptResources:{},moduleUnknownResources:{},moduleScriptResources:{}}}function mn(){return{htmlChunks:null,headChunks:null,bodyChunks:null,contribution:0}}function On(g,y,T){return{insertionMode:g,selectedValue:y,tagScope:T}}function ja(g){return On(g==="http://www.w3.org/2000/svg"?4:g==="http://www.w3.org/1998/Math/MathML"?5:0,null,0)}function Wr(g,y,T){switch(y){case"noscript":return On(2,null,g.tagScope|1);case"select":return On(2,T.value!=null?T.value:T.defaultValue,g.tagScope);case"svg":return On(4,null,g.tagScope);case"picture":return On(2,null,g.tagScope|2);case"math":return On(5,null,g.tagScope);case"foreignObject":return On(2,null,g.tagScope);case"table":return On(6,null,g.tagScope);case"thead":case"tbody":case"tfoot":return On(7,null,g.tagScope);case"colgroup":return On(9,null,g.tagScope);case"tr":return On(8,null,g.tagScope);case"head":if(2>g.insertionMode)return On(3,null,g.tagScope);break;case"html":if(g.insertionMode===0)return On(1,null,g.tagScope)}return 6<=g.insertionMode||2>g.insertionMode?On(2,null,g.tagScope):g}var ir=ee("<!-- -->");function Xr(g,y,T,P){return y===""?P:(P&&g.push(ir),g.push(F(pt(y))),!0)}var Qr=new Map,go=ee(' style="'),gs=ee(":"),Uo=ee(";");function ha(g,y){if(typeof y!="object")throw Error(t(62));var T=!0,P;for(P in y)if(Be.call(y,P)){var O=y[P];if(O!=null&&typeof O!="boolean"&&O!==""){if(P.indexOf("--")===0){var W=F(pt(P));O=F(pt((""+O).trim()))}else W=Qr.get(P),W===void 0&&(W=ee(pt(P.replace(Os,"-$1").toLowerCase().replace(xa,"-ms-"))),Qr.set(P,W)),O=typeof O=="number"?O===0||ds.has(P)?F(""+O):F(O+"px"):F(pt((""+O).trim()));T?(T=!1,g.push(go,W,gs,O)):g.push(Uo,W,gs,O)}}T||g.push(Xn)}var di=ee(" "),Ei=ee('="'),Xn=ee('"'),hn=ee('=""');function jn(g,y,T){T&&typeof T!="function"&&typeof T!="symbol"&&g.push(di,F(y),hn)}function Gt(g,y,T){typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&g.push(di,F(y),Ei,F(pt(T)),Xn)}var Or=ee(pt("javascript:throw new Error('React form unexpectedly submitted.')")),Zi=ee('<input type="hidden"');function Je(g,y){this.push(Zi),zi(g),Gt(this,"name",y),Gt(this,"value",g),this.push(rr)}function zi(g){if(typeof g!="string")throw Error(t(480))}function mo(g,y){if(typeof y.$$FORM_ACTION=="function"){var T=g.nextFormID++;g=g.idPrefix+T;try{var P=y.$$FORM_ACTION(g);if(P){var O=P.data;O?.forEach(zi)}return P}catch(W){if(typeof W=="object"&&W!==null&&typeof W.then=="function")throw W}}return null}function da(g,y,T,P,O,W,se,be){var ue=null;if(typeof P=="function"){var pe=mo(y,P);pe!==null?(be=pe.name,P=pe.action||"",O=pe.encType,W=pe.method,se=pe.target,ue=pe.data):(g.push(di,F("formAction"),Ei,Or,Xn),se=W=O=P=be=null,Ba(y,T))}return be!=null&&Lt(g,"name",be),P!=null&&Lt(g,"formAction",P),O!=null&&Lt(g,"formEncType",O),W!=null&&Lt(g,"formMethod",W),se!=null&&Lt(g,"formTarget",se),ue}function Lt(g,y,T){switch(y){case"className":Gt(g,"class",T);break;case"tabIndex":Gt(g,"tabindex",T);break;case"dir":case"role":case"viewBox":case"width":case"height":Gt(g,y,T);break;case"style":ha(g,T);break;case"src":case"href":if(T==="")break;case"action":case"formAction":if(T==null||typeof T=="function"||typeof T=="symbol"||typeof T=="boolean")break;T=Dn(""+T),g.push(di,F(y),Ei,F(pt(T)),Xn);break;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"autoFocus":case"multiple":case"muted":jn(g,y.toLowerCase(),T);break;case"xlinkHref":if(typeof T=="function"||typeof T=="symbol"||typeof T=="boolean")break;T=Dn(""+T),g.push(di,F("xlink:href"),Ei,F(pt(T)),Xn);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":typeof T!="function"&&typeof T!="symbol"&&g.push(di,F(y),Ei,F(pt(T)),Xn);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":T&&typeof T!="function"&&typeof T!="symbol"&&g.push(di,F(y),hn);break;case"capture":case"download":T===!0?g.push(di,F(y),hn):T!==!1&&typeof T!="function"&&typeof T!="symbol"&&g.push(di,F(y),Ei,F(pt(T)),Xn);break;case"cols":case"rows":case"size":case"span":typeof T!="function"&&typeof T!="symbol"&&!isNaN(T)&&1<=T&&g.push(di,F(y),Ei,F(pt(T)),Xn);break;case"rowSpan":case"start":typeof T=="function"||typeof T=="symbol"||isNaN(T)||g.push(di,F(y),Ei,F(pt(T)),Xn);break;case"xlinkActuate":Gt(g,"xlink:actuate",T);break;case"xlinkArcrole":Gt(g,"xlink:arcrole",T);break;case"xlinkRole":Gt(g,"xlink:role",T);break;case"xlinkShow":Gt(g,"xlink:show",T);break;case"xlinkTitle":Gt(g,"xlink:title",T);break;case"xlinkType":Gt(g,"xlink:type",T);break;case"xmlBase":Gt(g,"xml:base",T);break;case"xmlLang":Gt(g,"xml:lang",T);break;case"xmlSpace":Gt(g,"xml:space",T);break;default:if((!(2<y.length)||y[0]!=="o"&&y[0]!=="O"||y[1]!=="n"&&y[1]!=="N")&&(y=pr.get(y)||y,Bt(y))){switch(typeof T){case"function":case"symbol":return;case"boolean":var P=y.toLowerCase().slice(0,5);if(P!=="data-"&&P!=="aria-")return}g.push(di,F(y),Ei,F(pt(T)),Xn)}}}var Sn=ee(">"),rr=ee("/>");function wn(g,y,T){if(y!=null){if(T!=null)throw Error(t(60));if(typeof y!="object"||!("__html"in y))throw Error(t(61));y=y.__html,y!=null&&g.push(F(""+y))}}function Ui(g){var y="";return r.Children.forEach(g,function(T){T!=null&&(y+=T)}),y}var Bn=ee(' selected=""'),Vo=ee(`addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error('React form unexpectedly submitted.')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});`);function Ba(g,y){(g.instructions&16)===0&&(g.instructions|=16,y.bootstrapChunks.unshift(y.startInlineScript,Vo,hi))}var ms=ee("<!--F!-->"),zs=ee("<!--F-->");function Si(g,y){g.push(dn("link"));for(var T in y)if(Be.call(y,T)){var P=y[T];if(P!=null)switch(T){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"link"));default:Lt(g,T,P)}}return g.push(rr),null}var Ea=/(<\/|<)(s)(tyle)/gi;function Kr(g,y,T,P){return""+y+(T==="s"?"\\73 ":"\\53 ")+P}function Jr(g,y,T){g.push(dn(T));for(var P in y)if(Be.call(y,P)){var O=y[P];if(O!=null)switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,T));default:Lt(g,P,O)}}return g.push(rr),null}function ps(g,y){g.push(dn("title"));var T=null,P=null,O;for(O in y)if(Be.call(y,O)){var W=y[O];if(W!=null)switch(O){case"children":T=W;break;case"dangerouslySetInnerHTML":P=W;break;default:Lt(g,O,W)}}return g.push(Sn),y=Array.isArray(T)?2>T.length?T[0]:null:T,typeof y!="function"&&typeof y!="symbol"&&y!==null&&y!==void 0&&g.push(F(pt(""+y))),wn(g,P,T),g.push(Ni("title")),null}function sr(g,y){g.push(dn("script"));var T=null,P=null,O;for(O in y)if(Be.call(y,O)){var W=y[O];if(W!=null)switch(O){case"children":T=W;break;case"dangerouslySetInnerHTML":P=W;break;default:Lt(g,O,W)}}return g.push(Sn),wn(g,P,T),typeof T=="string"&&g.push(F((""+T).replace(Ta,ca))),g.push(Ni("script")),null}function ii(g,y,T){g.push(dn(T));var P=T=null,O;for(O in y)if(Be.call(y,O)){var W=y[O];if(W!=null)switch(O){case"children":T=W;break;case"dangerouslySetInnerHTML":P=W;break;default:Lt(g,O,W)}}return g.push(Sn),wn(g,P,T),T}function _r(g,y,T){g.push(dn(T));var P=T=null,O;for(O in y)if(Be.call(y,O)){var W=y[O];if(W!=null)switch(O){case"children":T=W;break;case"dangerouslySetInnerHTML":P=W;break;default:Lt(g,O,W)}}return g.push(Sn),wn(g,P,T),typeof T=="string"?(g.push(F(pt(T))),null):T}var ys=ee(`
`),_s=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Sa=new Map;function dn(g){var y=Sa.get(g);if(y===void 0){if(!_s.test(g))throw Error(t(65,g));y=ee("<"+g),Sa.set(g,y)}return y}var Mt=ee("<!DOCTYPE html>");function pn(g,y,T,P,O,W,se,be,ue,pe){switch(y){case"div":case"span":case"svg":case"path":break;case"a":g.push(dn("a"));var He=null,Pe=null,tt;for(tt in T)if(Be.call(T,tt)){var st=T[tt];if(st!=null)switch(tt){case"children":He=st;break;case"dangerouslySetInnerHTML":Pe=st;break;case"href":st===""?Gt(g,"href",""):Lt(g,tt,st);break;default:Lt(g,tt,st)}}if(g.push(Sn),wn(g,Pe,He),typeof He=="string"){g.push(F(pt(He)));var ft=null}else ft=He;return ft;case"g":case"p":case"li":break;case"select":g.push(dn("select"));var At=null,kn=null,Hn;for(Hn in T)if(Be.call(T,Hn)){var Zt=T[Hn];if(Zt!=null)switch(Hn){case"children":At=Zt;break;case"dangerouslySetInnerHTML":kn=Zt;break;case"defaultValue":case"value":break;default:Lt(g,Hn,Zt)}}return g.push(Sn),wn(g,kn,At),At;case"option":var fr=be.selectedValue;g.push(dn("option"));var li=null,Rr=null,$n=null,Tt=null,jt;for(jt in T)if(Be.call(T,jt)){var Ft=T[jt];if(Ft!=null)switch(jt){case"children":li=Ft;break;case"selected":$n=Ft;break;case"dangerouslySetInnerHTML":Tt=Ft;break;case"value":Rr=Ft;default:Lt(g,jt,Ft)}}if(fr!=null){var _i=Rr!==null?""+Rr:Ui(li);if(Qe(fr)){for(var Pn=0;Pn<fr.length;Pn++)if(""+fr[Pn]===_i){g.push(Bn);break}}else""+fr===_i&&g.push(Bn)}else $n&&g.push(Bn);return g.push(Sn),wn(g,Tt,li),li;case"textarea":g.push(dn("textarea"));var vi=null,no=null,ea=null,Rs;for(Rs in T)if(Be.call(T,Rs)){var gl=T[Rs];if(gl!=null)switch(Rs){case"children":ea=gl;break;case"value":vi=gl;break;case"defaultValue":no=gl;break;case"dangerouslySetInnerHTML":throw Error(t(91));default:Lt(g,Rs,gl)}}if(vi===null&&no!==null&&(vi=no),g.push(Sn),ea!=null){if(vi!=null)throw Error(t(92));if(Qe(ea)){if(1<ea.length)throw Error(t(93));vi=""+ea[0]}vi=""+ea}return typeof vi=="string"&&vi[0]===`
`&&g.push(ys),vi!==null&&g.push(F(pt(""+vi))),null;case"input":g.push(dn("input"));var Gn=null,Wu=null,Xu=null,Jh=null,qh=null,$h=null,nu=null,iu=null,ru=null,Cr;for(Cr in T)if(Be.call(T,Cr)){var Rn=T[Cr];if(Rn!=null)switch(Cr){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"input"));case"name":Gn=Rn;break;case"formAction":Wu=Rn;break;case"formEncType":Xu=Rn;break;case"formMethod":Jh=Rn;break;case"formTarget":qh=Rn;break;case"defaultChecked":ru=Rn;break;case"defaultValue":nu=Rn;break;case"checked":iu=Rn;break;case"value":$h=Rn;break;default:Lt(g,Cr,Rn)}}var Qu=da(g,P,O,Wu,Xu,Jh,qh,Gn);return iu!==null?jn(g,"checked",iu):ru!==null&&jn(g,"checked",ru),$h!==null?Lt(g,"value",$h):nu!==null&&Lt(g,"value",nu),g.push(rr),Qu?.forEach(Je,g),null;case"button":g.push(dn("button"));var Xo=null,su=null,Ku=null,Ro=null,au=null,Ju=null,qu=null,sc;for(sc in T)if(Be.call(T,sc)){var Co=T[sc];if(Co!=null)switch(sc){case"children":Xo=Co;break;case"dangerouslySetInnerHTML":su=Co;break;case"name":Ku=Co;break;case"formAction":Ro=Co;break;case"formEncType":au=Co;break;case"formMethod":Ju=Co;break;case"formTarget":qu=Co;break;default:Lt(g,sc,Co)}}var ed=da(g,P,O,Ro,au,Ju,qu,Ku);if(g.push(Sn),ed?.forEach(Je,g),wn(g,su,Xo),typeof Xo=="string"){g.push(F(pt(Xo)));var td=null}else td=Xo;return td;case"form":g.push(dn("form"));var ac=null,nd=null,Qo=null,oc=null,ou=null,lc=null,cc;for(cc in T)if(Be.call(T,cc)){var Ko=T[cc];if(Ko!=null)switch(cc){case"children":ac=Ko;break;case"dangerouslySetInnerHTML":nd=Ko;break;case"action":Qo=Ko;break;case"encType":oc=Ko;break;case"method":ou=Ko;break;case"target":lc=Ko;break;default:Lt(g,cc,Ko)}}var lu=null,$u=null;if(typeof Qo=="function"){var ml=mo(P,Qo);ml!==null?(Qo=ml.action||"",oc=ml.encType,ou=ml.method,lc=ml.target,lu=ml.data,$u=ml.name):(g.push(di,F("action"),Ei,Or,Xn),lc=ou=oc=Qo=null,Ba(P,O))}if(Qo!=null&&Lt(g,"action",Qo),oc!=null&&Lt(g,"encType",oc),ou!=null&&Lt(g,"method",ou),lc!=null&&Lt(g,"target",lc),g.push(Sn),$u!==null&&(g.push(Zi),Gt(g,"name",$u),g.push(rr),lu?.forEach(Je,g)),wn(g,nd,ac),typeof ac=="string"){g.push(F(pt(ac)));var id=null}else id=ac;return id;case"menuitem":g.push(dn("menuitem"));for(var cu in T)if(Be.call(T,cu)){var rd=T[cu];if(rd!=null)switch(cu){case"children":case"dangerouslySetInnerHTML":throw Error(t(400));default:Lt(g,cu,rd)}}return g.push(Sn),null;case"object":g.push(dn("object"));var uu=null,sd=null,Io;for(Io in T)if(Be.call(T,Io)){var pl=T[Io];if(pl!=null)switch(Io){case"children":uu=pl;break;case"dangerouslySetInnerHTML":sd=pl;break;case"data":var ad=Dn(""+pl);if(ad==="")break;g.push(di,F("data"),Ei,F(pt(ad)),Xn);break;default:Lt(g,Io,pl)}}if(g.push(Sn),wn(g,sd,uu),typeof uu=="string"){g.push(F(pt(uu)));var hu=null}else hu=uu;return hu;case"title":if(be.insertionMode===4||be.tagScope&1||T.itemProp!=null)var jl=ps(g,T);else pe?jl=null:(ps(O.hoistableChunks,T),jl=void 0);return jl;case"link":var Ef=T.rel,Jo=T.href,du=T.precedence;if(be.insertionMode===4||be.tagScope&1||T.itemProp!=null||typeof Ef!="string"||typeof Jo!="string"||Jo===""){Si(g,T);var uc=null}else if(T.rel==="stylesheet")if(typeof du!="string"||T.disabled!=null||T.onLoad||T.onError)uc=Si(g,T);else{var Bl=O.styles.get(du),fu=P.styleResources.hasOwnProperty(Jo)?P.styleResources[Jo]:void 0;if(fu!==null){P.styleResources[Jo]=null,Bl||(Bl={precedence:F(pt(du)),rules:[],hrefs:[],sheets:new Map},O.styles.set(du,Bl));var hc={state:0,props:Me({},T,{"data-precedence":T.precedence,precedence:null})};if(fu){fu.length===2&&Ts(hc.props,fu);var eh=O.preloads.stylesheets.get(Jo);eh&&0<eh.length?eh.length=0:hc.state=1}Bl.sheets.set(Jo,hc),se&&se.stylesheets.add(hc)}else if(Bl){var od=Bl.sheets.get(Jo);od&&se&&se.stylesheets.add(od)}ue&&g.push(ir),uc=null}else T.onLoad||T.onError?uc=Si(g,T):(ue&&g.push(ir),uc=pe?null:Si(O.hoistableChunks,T));return uc;case"script":var gu=T.async;if(typeof T.src!="string"||!T.src||!gu||typeof gu=="function"||typeof gu=="symbol"||T.onLoad||T.onError||be.insertionMode===4||be.tagScope&1||T.itemProp!=null)var ld=sr(g,T);else{var mu=T.src;if(T.type==="module")var th=P.moduleScriptResources,nh=O.preloads.moduleScripts;else th=P.scriptResources,nh=O.preloads.scripts;var pu=th.hasOwnProperty(mu)?th[mu]:void 0;if(pu!==null){th[mu]=null;var ih=T;if(pu){pu.length===2&&(ih=Me({},T),Ts(ih,pu));var rh=nh.get(mu);rh&&(rh.length=0)}var cd=[];O.scripts.add(cd),sr(cd,ih)}ue&&g.push(ir),ld=null}return ld;case"style":var yu=T.precedence,Fl=T.href;if(be.insertionMode===4||be.tagScope&1||T.itemProp!=null||typeof yu!="string"||typeof Fl!="string"||Fl===""){g.push(dn("style"));var dc=null,ud=null,qo;for(qo in T)if(Be.call(T,qo)){var fc=T[qo];if(fc!=null)switch(qo){case"children":dc=fc;break;case"dangerouslySetInnerHTML":ud=fc;break;default:Lt(g,qo,fc)}}g.push(Sn);var yl=Array.isArray(dc)?2>dc.length?dc[0]:null:dc;typeof yl!="function"&&typeof yl!="symbol"&&yl!==null&&yl!==void 0&&g.push(F((""+yl).replace(Ea,Kr))),wn(g,ud,dc),g.push(Ni("style"));var hd=null}else{var _l=O.styles.get(yu);if((P.styleResources.hasOwnProperty(Fl)?P.styleResources[Fl]:void 0)!==null){P.styleResources[Fl]=null,_l?_l.hrefs.push(F(pt(Fl))):(_l={precedence:F(pt(yu)),rules:[],hrefs:[F(pt(Fl))],sheets:new Map},O.styles.set(yu,_l));var _u=_l.rules,Hl=null,dd=null,sh;for(sh in T)if(Be.call(T,sh)){var vl=T[sh];if(vl!=null)switch(sh){case"children":Hl=vl;break;case"dangerouslySetInnerHTML":dd=vl}}var $o=Array.isArray(Hl)?2>Hl.length?Hl[0]:null:Hl;typeof $o!="function"&&typeof $o!="symbol"&&$o!==null&&$o!==void 0&&_u.push(F((""+$o).replace(Ea,Kr))),wn(_u,dd,Hl)}_l&&se&&se.styles.add(_l),ue&&g.push(ir),hd=void 0}return hd;case"meta":if(be.insertionMode===4||be.tagScope&1||T.itemProp!=null)var vu=Jr(g,T,"meta");else ue&&g.push(ir),vu=pe?null:typeof T.charSet=="string"?Jr(O.charsetChunks,T,"meta"):T.name==="viewport"?Jr(O.viewportChunks,T,"meta"):Jr(O.hoistableChunks,T,"meta");return vu;case"listing":case"pre":g.push(dn(y));var el=null,bl=null,gc;for(gc in T)if(Be.call(T,gc)){var bu=T[gc];if(bu!=null)switch(gc){case"children":el=bu;break;case"dangerouslySetInnerHTML":bl=bu;break;default:Lt(g,gc,bu)}}if(g.push(Sn),bl!=null){if(el!=null)throw Error(t(60));if(typeof bl!="object"||!("__html"in bl))throw Error(t(61));var Ma=bl.__html;Ma!=null&&(typeof Ma=="string"&&0<Ma.length&&Ma[0]===`
`?g.push(ys,F(Ma)):g.push(F(""+Ma)))}return typeof el=="string"&&el[0]===`
`&&g.push(ys),el;case"img":var Zr=T.src,Un=T.srcSet;if(!(T.loading==="lazy"||!Zr&&!Un||typeof Zr!="string"&&Zr!=null||typeof Un!="string"&&Un!=null)&&T.fetchPriority!=="low"&&!(be.tagScope&3)&&(typeof Zr!="string"||Zr[4]!==":"||Zr[0]!=="d"&&Zr[0]!=="D"||Zr[1]!=="a"&&Zr[1]!=="A"||Zr[2]!=="t"&&Zr[2]!=="T"||Zr[3]!=="a"&&Zr[3]!=="A")&&(typeof Un!="string"||Un[4]!==":"||Un[0]!=="d"&&Un[0]!=="D"||Un[1]!=="a"&&Un[1]!=="A"||Un[2]!=="t"&&Un[2]!=="T"||Un[3]!=="a"&&Un[3]!=="A")){var io=typeof T.sizes=="string"?T.sizes:void 0,va=Un?Un+`
`+(io||""):Zr,ah=O.preloads.images,ta=ah.get(va);if(ta)(T.fetchPriority==="high"||10>O.highImagePreloads.size)&&(ah.delete(va),O.highImagePreloads.add(ta));else if(!P.imageResources.hasOwnProperty(va)){P.imageResources[va]=ni;var ro=T.crossOrigin,tr=typeof ro=="string"?ro==="use-credentials"?ro:"":void 0,ko=O.headers,xu;ko&&0<ko.remainingCapacity&&typeof T.srcSet!="string"&&(T.fetchPriority==="high"||500>ko.highImagePreloads.length)&&(xu=Zs(Zr,"image",{imageSrcSet:T.srcSet,imageSizes:T.sizes,crossOrigin:tr,integrity:T.integrity,nonce:T.nonce,type:T.type,fetchPriority:T.fetchPriority,referrerPolicy:T.refererPolicy}),0<=(ko.remainingCapacity-=xu.length+2))?(O.resets.image[va]=ni,ko.highImagePreloads&&(ko.highImagePreloads+=", "),ko.highImagePreloads+=xu):(ta=[],Si(ta,{rel:"preload",as:"image",href:Un?void 0:Zr,imageSrcSet:Un,imageSizes:io,crossOrigin:tr,integrity:T.integrity,type:T.type,fetchPriority:T.fetchPriority,referrerPolicy:T.referrerPolicy}),T.fetchPriority==="high"||10>O.highImagePreloads.size?O.highImagePreloads.add(ta):(O.bulkPreloads.add(ta),ah.set(va,ta)))}}return Jr(g,T,"img");case"base":case"area":case"br":case"col":case"embed":case"hr":case"keygen":case"param":case"source":case"track":case"wbr":return Jr(g,T,y);case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":break;case"head":if(2>be.insertionMode){var wu=W||O.preamble;if(wu.headChunks)throw Error(t(545,"`<head>`"));wu.headChunks=[];var fd=ii(wu.headChunks,T,"head")}else fd=_r(g,T,"head");return fd;case"body":if(2>be.insertionMode){var oh=W||O.preamble;if(oh.bodyChunks)throw Error(t(545,"`<body>`"));oh.bodyChunks=[];var xl=ii(oh.bodyChunks,T,"body")}else xl=_r(g,T,"body");return xl;case"html":if(be.insertionMode===0){var mc=W||O.preamble;if(mc.htmlChunks)throw Error(t(545,"`<html>`"));mc.htmlChunks=[Mt];var gd=ii(mc.htmlChunks,T,"html")}else gd=_r(g,T,"html");return gd;default:if(y.indexOf("-")!==-1){g.push(dn(y));var lh=null,md=null,tl;for(tl in T)if(Be.call(T,tl)){var Da=T[tl];if(Da!=null){var ch=tl;switch(tl){case"children":lh=Da;break;case"dangerouslySetInnerHTML":md=Da;break;case"style":ha(g,Da);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"className":ch="class";default:if(Bt(tl)&&typeof Da!="function"&&typeof Da!="symbol"&&Da!==!1){if(Da===!0)Da="";else if(typeof Da=="object")continue;g.push(di,F(ch),Ei,F(pt(Da)),Xn)}}}}return g.push(Sn),wn(g,md,lh),lh}}return _r(g,T,y)}var Ai=new Map;function Ni(g){var y=Ai.get(g);return y===void 0&&(y=ee("</"+g+">"),Ai.set(g,y)),y}function Us(g,y){g=g.preamble,g.htmlChunks===null&&y.htmlChunks&&(g.htmlChunks=y.htmlChunks,y.contribution|=1),g.headChunks===null&&y.headChunks&&(g.headChunks=y.headChunks,y.contribution|=4),g.bodyChunks===null&&y.bodyChunks&&(g.bodyChunks=y.bodyChunks,y.contribution|=2)}function ar(g,y){y=y.bootstrapChunks;for(var T=0;T<y.length-1;T++)$(g,y[T]);return T<y.length?(T=y[T],y.length=0,le(g,T)):!0}var bt=ee('<template id="'),yn=ee('"></template>'),po=ee("<!--$-->"),Ln=ee('<!--$?--><template id="'),In=ee('"></template>'),vr=ee("<!--$!-->"),or=ee("<!--/$-->"),lr=ee("<template"),yt=ee('"'),Yi=ee(' data-dgst="');ee(' data-msg="'),ee(' data-stck="'),ee(' data-cstck="');var Wi=ee("></template>");function qr(g,y,T){if($(g,Ln),T===null)throw Error(t(395));return $(g,y.boundaryPrefix),$(g,F(T.toString(16))),le(g,In)}var yo=ee("<!--"),cr=ee("-->");function vs(g,y){y=y.contribution,y!==0&&($(g,yo),$(g,F(""+y)),$(g,cr))}var jo=ee('<div hidden id="'),fa=ee('">'),bs=ee("</div>"),xs=ee('<svg aria-hidden="true" style="display:none" id="'),ur=ee('">'),ki=ee("</svg>"),Lr=ee('<math aria-hidden="true" style="display:none" id="'),Fa=ee('">'),ht=ee("</math>"),Xi=ee('<table hidden id="'),ot=ee('">'),Qi=ee("</table>"),Vi=ee('<table hidden><tbody id="'),zr=ee('">'),Ki=ee("</tbody></table>"),Pi=ee('<table hidden><tr id="'),br=ee('">'),xr=ee("</tr></table>"),Qt=ee('<table hidden><colgroup id="'),Ri=ee('">'),wr=ee("</colgroup></table>");function fi(g,y,T,P){switch(T.insertionMode){case 0:case 1:case 3:case 2:return $(g,jo),$(g,y.segmentPrefix),$(g,F(P.toString(16))),le(g,fa);case 4:return $(g,xs),$(g,y.segmentPrefix),$(g,F(P.toString(16))),le(g,ur);case 5:return $(g,Lr),$(g,y.segmentPrefix),$(g,F(P.toString(16))),le(g,Fa);case 6:return $(g,Xi),$(g,y.segmentPrefix),$(g,F(P.toString(16))),le(g,ot);case 7:return $(g,Vi),$(g,y.segmentPrefix),$(g,F(P.toString(16))),le(g,zr);case 8:return $(g,Pi),$(g,y.segmentPrefix),$(g,F(P.toString(16))),le(g,br);case 9:return $(g,Qt),$(g,y.segmentPrefix),$(g,F(P.toString(16))),le(g,Ri);default:throw Error(t(397))}}function qt(g,y){switch(y.insertionMode){case 0:case 1:case 3:case 2:return le(g,bs);case 4:return le(g,ki);case 5:return le(g,ht);case 6:return le(g,Qi);case 7:return le(g,Ki);case 8:return le(g,xr);case 9:return le(g,wr);default:throw Error(t(397))}}var $r=ee('$RS=function(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),Ur=ee('$RS("'),Bo=ee('","'),Aa=ee('")<\/script>');ee('<template data-rsi="" data-sid="'),ee('" data-pid="');var kt=ee('$RC=function(b,c,e){c=document.getElementById(c);c.parentNode.removeChild(c);var a=document.getElementById(b);if(a){b=a.previousSibling;if(e)b.data="$!",a.setAttribute("data-dgst",e);else{e=b.parentNode;a=b.nextSibling;var f=0;do{if(a&&8===a.nodeType){var d=a.data;if("/$"===d)if(0===f)break;else f--;else"$"!==d&&"$?"!==d&&"$!"!==d||f++}d=a.nextSibling;e.removeChild(a);a=d}while(a);for(;c.firstChild;)e.insertBefore(c.firstChild,a);b.data="$"}b._reactRetry&&b._reactRetry()}};$RC("'),Vs=ee('$RC("'),ji=ee(`$RC=function(b,c,e){c=document.getElementById(c);c.parentNode.removeChild(c);var a=document.getElementById(b);if(a){b=a.previousSibling;if(e)b.data="$!",a.setAttribute("data-dgst",e);else{e=b.parentNode;a=b.nextSibling;var f=0;do{if(a&&8===a.nodeType){var d=a.data;if("/$"===d)if(0===f)break;else f--;else"$"!==d&&"$?"!==d&&"$!"!==d||f++}d=a.nextSibling;e.removeChild(a);a=d}while(a);for(;c.firstChild;)e.insertBefore(c.firstChild,a);b.data="$"}b._reactRetry&&b._reactRetry()}};$RM=new Map;
$RR=function(t,u,y){function v(n){this._p=null;n()}for(var w=$RC,p=$RM,q=new Map,r=document,g,b,h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=[],k=0;b=h[k++];)"not all"===b.getAttribute("media")?x.push(b):("LINK"===b.tagName&&p.set(b.getAttribute("href"),b),q.set(b.dataset.precedence,g=b));b=0;h=[];var l,a;for(k=!0;;){if(k){var e=y[b++];if(!e){k=!1;b=0;continue}var c=!1,m=0;var d=e[m++];if(a=p.get(d)){var f=a._p;c=!0}else{a=r.createElement("link");a.href=
d;a.rel="stylesheet";for(a.dataset.precedence=l=e[m++];f=e[m++];)a.setAttribute(f,e[m++]);f=a._p=new Promise(function(n,z){a.onload=v.bind(a,n);a.onerror=v.bind(a,z)});p.set(d,a)}d=a.getAttribute("media");!f||d&&!matchMedia(d).matches||h.push(f);if(c)continue}else{a=x[b++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=q.get(l)||g;c===g&&(g=a);q.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=r.head,c.insertBefore(a,c.firstChild))}Promise.all(h).then(w.bind(null,
t,u,""),w.bind(null,t,u,"Resource failed to load"))};$RR("`),Ji=ee(`$RM=new Map;
$RR=function(t,u,y){function v(n){this._p=null;n()}for(var w=$RC,p=$RM,q=new Map,r=document,g,b,h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=[],k=0;b=h[k++];)"not all"===b.getAttribute("media")?x.push(b):("LINK"===b.tagName&&p.set(b.getAttribute("href"),b),q.set(b.dataset.precedence,g=b));b=0;h=[];var l,a;for(k=!0;;){if(k){var e=y[b++];if(!e){k=!1;b=0;continue}var c=!1,m=0;var d=e[m++];if(a=p.get(d)){var f=a._p;c=!0}else{a=r.createElement("link");a.href=
d;a.rel="stylesheet";for(a.dataset.precedence=l=e[m++];f=e[m++];)a.setAttribute(f,e[m++]);f=a._p=new Promise(function(n,z){a.onload=v.bind(a,n);a.onerror=v.bind(a,z)});p.set(d,a)}d=a.getAttribute("media");!f||d&&!matchMedia(d).matches||h.push(f);if(c)continue}else{a=x[b++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=q.get(l)||g;c===g&&(g=a);q.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=r.head,c.insertBefore(a,c.firstChild))}Promise.all(h).then(w.bind(null,
t,u,""),w.bind(null,t,u,"Resource failed to load"))};$RR("`),_o=ee('$RR("'),ll=ee('","'),ga=ee('",'),js=ee('"'),Ha=ee(")<\/script>");ee('<template data-rci="" data-bid="'),ee('<template data-rri="" data-bid="'),ee('" data-sid="'),ee('" data-sty="');var ma=ee('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};;$RX("'),cl=ee('$RX("'),Bs=ee('"'),ul=ee(","),Ci=ee(")<\/script>");ee('<template data-rxi="" data-bid="'),ee('" data-dgst="'),ee('" data-msg="'),ee('" data-stck="'),ee('" data-cstck="');var pa=/[<\u2028\u2029]/g;function Na(g){return JSON.stringify(g).replace(pa,function(y){switch(y){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var es=/[&><\u2028\u2029]/g;function Fs(g){return JSON.stringify(g).replace(es,function(y){switch(y){case"&":return"\\u0026";case">":return"\\u003e";case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSObjectForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var Vr=ee('<style media="not all" data-precedence="'),vo=ee('" data-href="'),bo=ee('">'),ri=ee("</style>"),Hs=!1,hr=!0;function Ra(g){var y=g.rules,T=g.hrefs,P=0;if(T.length){for($(this,Vr),$(this,g.precedence),$(this,vo);P<T.length-1;P++)$(this,T[P]),$(this,qi);for($(this,T[P]),$(this,bo),P=0;P<y.length;P++)$(this,y[P]);hr=le(this,ri),Hs=!0,y.length=0,T.length=0}}function Ga(g){return g.state!==2?Hs=!0:!1}function Gs(g,y,T){return Hs=!1,hr=!0,y.styles.forEach(Ra,g),y.stylesheets.forEach(Ga),Hs&&(T.stylesToHoist=!0),hr}function gi(g){for(var y=0;y<g.length;y++)$(this,g[y]);g.length=0}var mi=[];function an(g){Si(mi,g.props);for(var y=0;y<mi.length;y++)$(this,mi[y]);mi.length=0,g.state=2}var Tr=ee('<style data-precedence="'),Fo=ee('" data-href="'),qi=ee(" "),f=ee('">'),R=ee("</style>");function k(g){var y=0<g.sheets.size;g.sheets.forEach(an,this),g.sheets.clear();var T=g.rules,P=g.hrefs;if(!y||P.length){if($(this,Tr),$(this,g.precedence),g=0,P.length){for($(this,Fo);g<P.length-1;g++)$(this,P[g]),$(this,qi);$(this,P[g])}for($(this,f),g=0;g<T.length;g++)$(this,T[g]);$(this,R),T.length=0,P.length=0}}function G(g){if(g.state===0){g.state=1;var y=g.props;for(Si(mi,{rel:"preload",as:"style",href:g.props.href,crossOrigin:y.crossOrigin,fetchPriority:y.fetchPriority,integrity:y.integrity,media:y.media,hrefLang:y.hrefLang,referrerPolicy:y.referrerPolicy}),g=0;g<mi.length;g++)$(this,mi[g]);mi.length=0}}function me(g){g.sheets.forEach(G,this),g.sheets.clear()}var Ee=ee("["),Ze=ee(",["),zt=ee(","),$t=ee("]");function Wt(g,y){$(g,Ee);var T=Ee;y.stylesheets.forEach(function(P){if(P.state!==2)if(P.state===3)$(g,T),$(g,F(Fs(""+P.props.href))),$(g,$t),T=Ze;else{$(g,T);var O=P.props["data-precedence"],W=P.props,se=Dn(""+P.props.href);$(g,F(Fs(se))),O=""+O,$(g,zt),$(g,F(Fs(O)));for(var be in W)if(Be.call(W,be)&&(O=W[be],O!=null))switch(be){case"href":case"rel":case"precedence":case"data-precedence":break;case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"link"));default:en(g,be,O)}$(g,$t),T=Ze,P.state=3}}),$(g,$t)}function en(g,y,T){var P=y.toLowerCase();switch(typeof T){case"function":case"symbol":return}switch(y){case"innerHTML":case"dangerouslySetInnerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"style":case"ref":return;case"className":P="class",y=""+T;break;case"hidden":if(T===!1)return;y="";break;case"src":case"href":T=Dn(T),y=""+T;break;default:if(2<y.length&&(y[0]==="o"||y[0]==="O")&&(y[1]==="n"||y[1]==="N")||!Bt(y))return;y=""+T}$(g,zt),$(g,F(Fs(P))),$(g,zt),$(g,F(Fs(y)))}function An(){return{styles:new Set,stylesheets:new Set}}function ws(g){var y=Xt||null;if(y){var T=y.resumableState,P=y.renderState;if(typeof g=="string"&&g){if(!T.dnsResources.hasOwnProperty(g)){T.dnsResources[g]=null,T=P.headers;var O,W;(W=T&&0<T.remainingCapacity)&&(W=(O="<"+(""+g).replace(Sr,Es)+">; rel=dns-prefetch",0<=(T.remainingCapacity-=O.length+2))),W?(P.resets.dns[g]=null,T.preconnects&&(T.preconnects+=", "),T.preconnects+=O):(O=[],Si(O,{href:g,rel:"dns-prefetch"}),P.preconnects.add(O))}eo(y)}}else Hi.D(g)}function Tn(g,y){var T=Xt||null;if(T){var P=T.resumableState,O=T.renderState;if(typeof g=="string"&&g){var W=y==="use-credentials"?"credentials":typeof y=="string"?"anonymous":"default";if(!P.connectResources[W].hasOwnProperty(g)){P.connectResources[W][g]=null,P=O.headers;var se,be;if(be=P&&0<P.remainingCapacity){if(be="<"+(""+g).replace(Sr,Es)+">; rel=preconnect",typeof y=="string"){var ue=(""+y).replace(wo,To);be+='; crossorigin="'+ue+'"'}be=(se=be,0<=(P.remainingCapacity-=se.length+2))}be?(O.resets.connect[W][g]=null,P.preconnects&&(P.preconnects+=", "),P.preconnects+=se):(W=[],Si(W,{rel:"preconnect",href:g,crossOrigin:y}),O.preconnects.add(W))}eo(T)}}else Hi.C(g,y)}function jr(g,y,T){var P=Xt||null;if(P){var O=P.resumableState,W=P.renderState;if(y&&g){switch(y){case"image":if(T)var se=T.imageSrcSet,be=T.imageSizes,ue=T.fetchPriority;var pe=se?se+`
`+(be||""):g;if(O.imageResources.hasOwnProperty(pe))return;O.imageResources[pe]=ni,O=W.headers;var He;O&&0<O.remainingCapacity&&typeof se!="string"&&ue==="high"&&(He=Zs(g,y,T),0<=(O.remainingCapacity-=He.length+2))?(W.resets.image[pe]=ni,O.highImagePreloads&&(O.highImagePreloads+=", "),O.highImagePreloads+=He):(O=[],Si(O,Me({rel:"preload",href:se?void 0:g,as:y},T)),ue==="high"?W.highImagePreloads.add(O):(W.bulkPreloads.add(O),W.preloads.images.set(pe,O)));break;case"style":if(O.styleResources.hasOwnProperty(g))return;se=[],Si(se,Me({rel:"preload",href:g,as:y},T)),O.styleResources[g]=!T||typeof T.crossOrigin!="string"&&typeof T.integrity!="string"?ni:[T.crossOrigin,T.integrity],W.preloads.stylesheets.set(g,se),W.bulkPreloads.add(se);break;case"script":if(O.scriptResources.hasOwnProperty(g))return;se=[],W.preloads.scripts.set(g,se),W.bulkPreloads.add(se),Si(se,Me({rel:"preload",href:g,as:y},T)),O.scriptResources[g]=!T||typeof T.crossOrigin!="string"&&typeof T.integrity!="string"?ni:[T.crossOrigin,T.integrity];break;default:if(O.unknownResources.hasOwnProperty(y)){if(se=O.unknownResources[y],se.hasOwnProperty(g))return}else se={},O.unknownResources[y]=se;if(se[g]=ni,(O=W.headers)&&0<O.remainingCapacity&&y==="font"&&(pe=Zs(g,y,T),0<=(O.remainingCapacity-=pe.length+2)))W.resets.font[g]=ni,O.fontPreloads&&(O.fontPreloads+=", "),O.fontPreloads+=pe;else switch(O=[],g=Me({rel:"preload",href:g,as:y},T),Si(O,g),y){case"font":W.fontPreloads.add(O);break;default:W.bulkPreloads.add(O)}}eo(P)}}else Hi.L(g,y,T)}function Er(g,y){var T=Xt||null;if(T){var P=T.resumableState,O=T.renderState;if(g){var W=y&&typeof y.as=="string"?y.as:"script";switch(W){case"script":if(P.moduleScriptResources.hasOwnProperty(g))return;W=[],P.moduleScriptResources[g]=!y||typeof y.crossOrigin!="string"&&typeof y.integrity!="string"?ni:[y.crossOrigin,y.integrity],O.preloads.moduleScripts.set(g,W);break;default:if(P.moduleUnknownResources.hasOwnProperty(W)){var se=P.unknownResources[W];if(se.hasOwnProperty(g))return}else se={},P.moduleUnknownResources[W]=se;W=[],se[g]=ni}Si(W,Me({rel:"modulepreload",href:g},y)),O.bulkPreloads.add(W),eo(T)}}else Hi.m(g,y)}function xo(g,y,T){var P=Xt||null;if(P){var O=P.resumableState,W=P.renderState;if(g){y=y||"default";var se=W.styles.get(y),be=O.styleResources.hasOwnProperty(g)?O.styleResources[g]:void 0;be!==null&&(O.styleResources[g]=null,se||(se={precedence:F(pt(y)),rules:[],hrefs:[],sheets:new Map},W.styles.set(y,se)),y={state:0,props:Me({rel:"stylesheet",href:g,"data-precedence":y},T)},be&&(be.length===2&&Ts(y.props,be),(W=W.preloads.stylesheets.get(g))&&0<W.length?W.length=0:y.state=1),se.sheets.set(g,y),eo(P))}}else Hi.S(g,y,T)}function Za(g,y){var T=Xt||null;if(T){var P=T.resumableState,O=T.renderState;if(g){var W=P.scriptResources.hasOwnProperty(g)?P.scriptResources[g]:void 0;W!==null&&(P.scriptResources[g]=null,y=Me({src:g,async:!0},y),W&&(W.length===2&&Ts(y,W),g=O.preloads.scripts.get(g))&&(g.length=0),g=[],O.scripts.add(g),sr(g,y),eo(T))}}else Hi.X(g,y)}function Ho(g,y){var T=Xt||null;if(T){var P=T.resumableState,O=T.renderState;if(g){var W=P.moduleScriptResources.hasOwnProperty(g)?P.moduleScriptResources[g]:void 0;W!==null&&(P.moduleScriptResources[g]=null,y=Me({src:g,type:"module",async:!0},y),W&&(W.length===2&&Ts(y,W),g=O.preloads.moduleScripts.get(g))&&(g.length=0),g=[],O.scripts.add(g),sr(g,y),eo(T))}}else Hi.M(g,y)}function Ts(g,y){g.crossOrigin==null&&(g.crossOrigin=y[0]),g.integrity==null&&(g.integrity=y[1])}function Zs(g,y,T){g=(""+g).replace(Sr,Es),y=(""+y).replace(wo,To),y="<"+g+'>; rel=preload; as="'+y+'"';for(var P in T)Be.call(T,P)&&(g=T[P],typeof g=="string"&&(y+="; "+P.toLowerCase()+'="'+(""+g).replace(wo,To)+'"'));return y}var Sr=/[<>\r\n]/g;function Es(g){switch(g){case"<":return"%3C";case">":return"%3E";case`
`:return"%0A";case"\r":return"%0D";default:throw Error("escapeLinkHrefForHeaderContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}var wo=/["';,\r\n]/g;function To(g){switch(g){case'"':return"%22";case"'":return"%27";case";":return"%3B";case",":return"%2C";case`
`:return"%0A";case"\r":return"%0D";default:throw Error("escapeStringForLinkHeaderQuotedParamValueContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}function Ul(g){this.styles.add(g)}function Br(g){this.stylesheets.add(g)}var Ya=Function.prototype.bind,Eo=Symbol.for("react.client.reference");function $i(g){if(g==null)return null;if(typeof g=="function")return g.$$typeof===Eo?null:g.displayName||g.name||null;if(typeof g=="string")return g;switch(g){case d:return"Fragment";case E:return"Profiler";case v:return"StrictMode";case V:return"Suspense";case Q:return"SuspenseList";case _e:return"Activity"}if(typeof g=="object")switch(g.$$typeof){case l:return"Portal";case M:return(g.displayName||"Context")+".Provider";case N:return(g._context.displayName||"Context")+".Consumer";case j:var y=g.render;return g=g.displayName,g||(g=y.displayName||y.name||"",g=g!==""?"ForwardRef("+g+")":"ForwardRef"),g;case te:return y=g.displayName||null,y!==null?y:$i(g.type)||"Memo";case J:y=g._payload,g=g._init;try{return $i(g(y))}catch{}}return null}var Ar={},ts=null;function m(g,y){if(g!==y){g.context._currentValue=g.parentValue,g=g.parent;var T=y.parent;if(g===null){if(T!==null)throw Error(t(401))}else{if(T===null)throw Error(t(401));m(g,T)}y.context._currentValue=y.value}}function b(g){g.context._currentValue=g.parentValue,g=g.parent,g!==null&&b(g)}function S(g){var y=g.parent;y!==null&&S(y),g.context._currentValue=g.value}function I(g,y){if(g.context._currentValue=g.parentValue,g=g.parent,g===null)throw Error(t(402));g.depth===y.depth?m(g,y):I(g,y)}function z(g,y){var T=y.parent;if(T===null)throw Error(t(402));g.depth===T.depth?m(g,T):z(g,T),y.context._currentValue=y.value}function Z(g){var y=ts;y!==g&&(y===null?S(g):g===null?b(y):y.depth===g.depth?m(y,g):y.depth>g.depth?I(y,g):z(y,g),ts=g)}var oe={enqueueSetState:function(g,y){g=g._reactInternals,g.queue!==null&&g.queue.push(y)},enqueueReplaceState:function(g,y){g=g._reactInternals,g.replace=!0,g.queue=[y]},enqueueForceUpdate:function(){}},Ne={id:1,overflow:""};function ye(g,y,T){var P=g.id;g=g.overflow;var O=32-Ae(P)-1;P&=~(1<<O),T+=1;var W=32-Ae(y)+O;if(30<W){var se=O-O%5;return W=(P&(1<<se)-1).toString(32),P>>=se,O-=se,{id:1<<32-Ae(y)+O|T<<O|P,overflow:W+g}}return{id:1<<W|T<<O|P,overflow:g}}var Ae=Math.clz32?Math.clz32:it,We=Math.log,Fe=Math.LN2;function it(g){return g>>>=0,g===0?32:31-(We(g)/Fe|0)|0}var dt=Error(t(460));function ct(){}function wt(g,y,T){switch(T=g[T],T===void 0?g.push(y):T!==y&&(y.then(ct,ct),y=T),y.status){case"fulfilled":return y.value;case"rejected":throw y.reason;default:switch(typeof y.status=="string"?y.then(ct,ct):(g=y,g.status="pending",g.then(function(P){if(y.status==="pending"){var O=y;O.status="fulfilled",O.value=P}},function(P){if(y.status==="pending"){var O=y;O.status="rejected",O.reason=P}})),y.status){case"fulfilled":return y.value;case"rejected":throw y.reason}throw Ut=y,dt}}var Ut=null;function nn(){if(Ut===null)throw Error(t(459));var g=Ut;return Ut=null,g}function _n(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var En=typeof Object.is=="function"?Object.is:_n,ut=null,Fn=null,Vt=null,zn=null,Nn=null,mt=null,on=!1,pi=!1,Qn=0,Ii=0,er=-1,si=0,ai=null,oi=null,Fr=0;function Kn(){if(ut===null)throw Error(t(321));return ut}function ns(){if(0<Fr)throw Error(t(312));return{memoizedState:null,queue:null,next:null}}function Ys(){return mt===null?Nn===null?(on=!1,Nn=mt=ns()):(on=!0,mt=Nn):mt.next===null?(on=!1,mt=mt.next=ns()):(on=!0,mt=mt.next),mt}function yi(){var g=ai;return ai=null,g}function Ws(){zn=Vt=Fn=ut=null,pi=!1,Nn=null,Fr=0,mt=oi=null}function Hr(g,y){return typeof y=="function"?y(g):y}function So(g,y,T){if(ut=Kn(),mt=Ys(),on){var P=mt.queue;if(y=P.dispatch,oi!==null&&(T=oi.get(P),T!==void 0)){oi.delete(P),P=mt.memoizedState;do P=g(P,T.action),T=T.next;while(T!==null);return mt.memoizedState=P,[P,y]}return[mt.memoizedState,y]}return g=g===Hr?typeof y=="function"?y():y:T!==void 0?T(y):y,mt.memoizedState=g,g=mt.queue={last:null,dispatch:null},g=g.dispatch=Mi.bind(null,ut,g),[mt.memoizedState,g]}function Xs(g,y){if(ut=Kn(),mt=Ys(),y=y===void 0?null:y,mt!==null){var T=mt.memoizedState;if(T!==null&&y!==null){var P=T[1];e:if(P===null)P=!1;else{for(var O=0;O<P.length&&O<y.length;O++)if(!En(y[O],P[O])){P=!1;break e}P=!0}if(P)return T[0]}}return g=g(),mt.memoizedState=[g,y],g}function Mi(g,y,T){if(25<=Fr)throw Error(t(301));if(g===ut)if(pi=!0,g={action:T,next:null},oi===null&&(oi=new Map),T=oi.get(y),T===void 0)oi.set(y,g);else{for(y=T;y.next!==null;)y=y.next;y.next=g}}function hl(){throw Error(t(394))}function Ca(){throw Error(t(479))}function ya(g,y,T){Kn();var P=Ii++,O=Vt;if(typeof g.$$FORM_ACTION=="function"){var W=null,se=zn;O=O.formState;var be=g.$$IS_SIGNATURE_EQUAL;if(O!==null&&typeof be=="function"){var ue=O[1];be.call(g,O[2],O[3])&&(W=T!==void 0?"p"+T:"k"+ce(JSON.stringify([se,null,P]),0),ue===W&&(er=P,y=O[0]))}var pe=g.bind(null,y);return g=function(Pe){pe(Pe)},typeof pe.$$FORM_ACTION=="function"&&(g.$$FORM_ACTION=function(Pe){Pe=pe.$$FORM_ACTION(Pe),T!==void 0&&(T+="",Pe.action=T);var tt=Pe.data;return tt&&(W===null&&(W=T!==void 0?"p"+T:"k"+ce(JSON.stringify([se,null,P]),0)),tt.append("$ACTION_KEY",W)),Pe}),[y,g,!1]}var He=g.bind(null,y);return[y,function(Pe){He(Pe)},!1]}function Ia(g){var y=si;return si+=1,ai===null&&(ai=[]),wt(ai,g,y)}function a(){throw Error(t(393))}function c(){}var p={readContext:function(g){return g._currentValue},use:function(g){if(g!==null&&typeof g=="object"){if(typeof g.then=="function")return Ia(g);if(g.$$typeof===M)return g._currentValue}throw Error(t(438,String(g)))},useContext:function(g){return Kn(),g._currentValue},useMemo:Xs,useReducer:So,useRef:function(g){ut=Kn(),mt=Ys();var y=mt.memoizedState;return y===null?(g={current:g},mt.memoizedState=g):y},useState:function(g){return So(Hr,g)},useInsertionEffect:c,useLayoutEffect:c,useCallback:function(g,y){return Xs(function(){return g},y)},useImperativeHandle:c,useEffect:c,useDebugValue:c,useDeferredValue:function(g,y){return Kn(),y!==void 0?y:g},useTransition:function(){return Kn(),[!1,hl]},useId:function(){var g=Fn.treeContext,y=g.overflow;g=g.id,g=(g&~(1<<32-Ae(g)-1)).toString(32)+y;var T=w;if(T===null)throw Error(t(404));return y=Qn++,g="«"+T.idPrefix+"R"+g,0<y&&(g+="H"+y.toString(32)),g+"»"},useSyncExternalStore:function(g,y,T){if(T===void 0)throw Error(t(407));return T()},useOptimistic:function(g){return Kn(),[g,Ca]},useActionState:ya,useFormState:ya,useHostTransitionStatus:function(){return Kn(),fo},useMemoCache:function(g){for(var y=Array(g),T=0;T<g;T++)y[T]=ie;return y},useCacheRefresh:function(){return a}},w=null,C={getCacheForType:function(){throw Error(t(248))}},U,ne;function fe(g){if(U===void 0)try{throw Error()}catch(T){var y=T.stack.trim().match(/\n( *(at )?)/);U=y&&y[1]||"",ne=-1<T.stack.indexOf(`
    at`)?" (<anonymous>)":-1<T.stack.indexOf("@")?"@unknown:0:0":""}return`
`+U+g+ne}var we=!1;function Le(g,y){if(!g||we)return"";we=!0;var T=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var P={DetermineComponentFrameRoot:function(){try{if(y){var Pe=function(){throw Error()};if(Object.defineProperty(Pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Pe,[])}catch(st){var tt=st}Reflect.construct(g,[],Pe)}else{try{Pe.call()}catch(st){tt=st}g.call(Pe.prototype)}}else{try{throw Error()}catch(st){tt=st}(Pe=g())&&typeof Pe.catch=="function"&&Pe.catch(function(){})}}catch(st){if(st&&tt&&typeof st.stack=="string")return[st.stack,tt.stack]}return[null,null]}};P.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(P.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(P.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var W=P.DetermineComponentFrameRoot(),se=W[0],be=W[1];if(se&&be){var ue=se.split(`
`),pe=be.split(`
`);for(O=P=0;P<ue.length&&!ue[P].includes("DetermineComponentFrameRoot");)P++;for(;O<pe.length&&!pe[O].includes("DetermineComponentFrameRoot");)O++;if(P===ue.length||O===pe.length)for(P=ue.length-1,O=pe.length-1;1<=P&&0<=O&&ue[P]!==pe[O];)O--;for(;1<=P&&0<=O;P--,O--)if(ue[P]!==pe[O]){if(P!==1||O!==1)do if(P--,O--,0>O||ue[P]!==pe[O]){var He=`
`+ue[P].replace(" at new "," at ");return g.displayName&&He.includes("<anonymous>")&&(He=He.replace("<anonymous>",g.displayName)),He}while(1<=P&&0<=O);break}}}finally{we=!1,Error.prepareStackTrace=T}return(T=g?g.displayName||g.name:"")?fe(T):""}function Xe(g){if(typeof g=="string")return fe(g);if(typeof g=="function")return g.prototype&&g.prototype.isReactComponent?Le(g,!0):Le(g,!1);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case j:return Le(g.render,!1);case te:return Le(g.type,!1);case J:var y=g,T=y._payload;y=y._init;try{g=y(T)}catch{return fe("Lazy")}return Xe(g)}if(typeof g.name=="string")return T=g.env,fe(g.name+(T?" ["+T+"]":""))}switch(g){case Q:return fe("SuspenseList");case V:return fe("Suspense")}return""}function $e(g){if(typeof g=="object"&&g!==null&&typeof g.environmentName=="string"){var y=g.environmentName;g=[g].slice(0),typeof g[0]=="string"?g.splice(0,1,"%c%s%c "+g[0],"background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px"," "+y+" ",""):g.splice(0,0,"%c%s%c ","background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px"," "+y+" ",""),g.unshift(console),y=Ya.apply(console.error,g),y()}else console.error(g);return null}function qe(){}function _t(g,y,T,P,O,W,se,be,ue,pe,He){var Pe=new Set;this.destination=null,this.flushScheduled=!1,this.resumableState=g,this.renderState=y,this.rootFormatContext=T,this.progressiveChunkSize=P===void 0?12800:P,this.status=10,this.fatalError=null,this.pendingRootTasks=this.allPendingTasks=this.nextSegmentId=0,this.completedPreambleSegments=this.completedRootSegment=null,this.abortableTasks=Pe,this.pingedTasks=[],this.clientRenderedBoundaries=[],this.completedBoundaries=[],this.partialBoundaries=[],this.trackedPostpones=null,this.onError=O===void 0?$e:O,this.onPostpone=pe===void 0?qe:pe,this.onAllReady=W===void 0?qe:W,this.onShellReady=se===void 0?qe:se,this.onShellError=be===void 0?qe:be,this.onFatalError=ue===void 0?qe:ue,this.formState=He===void 0?null:He}function fn(g,y,T,P,O,W,se,be,ue,pe,He,Pe){return y=new _t(y,T,P,O,W,se,be,ue,pe,He,Pe),T=rs(y,0,null,P,!1,!1),T.parentFlushed=!0,g=Wa(y,null,g,-1,null,T,null,null,y.abortableTasks,null,P,null,Ne,null,!1),Ss(g),y.pingedTasks.push(g),y}function vn(g,y,T,P,O,W,se,be,ue,pe,He){return g=fn(g,y,T,P,O,W,se,be,ue,pe,He,void 0),g.trackedPostpones={workingMap:new Map,rootNodes:[],rootSlots:null},g}var Xt=null;function dr(g,y){g.pingedTasks.push(y),g.pingedTasks.length===1&&(g.flushScheduled=g.destination!==null,g.trackedPostpones!==null||g.status===10?X(function(){return Ka(g)}):he(function(){return Ka(g)}))}function is(g,y,T,P){return{status:0,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,completedSegments:[],byteSize:0,fallbackAbortableTasks:y,errorDigest:null,contentState:An(),fallbackState:An(),contentPreamble:T,fallbackPreamble:P,trackedContentKeyPath:null,trackedFallbackNode:null}}function Wa(g,y,T,P,O,W,se,be,ue,pe,He,Pe,tt,st,ft){g.allPendingTasks++,O===null?g.pendingRootTasks++:O.pendingTasks++;var At={replay:null,node:T,childIndex:P,ping:function(){return dr(g,At)},blockedBoundary:O,blockedSegment:W,blockedPreamble:se,hoistableState:be,abortSet:ue,keyPath:pe,formatContext:He,context:Pe,treeContext:tt,componentStack:st,thenableState:y,isFallback:ft};return ue.add(At),At}function _a(g,y,T,P,O,W,se,be,ue,pe,He,Pe,tt,st){g.allPendingTasks++,W===null?g.pendingRootTasks++:W.pendingTasks++,T.pendingTasks++;var ft={replay:T,node:P,childIndex:O,ping:function(){return dr(g,ft)},blockedBoundary:W,blockedSegment:null,blockedPreamble:null,hoistableState:se,abortSet:be,keyPath:ue,formatContext:pe,context:He,treeContext:Pe,componentStack:tt,thenableState:y,isFallback:st};return be.add(ft),ft}function rs(g,y,T,P,O,W){return{status:0,parentFlushed:!1,id:-1,index:y,chunks:[],children:[],preambleChildren:[],parentFormatContext:P,boundary:T,lastPushedText:O,textEmbedded:W}}function Ss(g){var y=g.node;if(typeof y=="object"&&y!==null)switch(y.$$typeof){case s:g.componentStack={parent:g.componentStack,type:y.type}}}function Gr(g){var y={};return g&&Object.defineProperty(y,"componentStack",{configurable:!0,enumerable:!0,get:function(){try{var T="",P=g;do T+=Xe(P.type),P=P.parent;while(P);var O=T}catch(W){O=`
Error generating stack: `+W.message+`
`+W.stack}return Object.defineProperty(y,"componentStack",{value:O}),O}}),y}function Dt(g,y,T){if(g=g.onError,y=g(y,T),y==null||typeof y=="string")return y}function Di(g,y){var T=g.onShellError,P=g.onFatalError;T(y),P(y),g.destination!==null?(g.status=14,je(g.destination,y)):(g.status=13,g.fatalError=y)}function As(g,y,T,P,O,W){var se=y.thenableState;for(y.thenableState=null,ut={},Fn=y,Vt=g,zn=T,Ii=Qn=0,er=-1,si=0,ai=se,g=P(O,W);pi;)pi=!1,Ii=Qn=0,er=-1,si=0,Fr+=1,mt=null,g=P(O,W);return Ws(),g}function Qs(g,y,T,P,O,W,se){var be=!1;if(W!==0&&g.formState!==null){var ue=y.blockedSegment;if(ue!==null){be=!0,ue=ue.chunks;for(var pe=0;pe<W;pe++)pe===se?ue.push(ms):ue.push(zs)}}W=y.keyPath,y.keyPath=T,O?(T=y.treeContext,y.treeContext=ye(T,1,0),as(g,y,P,-1),y.treeContext=T):be?as(g,y,P,-1):Jn(g,y,P,-1),y.keyPath=W}function Nr(g,y,T,P,O,W){if(typeof P=="function")if(P.prototype&&P.prototype.isReactComponent){var se=O;if("ref"in O){se={};for(var be in O)be!=="ref"&&(se[be]=O[be])}var ue=P.defaultProps;if(ue){se===O&&(se=Me({},se,O));for(var pe in ue)se[pe]===void 0&&(se[pe]=ue[pe])}O=se,se=Ar,ue=P.contextType,typeof ue=="object"&&ue!==null&&(se=ue._currentValue),se=new P(O,se);var He=se.state!==void 0?se.state:null;if(se.updater=oe,se.props=O,se.state=He,ue={queue:[],replace:!1},se._reactInternals=ue,W=P.contextType,se.context=typeof W=="object"&&W!==null?W._currentValue:Ar,W=P.getDerivedStateFromProps,typeof W=="function"&&(W=W(O,He),He=W==null?He:Me({},He,W),se.state=He),typeof P.getDerivedStateFromProps!="function"&&typeof se.getSnapshotBeforeUpdate!="function"&&(typeof se.UNSAFE_componentWillMount=="function"||typeof se.componentWillMount=="function"))if(P=se.state,typeof se.componentWillMount=="function"&&se.componentWillMount(),typeof se.UNSAFE_componentWillMount=="function"&&se.UNSAFE_componentWillMount(),P!==se.state&&oe.enqueueReplaceState(se,se.state,null),ue.queue!==null&&0<ue.queue.length)if(P=ue.queue,W=ue.replace,ue.queue=null,ue.replace=!1,W&&P.length===1)se.state=P[0];else{for(ue=W?P[0]:se.state,He=!0,W=W?1:0;W<P.length;W++)pe=P[W],pe=typeof pe=="function"?pe.call(se,ue,O,void 0):pe,pe!=null&&(He?(He=!1,ue=Me({},ue,pe)):Me(ue,pe));se.state=ue}else ue.queue=null;if(P=se.render(),g.status===12)throw null;O=y.keyPath,y.keyPath=T,Jn(g,y,P,-1),y.keyPath=O}else{if(P=As(g,y,T,P,O,void 0),g.status===12)throw null;Qs(g,y,T,P,Qn!==0,Ii,er)}else if(typeof P=="string")if(se=y.blockedSegment,se===null)se=O.children,ue=y.formatContext,He=y.keyPath,y.formatContext=Wr(ue,P,O),y.keyPath=T,as(g,y,se,-1),y.formatContext=ue,y.keyPath=He;else{W=pn(se.chunks,P,O,g.resumableState,g.renderState,y.blockedPreamble,y.hoistableState,y.formatContext,se.lastPushedText,y.isFallback),se.lastPushedText=!1,ue=y.formatContext,He=y.keyPath,y.keyPath=T,(y.formatContext=Wr(ue,P,O)).insertionMode===3?(T=rs(g,0,null,y.formatContext,!1,!1),se.preambleChildren.push(T),T=Wa(g,null,W,-1,y.blockedBoundary,T,y.blockedPreamble,y.hoistableState,g.abortableTasks,y.keyPath,y.formatContext,y.context,y.treeContext,y.componentStack,y.isFallback),Ss(T),g.pingedTasks.push(T)):as(g,y,W,-1),y.formatContext=ue,y.keyPath=He;e:{switch(y=se.chunks,g=g.resumableState,P){case"title":case"style":case"script":case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break e;case"body":if(1>=ue.insertionMode){g.hasBody=!0;break e}break;case"html":if(ue.insertionMode===0){g.hasHtml=!0;break e}break;case"head":if(1>=ue.insertionMode)break e}y.push(Ni(P))}se.lastPushedText=!1}else{switch(P){case Re:case v:case E:case d:P=y.keyPath,y.keyPath=T,Jn(g,y,O.children,-1),y.keyPath=P;return;case _e:O.mode!=="hidden"&&(P=y.keyPath,y.keyPath=T,Jn(g,y,O.children,-1),y.keyPath=P);return;case Q:P=y.keyPath,y.keyPath=T,Jn(g,y,O.children,-1),y.keyPath=P;return;case ke:case K:throw Error(t(343));case V:e:if(y.replay!==null){P=y.keyPath,y.keyPath=T,T=O.children;try{as(g,y,T,-1)}finally{y.keyPath=P}}else{P=y.keyPath;var Pe=y.blockedBoundary;W=y.blockedPreamble;var tt=y.hoistableState;pe=y.blockedSegment,be=O.fallback,O=O.children;var st=new Set,ft=2>y.formatContext.insertionMode?is(g,st,mn(),mn()):is(g,st,null,null);g.trackedPostpones!==null&&(ft.trackedContentKeyPath=T);var At=rs(g,pe.chunks.length,ft,y.formatContext,!1,!1);pe.children.push(At),pe.lastPushedText=!1;var kn=rs(g,0,null,y.formatContext,!1,!1);if(kn.parentFlushed=!0,g.trackedPostpones!==null){se=[T[0],"Suspense Fallback",T[2]],ue=[se[1],se[2],[],null],g.trackedPostpones.workingMap.set(se,ue),ft.trackedFallbackNode=ue,y.blockedSegment=At,y.blockedPreamble=ft.fallbackPreamble,y.keyPath=se,At.status=6;try{as(g,y,be,-1),At.lastPushedText&&At.textEmbedded&&At.chunks.push(ir),At.status=1}catch(Hn){throw At.status=g.status===12?3:4,Hn}finally{y.blockedSegment=pe,y.blockedPreamble=W,y.keyPath=P}y=Wa(g,null,O,-1,ft,kn,ft.contentPreamble,ft.contentState,y.abortSet,T,y.formatContext,y.context,y.treeContext,y.componentStack,y.isFallback),Ss(y),g.pingedTasks.push(y)}else{y.blockedBoundary=ft,y.blockedPreamble=ft.contentPreamble,y.hoistableState=ft.contentState,y.blockedSegment=kn,y.keyPath=T,kn.status=6;try{if(as(g,y,O,-1),kn.lastPushedText&&kn.textEmbedded&&kn.chunks.push(ir),kn.status=1,Js(ft,kn),ft.pendingTasks===0&&ft.status===0){ft.status=1,g.pendingRootTasks===0&&y.blockedPreamble&&qs(g);break e}}catch(Hn){ft.status=4,g.status===12?(kn.status=3,se=g.fatalError):(kn.status=4,se=Hn),ue=Gr(y.componentStack),He=Dt(g,se,ue),ft.errorDigest=He,ss(g,ft)}finally{y.blockedBoundary=Pe,y.blockedPreamble=W,y.hoistableState=tt,y.blockedSegment=pe,y.keyPath=P}y=Wa(g,null,be,-1,Pe,At,ft.fallbackPreamble,ft.fallbackState,st,[T[0],"Suspense Fallback",T[2]],y.formatContext,y.context,y.treeContext,y.componentStack,!0),Ss(y),g.pingedTasks.push(y)}}return}if(typeof P=="object"&&P!==null)switch(P.$$typeof){case j:if("ref"in O)for(ft in se={},O)ft!=="ref"&&(se[ft]=O[ft]);else se=O;P=As(g,y,T,P.render,se,W),Qs(g,y,T,P,Qn!==0,Ii,er);return;case te:Nr(g,y,T,P.type,O,W);return;case A:case M:if(ue=O.children,se=y.keyPath,O=O.value,He=P._currentValue,P._currentValue=O,W=ts,ts=P={parent:W,depth:W===null?0:W.depth+1,context:P,parentValue:He,value:O},y.context=P,y.keyPath=T,Jn(g,y,ue,-1),g=ts,g===null)throw Error(t(403));g.context._currentValue=g.parentValue,g=ts=g.parent,y.context=g,y.keyPath=se;return;case N:O=O.children,P=O(P._context._currentValue),O=y.keyPath,y.keyPath=T,Jn(g,y,P,-1),y.keyPath=O;return;case J:if(se=P._init,P=se(P._payload),g.status===12)throw null;Nr(g,y,T,P,O,W);return}throw Error(t(130,P==null?P:typeof P,""))}}function Xa(g,y,T,P,O){var W=y.replay,se=y.blockedBoundary,be=rs(g,0,null,y.formatContext,!1,!1);be.id=T,be.parentFlushed=!0;try{y.replay=null,y.blockedSegment=be,as(g,y,P,O),be.status=1,se===null?g.completedRootSegment=be:(Js(se,be),se.parentFlushed&&g.partialBoundaries.push(se))}finally{y.replay=W,y.blockedSegment=null}}function Jn(g,y,T,P){y.replay!==null&&typeof y.replay.slots=="number"?Xa(g,y,y.replay.slots,T,P):(y.node=T,y.childIndex=P,T=y.componentStack,Ss(y),Ks(g,y),y.componentStack=T)}function Ks(g,y){var T=y.node,P=y.childIndex;if(T!==null){if(typeof T=="object"){switch(T.$$typeof){case s:var O=T.type,W=T.key,se=T.props;T=se.ref;var be=T!==void 0?T:null,ue=$i(O),pe=W??(P===-1?0:P);if(W=[y.keyPath,ue,pe],y.replay!==null)e:{var He=y.replay;for(P=He.nodes,T=0;T<P.length;T++){var Pe=P[T];if(pe===Pe[1]){if(Pe.length===4){if(ue!==null&&ue!==Pe[0])throw Error(t(490,Pe[0],ue));var tt=Pe[2];ue=Pe[3],pe=y.node,y.replay={nodes:tt,slots:ue,pendingTasks:1};try{if(Nr(g,y,W,O,se,be),y.replay.pendingTasks===1&&0<y.replay.nodes.length)throw Error(t(488));y.replay.pendingTasks--}catch(li){if(typeof li=="object"&&li!==null&&(li===dt||typeof li.then=="function"))throw y.node===pe&&(y.replay=He),li;y.replay.pendingTasks--,se=Gr(y.componentStack),W=y.blockedBoundary,O=li,se=Dt(g,O,se),Go(g,W,tt,ue,O,se)}y.replay=He}else{if(O!==V)throw Error(t(490,"Suspense",$i(O)||"Unknown"));t:{He=void 0,O=Pe[5],be=Pe[2],ue=Pe[3],pe=Pe[4]===null?[]:Pe[4][2],Pe=Pe[4]===null?null:Pe[4][3];var st=y.keyPath,ft=y.replay,At=y.blockedBoundary,kn=y.hoistableState,Hn=se.children,Zt=se.fallback,fr=new Set;se=2>y.formatContext.insertionMode?is(g,fr,mn(),mn()):is(g,fr,null,null),se.parentFlushed=!0,se.rootSegmentID=O,y.blockedBoundary=se,y.hoistableState=se.contentState,y.keyPath=W,y.replay={nodes:be,slots:ue,pendingTasks:1};try{if(as(g,y,Hn,-1),y.replay.pendingTasks===1&&0<y.replay.nodes.length)throw Error(t(488));if(y.replay.pendingTasks--,se.pendingTasks===0&&se.status===0){se.status=1,g.completedBoundaries.push(se);break t}}catch(li){se.status=4,tt=Gr(y.componentStack),He=Dt(g,li,tt),se.errorDigest=He,y.replay.pendingTasks--,g.clientRenderedBoundaries.push(se)}finally{y.blockedBoundary=At,y.hoistableState=kn,y.replay=ft,y.keyPath=st}y=_a(g,null,{nodes:pe,slots:Pe,pendingTasks:0},Zt,-1,At,se.fallbackState,fr,[W[0],"Suspense Fallback",W[2]],y.formatContext,y.context,y.treeContext,y.componentStack,!0),Ss(y),g.pingedTasks.push(y)}}P.splice(T,1);break e}}}else Nr(g,y,W,O,se,be);return;case l:throw Error(t(257));case J:if(tt=T._init,T=tt(T._payload),g.status===12)throw null;Jn(g,y,T,P);return}if(Qe(T)){ka(g,y,T,P);return}if(T===null||typeof T!="object"?tt=null:(tt=Ye&&T[Ye]||T["@@iterator"],tt=typeof tt=="function"?tt:null),tt&&(tt=tt.call(T))){if(T=tt.next(),!T.done){se=[];do se.push(T.value),T=tt.next();while(!T.done);ka(g,y,se,P)}return}if(typeof T.then=="function")return y.thenableState=null,Jn(g,y,Ia(T),P);if(T.$$typeof===M)return Jn(g,y,T._currentValue,P);throw P=Object.prototype.toString.call(T),Error(t(31,P==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":P))}typeof T=="string"?(P=y.blockedSegment,P!==null&&(P.lastPushedText=Xr(P.chunks,T,g.renderState,P.lastPushedText))):(typeof T=="number"||typeof T=="bigint")&&(P=y.blockedSegment,P!==null&&(P.lastPushedText=Xr(P.chunks,""+T,g.renderState,P.lastPushedText)))}}function ka(g,y,T,P){var O=y.keyPath;if(P!==-1&&(y.keyPath=[y.keyPath,"Fragment",P],y.replay!==null)){for(var W=y.replay,se=W.nodes,be=0;be<se.length;be++){var ue=se[be];if(ue[1]===P){P=ue[2],ue=ue[3],y.replay={nodes:P,slots:ue,pendingTasks:1};try{if(ka(g,y,T,-1),y.replay.pendingTasks===1&&0<y.replay.nodes.length)throw Error(t(488));y.replay.pendingTasks--}catch(Pe){if(typeof Pe=="object"&&Pe!==null&&(Pe===dt||typeof Pe.then=="function"))throw Pe;y.replay.pendingTasks--,T=Gr(y.componentStack);var pe=y.blockedBoundary,He=Pe;T=Dt(g,He,T),Go(g,pe,P,ue,He,T)}y.replay=W,se.splice(be,1);break}}y.keyPath=O;return}if(W=y.treeContext,se=T.length,y.replay!==null&&(be=y.replay.slots,be!==null&&typeof be=="object")){for(P=0;P<se;P++)ue=T[P],y.treeContext=ye(W,se,P),pe=be[P],typeof pe=="number"?(Xa(g,y,pe,ue,P),delete be[P]):as(g,y,ue,P);y.treeContext=W,y.keyPath=O;return}for(be=0;be<se;be++)P=T[be],y.treeContext=ye(W,se,be),as(g,y,P,be);y.treeContext=W,y.keyPath=O}function ss(g,y){g=g.trackedPostpones,g!==null&&(y=y.trackedContentKeyPath,y!==null&&(y=g.workingMap.get(y),y!==void 0&&(y.length=4,y[2]=[],y[3]=null)))}function Oi(g,y,T){return _a(g,T,y.replay,y.node,y.childIndex,y.blockedBoundary,y.hoistableState,y.abortSet,y.keyPath,y.formatContext,y.context,y.treeContext,y.componentStack,y.isFallback)}function Ao(g,y,T){var P=y.blockedSegment,O=rs(g,P.chunks.length,null,y.formatContext,P.lastPushedText,!0);return P.children.push(O),P.lastPushedText=!1,Wa(g,T,y.node,y.childIndex,y.blockedBoundary,O,y.blockedPreamble,y.hoistableState,y.abortSet,y.keyPath,y.formatContext,y.context,y.treeContext,y.componentStack,y.isFallback)}function as(g,y,T,P){var O=y.formatContext,W=y.context,se=y.keyPath,be=y.treeContext,ue=y.componentStack,pe=y.blockedSegment;if(pe===null)try{return Jn(g,y,T,P)}catch(tt){if(Ws(),T=tt===dt?nn():tt,typeof T=="object"&&T!==null){if(typeof T.then=="function"){P=yi(),g=Oi(g,y,P).ping,T.then(g,g),y.formatContext=O,y.context=W,y.keyPath=se,y.treeContext=be,y.componentStack=ue,Z(W);return}if(T.message==="Maximum call stack size exceeded"){T=yi(),T=Oi(g,y,T),g.pingedTasks.push(T),y.formatContext=O,y.context=W,y.keyPath=se,y.treeContext=be,y.componentStack=ue,Z(W);return}}}else{var He=pe.children.length,Pe=pe.chunks.length;try{return Jn(g,y,T,P)}catch(tt){if(Ws(),pe.children.length=He,pe.chunks.length=Pe,T=tt===dt?nn():tt,typeof T=="object"&&T!==null){if(typeof T.then=="function"){P=yi(),g=Ao(g,y,P).ping,T.then(g,g),y.formatContext=O,y.context=W,y.keyPath=se,y.treeContext=be,y.componentStack=ue,Z(W);return}if(T.message==="Maximum call stack size exceeded"){T=yi(),T=Ao(g,y,T),g.pingedTasks.push(T),y.formatContext=O,y.context=W,y.keyPath=se,y.treeContext=be,y.componentStack=ue,Z(W);return}}}}throw y.formatContext=O,y.context=W,y.keyPath=se,y.treeContext=be,Z(W),T}function Yu(g){var y=g.blockedBoundary;g=g.blockedSegment,g!==null&&(g.status=3,Zo(this,y,g))}function Go(g,y,T,P,O,W){for(var se=0;se<T.length;se++){var be=T[se];if(be.length===4)Go(g,y,be[2],be[3],O,W);else{be=be[5];var ue=g,pe=W,He=is(ue,new Set,null,null);He.parentFlushed=!0,He.rootSegmentID=be,He.status=4,He.errorDigest=pe,He.parentFlushed&&ue.clientRenderedBoundaries.push(He)}}if(T.length=0,P!==null){if(y===null)throw Error(t(487));if(y.status!==4&&(y.status=4,y.errorDigest=W,y.parentFlushed&&g.clientRenderedBoundaries.push(y)),typeof P=="object")for(var Pe in P)delete P[Pe]}}function tu(g,y,T){var P=g.blockedBoundary,O=g.blockedSegment;if(O!==null){if(O.status===6)return;O.status=3}if(O=Gr(g.componentStack),P===null){if(y.status!==13&&y.status!==14){if(P=g.replay,P===null){Dt(y,T,O),Di(y,T);return}P.pendingTasks--,P.pendingTasks===0&&0<P.nodes.length&&(g=Dt(y,T,O),Go(y,null,P.nodes,P.slots,T,g)),y.pendingRootTasks--,y.pendingRootTasks===0&&No(y)}}else P.pendingTasks--,P.status!==4&&(P.status=4,g=Dt(y,T,O),P.status=4,P.errorDigest=g,ss(y,P),P.parentFlushed&&y.clientRenderedBoundaries.push(P)),P.fallbackAbortableTasks.forEach(function(W){return tu(W,y,T)}),P.fallbackAbortableTasks.clear();y.allPendingTasks--,y.allPendingTasks===0&&Qa(y)}function qn(g,y){try{var T=g.renderState,P=T.onHeaders;if(P){var O=T.headers;if(O){T.headers=null;var W=O.preconnects;if(O.fontPreloads&&(W&&(W+=", "),W+=O.fontPreloads),O.highImagePreloads&&(W&&(W+=", "),W+=O.highImagePreloads),!y){var se=T.styles.values(),be=se.next();e:for(;0<O.remainingCapacity&&!be.done;be=se.next())for(var ue=be.value.sheets.values(),pe=ue.next();0<O.remainingCapacity&&!pe.done;pe=ue.next()){var He=pe.value,Pe=He.props,tt=Pe.href,st=He.props,ft=Zs(st.href,"style",{crossOrigin:st.crossOrigin,integrity:st.integrity,nonce:st.nonce,type:st.type,fetchPriority:st.fetchPriority,referrerPolicy:st.referrerPolicy,media:st.media});if(0<=(O.remainingCapacity-=ft.length+2))T.resets.style[tt]=ni,W&&(W+=", "),W+=ft,T.resets.style[tt]=typeof Pe.crossOrigin=="string"||typeof Pe.integrity=="string"?[Pe.crossOrigin,Pe.integrity]:ni;else break e}}P(W?{Link:W}:{})}}}catch(At){Dt(g,At,{})}}function No(g){g.trackedPostpones===null&&qn(g,!0),g.trackedPostpones===null&&qs(g),g.onShellError=qe,g=g.onShellReady,g()}function Qa(g){qn(g,g.trackedPostpones===null?!0:g.completedRootSegment===null||g.completedRootSegment.status!==5),qs(g),g=g.onAllReady,g()}function Js(g,y){if(y.chunks.length===0&&y.children.length===1&&y.children[0].boundary===null&&y.children[0].id===-1){var T=y.children[0];T.id=y.id,T.parentFlushed=!0,T.status===1&&Js(g,T)}else g.completedSegments.push(y)}function Zo(g,y,T){if(y===null){if(T!==null&&T.parentFlushed){if(g.completedRootSegment!==null)throw Error(t(389));g.completedRootSegment=T}g.pendingRootTasks--,g.pendingRootTasks===0&&No(g)}else y.pendingTasks--,y.status!==4&&(y.pendingTasks===0?(y.status===0&&(y.status=1),T!==null&&T.parentFlushed&&T.status===1&&Js(y,T),y.parentFlushed&&g.completedBoundaries.push(y),y.status===1&&(y.fallbackAbortableTasks.forEach(Yu,g),y.fallbackAbortableTasks.clear(),g.pendingRootTasks===0&&g.trackedPostpones===null&&y.contentPreamble!==null&&qs(g))):T!==null&&T.parentFlushed&&T.status===1&&(Js(y,T),y.completedSegments.length===1&&y.parentFlushed&&g.partialBoundaries.push(y)));g.allPendingTasks--,g.allPendingTasks===0&&Qa(g)}function Ka(g){if(g.status!==14&&g.status!==13){var y=ts,T=ui.H;ui.H=p;var P=ui.A;ui.A=C;var O=Xt;Xt=g;var W=w;w=g.resumableState;try{var se=g.pingedTasks,be;for(be=0;be<se.length;be++){var ue=se[be],pe=g,He=ue.blockedSegment;if(He===null){var Pe=pe;if(ue.replay.pendingTasks!==0){Z(ue.context);try{if(typeof ue.replay.slots=="number"?Xa(Pe,ue,ue.replay.slots,ue.node,ue.childIndex):Ks(Pe,ue),ue.replay.pendingTasks===1&&0<ue.replay.nodes.length)throw Error(t(488));ue.replay.pendingTasks--,ue.abortSet.delete(ue),Zo(Pe,ue.blockedBoundary,null)}catch(_i){Ws();var tt=_i===dt?nn():_i;if(typeof tt=="object"&&tt!==null&&typeof tt.then=="function"){var st=ue.ping;tt.then(st,st),ue.thenableState=yi()}else{ue.replay.pendingTasks--,ue.abortSet.delete(ue);var ft=Gr(ue.componentStack);pe=void 0;var At=Pe,kn=ue.blockedBoundary,Hn=Pe.status===12?Pe.fatalError:tt,Zt=ue.replay.nodes,fr=ue.replay.slots;pe=Dt(At,Hn,ft),Go(At,kn,Zt,fr,Hn,pe),Pe.pendingRootTasks--,Pe.pendingRootTasks===0&&No(Pe),Pe.allPendingTasks--,Pe.allPendingTasks===0&&Qa(Pe)}}finally{}}}else if(Pe=void 0,At=He,At.status===0){At.status=6,Z(ue.context);var li=At.children.length,Rr=At.chunks.length;try{Ks(pe,ue),At.lastPushedText&&At.textEmbedded&&At.chunks.push(ir),ue.abortSet.delete(ue),At.status=1,Zo(pe,ue.blockedBoundary,At)}catch(_i){Ws(),At.children.length=li,At.chunks.length=Rr;var $n=_i===dt?nn():pe.status===12?pe.fatalError:_i;if(typeof $n=="object"&&$n!==null&&typeof $n.then=="function"){At.status=0,ue.thenableState=yi();var Tt=ue.ping;$n.then(Tt,Tt)}else{var jt=Gr(ue.componentStack);ue.abortSet.delete(ue),At.status=4;var Ft=ue.blockedBoundary;Pe=Dt(pe,$n,jt),Ft===null?Di(pe,$n):(Ft.pendingTasks--,Ft.status!==4&&(Ft.status=4,Ft.errorDigest=Pe,ss(pe,Ft),Ft.parentFlushed&&pe.clientRenderedBoundaries.push(Ft),pe.pendingRootTasks===0&&pe.trackedPostpones===null&&Ft.contentPreamble!==null&&qs(pe))),pe.allPendingTasks--,pe.allPendingTasks===0&&Qa(pe)}}finally{}}}se.splice(0,be),g.destination!==null&&dl(g,g.destination)}catch(_i){Dt(g,_i,{}),Di(g,_i)}finally{w=W,ui.H=T,ui.A=P,T===p&&Z(y),Xt=O}}}function Ja(g,y,T){y.preambleChildren.length&&T.push(y.preambleChildren);for(var P=!1,O=0;O<y.children.length;O++)P=Vl(g,y.children[O],T)||P;return P}function Vl(g,y,T){var P=y.boundary;if(P===null)return Ja(g,y,T);var O=P.contentPreamble,W=P.fallbackPreamble;if(O===null||W===null)return!1;switch(P.status){case 1:if(Us(g.renderState,O),y=P.completedSegments[0],!y)throw Error(t(391));return Ja(g,y,T);case 5:if(g.trackedPostpones!==null)return!0;case 4:if(y.status===1)return Us(g.renderState,W),Ja(g,y,T);default:return!0}}function qs(g){if(g.completedRootSegment&&g.completedPreambleSegments===null){var y=[],T=Vl(g,g.completedRootSegment,y),P=g.renderState.preamble;(T===!1||P.headChunks&&P.bodyChunks)&&(g.completedPreambleSegments=y)}}function qa(g,y,T,P){switch(T.parentFlushed=!0,T.status){case 0:T.id=g.nextSegmentId++;case 5:return P=T.id,T.lastPushedText=!1,T.textEmbedded=!1,g=g.renderState,$(y,bt),$(y,g.placeholderPrefix),g=F(P.toString(16)),$(y,g),le(y,yn);case 1:T.status=2;var O=!0,W=T.chunks,se=0;T=T.children;for(var be=0;be<T.length;be++){for(O=T[be];se<O.index;se++)$(y,W[se]);O=Yo(g,y,O,P)}for(;se<W.length-1;se++)$(y,W[se]);return se<W.length&&(O=le(y,W[se])),O;default:throw Error(t(390))}}function Yo(g,y,T,P){var O=T.boundary;if(O===null)return qa(g,y,T,P);if(O.parentFlushed=!0,O.status===4){var W=O.errorDigest;return le(y,vr),$(y,lr),W&&($(y,Yi),$(y,F(pt(W))),$(y,yt)),le(y,Wi),qa(g,y,T,P),(g=O.fallbackPreamble)&&vs(y,g),le(y,or)}if(O.status!==1)return O.status===0&&(O.rootSegmentID=g.nextSegmentId++),0<O.completedSegments.length&&g.partialBoundaries.push(O),qr(y,g.renderState,O.rootSegmentID),P&&(O=O.fallbackState,O.styles.forEach(Ul,P),O.stylesheets.forEach(Br,P)),qa(g,y,T,P),le(y,or);if(O.byteSize>g.progressiveChunkSize)return O.rootSegmentID=g.nextSegmentId++,g.completedBoundaries.push(O),qr(y,g.renderState,O.rootSegmentID),qa(g,y,T,P),le(y,or);if(P&&(T=O.contentState,T.styles.forEach(Ul,P),T.stylesheets.forEach(Br,P)),le(y,po),T=O.completedSegments,T.length!==1)throw Error(t(391));return Yo(g,y,T[0],P),(g=O.contentPreamble)&&vs(y,g),le(y,or)}function Ns(g,y,T,P){return fi(y,g.renderState,T.parentFormatContext,T.id),Yo(g,y,T,P),qt(y,T.parentFormatContext)}function Wo(g,y,T){for(var P=T.completedSegments,O=0;O<P.length;O++)$a(g,y,T,P[O]);P.length=0,Gs(y,T.contentState,g.renderState),P=g.resumableState,g=g.renderState,O=T.rootSegmentID,T=T.contentState;var W=g.stylesToHoist;return g.stylesToHoist=!1,$(y,g.startInlineScript),W?(P.instructions&2)===0?(P.instructions|=10,$(y,ji)):(P.instructions&8)===0?(P.instructions|=8,$(y,Ji)):$(y,_o):(P.instructions&2)===0?(P.instructions|=2,$(y,kt)):$(y,Vs),P=F(O.toString(16)),$(y,g.boundaryPrefix),$(y,P),$(y,ll),$(y,g.segmentPrefix),$(y,P),W?($(y,ga),Wt(y,T)):$(y,js),T=le(y,Ha),ar(y,g)&&T}function $a(g,y,T,P){if(P.status===2)return!0;var O=T.contentState,W=P.id;if(W===-1){if((P.id=T.rootSegmentID)===-1)throw Error(t(392));return Ns(g,y,P,O)}return W===T.rootSegmentID?Ns(g,y,P,O):(Ns(g,y,P,O),T=g.resumableState,g=g.renderState,$(y,g.startInlineScript),(T.instructions&1)===0?(T.instructions|=1,$(y,$r)):$(y,Ur),$(y,g.segmentPrefix),W=F(W.toString(16)),$(y,W),$(y,Bo),$(y,g.placeholderPrefix),$(y,W),y=le(y,Aa),y)}function dl(g,y){rt=new Uint8Array(2048),lt=0;try{if(!(0<g.pendingRootTasks)){var T,P=g.completedRootSegment;if(P!==null){if(P.status===5)return;var O=g.completedPreambleSegments;if(O===null)return;var W=g.renderState,se=W.preamble,be=se.htmlChunks,ue=se.headChunks,pe;if(be){for(pe=0;pe<be.length;pe++)$(y,be[pe]);if(ue)for(pe=0;pe<ue.length;pe++)$(y,ue[pe]);else $(y,dn("head")),$(y,Sn)}else if(ue)for(pe=0;pe<ue.length;pe++)$(y,ue[pe]);var He=W.charsetChunks;for(pe=0;pe<He.length;pe++)$(y,He[pe]);He.length=0,W.preconnects.forEach(gi,y),W.preconnects.clear();var Pe=W.viewportChunks;for(pe=0;pe<Pe.length;pe++)$(y,Pe[pe]);Pe.length=0,W.fontPreloads.forEach(gi,y),W.fontPreloads.clear(),W.highImagePreloads.forEach(gi,y),W.highImagePreloads.clear(),W.styles.forEach(k,y);var tt=W.importMapChunks;for(pe=0;pe<tt.length;pe++)$(y,tt[pe]);tt.length=0,W.bootstrapScripts.forEach(gi,y),W.scripts.forEach(gi,y),W.scripts.clear(),W.bulkPreloads.forEach(gi,y),W.bulkPreloads.clear();var st=W.hoistableChunks;for(pe=0;pe<st.length;pe++)$(y,st[pe]);for(W=st.length=0;W<O.length;W++){var ft=O[W];for(se=0;se<ft.length;se++)Yo(g,y,ft[se],null)}var At=g.renderState.preamble,kn=At.headChunks;(At.htmlChunks||kn)&&$(y,Ni("head"));var Hn=At.bodyChunks;if(Hn)for(O=0;O<Hn.length;O++)$(y,Hn[O]);Yo(g,y,P,null),g.completedRootSegment=null,ar(y,g.renderState)}var Zt=g.renderState;P=0;var fr=Zt.viewportChunks;for(P=0;P<fr.length;P++)$(y,fr[P]);fr.length=0,Zt.preconnects.forEach(gi,y),Zt.preconnects.clear(),Zt.fontPreloads.forEach(gi,y),Zt.fontPreloads.clear(),Zt.highImagePreloads.forEach(gi,y),Zt.highImagePreloads.clear(),Zt.styles.forEach(me,y),Zt.scripts.forEach(gi,y),Zt.scripts.clear(),Zt.bulkPreloads.forEach(gi,y),Zt.bulkPreloads.clear();var li=Zt.hoistableChunks;for(P=0;P<li.length;P++)$(y,li[P]);li.length=0;var Rr=g.clientRenderedBoundaries;for(T=0;T<Rr.length;T++){var $n=Rr[T];Zt=y;var Tt=g.resumableState,jt=g.renderState,Ft=$n.rootSegmentID,_i=$n.errorDigest;$(Zt,jt.startInlineScript),(Tt.instructions&4)===0?(Tt.instructions|=4,$(Zt,ma)):$(Zt,cl),$(Zt,jt.boundaryPrefix),$(Zt,F(Ft.toString(16))),$(Zt,Bs),_i&&($(Zt,ul),$(Zt,F(Na(_i||""))));var Pn=le(Zt,Ci);if(!Pn){g.destination=null,T++,Rr.splice(0,T);return}}Rr.splice(0,T);var vi=g.completedBoundaries;for(T=0;T<vi.length;T++)if(!Wo(g,y,vi[T])){g.destination=null,T++,vi.splice(0,T);return}vi.splice(0,T),Ce(y),rt=new Uint8Array(2048),lt=0;var no=g.partialBoundaries;for(T=0;T<no.length;T++){var ea=no[T];e:{Rr=g,$n=y;var Rs=ea.completedSegments;for(Pn=0;Pn<Rs.length;Pn++)if(!$a(Rr,$n,ea,Rs[Pn])){Pn++,Rs.splice(0,Pn);var gl=!1;break e}Rs.splice(0,Pn),gl=Gs($n,ea.contentState,Rr.renderState)}if(!gl){g.destination=null,T++,no.splice(0,T);return}}no.splice(0,T);var Gn=g.completedBoundaries;for(T=0;T<Gn.length;T++)if(!Wo(g,y,Gn[T])){g.destination=null,T++,Gn.splice(0,T);return}Gn.splice(0,T)}}finally{g.allPendingTasks===0&&g.pingedTasks.length===0&&g.clientRenderedBoundaries.length===0&&g.completedBoundaries.length===0?(g.flushScheduled=!1,T=g.resumableState,T.hasBody&&$(y,Ni("body")),T.hasHtml&&$(y,Ni("html")),Ce(y),g.status=14,y.close(),g.destination=null):Ce(y)}}function $s(g){g.flushScheduled=g.destination!==null,X(function(){return Ka(g)}),he(function(){g.status===10&&(g.status=11),g.trackedPostpones===null&&qn(g,g.pendingRootTasks===0)})}function eo(g){g.flushScheduled===!1&&g.pingedTasks.length===0&&g.destination!==null&&(g.flushScheduled=!0,he(function(){var y=g.destination;y?dl(g,y):g.flushScheduled=!1}))}function Pa(g,y){if(g.status===13)g.status=14,je(y,g.fatalError);else if(g.status!==14&&g.destination===null){g.destination=y;try{dl(g,y)}catch(T){Dt(g,T,{}),Di(g,T)}}}function to(g,y){(g.status===11||g.status===10)&&(g.status=12);try{var T=g.abortableTasks;if(0<T.size){var P=y===void 0?Error(t(432)):typeof y=="object"&&y!==null&&typeof y.then=="function"?Error(t(530)):y;g.fatalError=P,T.forEach(function(O){return tu(O,g,P)}),T.clear()}g.destination!==null&&dl(g,g.destination)}catch(O){Dt(g,O,{}),Di(g,O)}}function fl(){var g=r.version;if(g!=="19.1.1")throw Error(t(527,g,"19.1.1"))}return fl(),fl(),jd.prerender=function(g,y){return new Promise(function(T,P){var O=y?y.onHeaders:void 0,W;O&&(W=function(He){O(new Headers(He))});var se=yr(y?y.identifierPrefix:void 0,y?y.unstable_externalRuntimeSrc:void 0,y?y.bootstrapScriptContent:void 0,y?y.bootstrapScripts:void 0,y?y.bootstrapModules:void 0),be=vn(g,se,Ls(se,void 0,y?y.unstable_externalRuntimeSrc:void 0,y?y.importMap:void 0,W,y?y.maxHeadersLength:void 0),ja(y?y.namespaceURI:void 0),y?y.progressiveChunkSize:void 0,y?y.onError:void 0,function(){var He={prelude:new ReadableStream({type:"bytes",pull:function(Pe){Pa(be,Pe)},cancel:function(Pe){be.destination=null,to(be,Pe)}},{highWaterMark:0})};T(He)},void 0,void 0,P,y?y.onPostpone:void 0);if(y&&y.signal){var ue=y.signal;if(ue.aborted)to(be,ue.reason);else{var pe=function(){to(be,ue.reason),ue.removeEventListener("abort",pe)};ue.addEventListener("abort",pe)}}$s(be)})},jd.renderToReadableStream=function(g,y){return new Promise(function(T,P){var O,W,se=new Promise(function(st,ft){W=st,O=ft}),be=y?y.onHeaders:void 0,ue;be&&(ue=function(st){be(new Headers(st))});var pe=yr(y?y.identifierPrefix:void 0,y?y.unstable_externalRuntimeSrc:void 0,y?y.bootstrapScriptContent:void 0,y?y.bootstrapScripts:void 0,y?y.bootstrapModules:void 0),He=fn(g,pe,Ls(pe,y?y.nonce:void 0,y?y.unstable_externalRuntimeSrc:void 0,y?y.importMap:void 0,ue,y?y.maxHeadersLength:void 0),ja(y?y.namespaceURI:void 0),y?y.progressiveChunkSize:void 0,y?y.onError:void 0,W,function(){var st=new ReadableStream({type:"bytes",pull:function(ft){Pa(He,ft)},cancel:function(ft){He.destination=null,to(He,ft)}},{highWaterMark:0});st.allReady=se,T(st)},function(st){se.catch(function(){}),P(st)},O,y?y.onPostpone:void 0,y?y.formState:void 0);if(y&&y.signal){var Pe=y.signal;if(Pe.aborted)to(He,Pe.reason);else{var tt=function(){to(He,Pe.reason),Pe.removeEventListener("abort",tt)};Pe.addEventListener("abort",tt)}}$s(He)})},jd.version="19.1.1",jd}var $b;function vP(){if($b)return Nu;$b=1;var r,e;return r=yP(),e=_P(),Nu.version=r.version,Nu.renderToString=r.renderToString,Nu.renderToStaticMarkup=r.renderToStaticMarkup,Nu.renderToReadableStream=e.renderToReadableStream,e.resume&&(Nu.resume=e.resume),Nu}var bP=vP();const xP={museum:["museum"],gallery:["gallery","arts_centre"],restaurant:["restaurant","fast_food"],cafe:["cafe","bar","pub"],other:["tourist_attraction","attraction","viewpoint"]},wP=(r,e=!0)=>{let t,s;switch(r){case"museum":t=h.jsx(U1,{size:16}),s="#8B5CF6";break;case"gallery":t=h.jsx(Ou,{size:16}),s="#EC4899";break;case"restaurant":t=h.jsx(v_,{size:16}),s="#F59E0B";break;case"cafe":t=h.jsx(Ik,{size:16}),s="#8B4513";break;default:t=h.jsx(Dr,{size:16}),s="#6B7280"}const l=`
    <div style="
      background-color: ${s}; 
      width: 28px; 
      height: 28px; 
      border-radius: 50%; 
      border: 2px solid white; 
      box-shadow: 0 2px 4px rgba(0,0,0,0.3);
      display: flex; 
      align-items: center; 
      justify-content: center;
      opacity: ${e?"0.7":"1"};
    ">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="white">
        ${bP.renderToStaticMarkup(t).replace(/<svg[^>]*>|<\/svg>/g,"")}
      </svg>
    </div>
  `;return df.divIcon({html:l,className:"poi-marker",iconSize:[28,28],iconAnchor:[14,14]})};async function TP(r){const e=r.getSouth(),t=r.getWest(),s=r.getNorth(),l=r.getEast(),d=`
    [out:json][timeout:25];
    (
      node["amenity"~"^(museum|gallery|arts_centre|restaurant|fast_food|cafe|bar|pub)$"](${e},${t},${s},${l});
      node["tourism"~"^(museum|gallery|attraction)$"](${e},${t},${s},${l});
    );
    out body;
  `;try{const v=await fetch("https://overpass-api.de/api/interpreter",{method:"POST",body:d});if(!v.ok)throw new Error("POI data fetch failed");return(await v.json()).elements.filter(A=>A.lat&&A.lon&&A.tags?.name).map(A=>{const N=A.tags.amenity||A.tags.tourism||"other";let M="other";for(const[j,V]of Object.entries(xP))if(V.includes(N)){M=j;break}return{id:A.id.toString(),name:A.tags.name||A.tags["name:ja"]||"名称不明",lat:A.lat,lng:A.lon,type:N,category:M}}).slice(0,50)}catch(v){return console.error("Error fetching POIs:",v),[]}}function EP(){const r=Fg(),{addPlace:e}=Ti(),[t,s]=Ie.useState([]),[l,d]=Ie.useState(!1),[v,E]=Ie.useState(""),[A,N]=Ie.useState(null),M=async()=>{const Q=r.getZoom();if(Q<14){s([]);return}const te=r.getBounds(),J=`${te.getNorth().toFixed(4)}-${te.getSouth().toFixed(4)}-${te.getEast().toFixed(4)}-${te.getWest().toFixed(4)}-${Q}`;if(J===v)return;A&&clearTimeout(A);const K=setTimeout(async()=>{d(!0);try{const _e=await TP(te);s(_e),E(J)}catch(_e){console.error("Failed to load POIs:",_e)}finally{d(!1)}},300);N(K)};Ie.useEffect(()=>{M();const Q=()=>{M()};return r.on("moveend",Q),r.on("zoomend",Q),()=>{r.off("moveend",Q),r.off("zoomend",Q),A&&clearTimeout(A)}},[r]);const j=Q=>{window.confirm(`「${Q.name}」を場所リストに追加しますか？`)&&(e({name:Q.name,address:`${Q.lat.toFixed(6)}, ${Q.lng.toFixed(6)}`,lat:Q.lat,lng:Q.lng,category:Q.category,status:"interested",notes:`地図上のPOIから追加 (${Q.type})`}),alert(`「${Q.name}」を追加しました！`))},V=Q=>{switch(Q){case"museum":return"博物館";case"gallery":return"美術館";case"restaurant":return"レストラン";case"cafe":return"カフェ";default:return"その他"}};return h.jsxs(h.Fragment,{children:[t.map(Q=>h.jsx(zp,{position:[Q.lat,Q.lng],icon:wP(Q.category,!0),children:h.jsx(Up,{children:h.jsxs("div",{className:"p-2 min-w-48",children:[h.jsx("h3",{className:"font-semibold text-lg mb-1",children:Q.name}),h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:ex(Q.category)+"20",color:ex(Q.category)},children:V(Q.category)}),h.jsx("span",{className:"text-xs text-gray-500",children:Q.type})]}),h.jsx("button",{onClick:()=>j(Q),className:"w-full px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"マイリストに追加"})]})})},`poi-${Q.id}`)),l&&h.jsx("div",{className:"absolute top-4 left-4 bg-white px-3 py-2 rounded-lg shadow-lg z-10",children:h.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-blue-600 border-t-transparent"}),h.jsx("span",{children:"POIを読み込み中..."})]})})]})}function ex(r){switch(r){case"museum":return"#8B5CF6";case"gallery":return"#EC4899";case"restaurant":return"#F59E0B";case"cafe":return"#8B4513";default:return"#6B7280"}}function SP(){const{selectedTrip:r,places:e}=Ti(),[t,s]=Ie.useState([]),[l,d]=Ie.useState(!1),v=Fg(),E=r?e.filter(J=>r.places.includes(J.id)):[];Ie.useEffect(()=>{if(!r||E.length<2){s([]);return}A()},[r,E]);const A=async()=>{if(!(E.length<2)){d(!0);try{const J=[];for(let K=0;K<E.length-1;K++){const _e=E[K],Re=E[K+1],ie=await N(_e,Re);ie&&J.push(ie)}if(s(J),J.length>0){const K=J.flatMap(Re=>Re.coordinates),_e=df.latLngBounds(K);v.fitBounds(_e,{padding:[20,20]})}}catch(J){console.error("Failed to fetch routes:",J)}finally{d(!1)}}},N=async(J,K)=>{try{const Re=await fetch(`https://api.openrouteservice.org/v2/directions/foot-walking?api_key=5b3ce3597851110001cf6248b8fe49b0e95544a3a24267e4d99b9c1a&start=${J.lng},${J.lat}&end=${K.lng},${K.lat}`);if(!Re.ok)return{coordinates:[[J.lat,J.lng],[K.lat,K.lng]],distance:M(J.lat,J.lng,K.lat,K.lng),duration:0,mode:"walking"};const ke=(await Re.json()).features[0];return ke?{coordinates:ke.geometry.coordinates.map(Qe=>[Qe[1],Qe[0]]),distance:ke.properties.segments[0].distance,duration:ke.properties.segments[0].duration,mode:"walking"}:null}catch(_e){return console.error("Route fetch error:",_e),{coordinates:[[J.lat,J.lng],[K.lat,K.lng]],distance:M(J.lat,J.lng,K.lat,K.lng),duration:0,mode:"walking"}}},M=(J,K,_e,Re)=>{const ke=(_e-J)*Math.PI/180,Ye=(Re-K)*Math.PI/180,Qe=Math.sin(ke/2)*Math.sin(ke/2)+Math.cos(J*Math.PI/180)*Math.cos(_e*Math.PI/180)*Math.sin(Ye/2)*Math.sin(Ye/2);return 6371*(2*Math.atan2(Math.sqrt(Qe),Math.sqrt(1-Qe)))*1e3},j=J=>J<1e3?`${Math.round(J)}m`:`${(J/1e3).toFixed(1)}km`,V=J=>{if(J===0)return"計算中";const K=Math.round(J/60);if(K<60)return`${K}分`;const _e=Math.floor(K/60),Re=K%60;return`${_e}時間${Re}分`};if(!r||E.length<2)return null;const Q=t.reduce((J,K)=>J+K.distance,0),te=t.reduce((J,K)=>J+K.duration,0);return h.jsxs(h.Fragment,{children:[t.map((J,K)=>h.jsx(bE,{positions:J.coordinates,color:"#3B82F6",weight:4,opacity:.8},K)),!l&&t.length>0&&h.jsxs("div",{className:"absolute top-16 left-4 md:top-4 md:left-4 bg-white p-3 rounded-lg shadow-lg z-10 max-w-xs",children:[h.jsxs("h4",{className:"text-sm font-semibold mb-2 text-gray-900",children:["📍 ",r.name," のルート"]}),h.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"総距離:"}),h.jsx("span",{className:"font-medium",children:j(Q)})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"徒歩時間:"}),h.jsx("span",{className:"font-medium",children:V(te)})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"場所数:"}),h.jsxs("span",{className:"font-medium",children:[E.length,"箇所"]})]})]}),h.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200",children:[h.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"ルート順序:"}),h.jsx("div",{className:"space-y-1",children:E.map((J,K)=>h.jsxs("div",{className:"flex items-center text-xs",children:[h.jsx("div",{className:"w-4 h-4 bg-blue-600 text-white rounded-full flex items-center justify-center text-[10px] mr-2",children:K+1}),h.jsx("span",{className:"text-gray-700 truncate",children:J.name})]},J.id))})]})]}),l&&h.jsx("div",{className:"absolute top-16 left-4 md:top-4 md:left-4 bg-white p-3 rounded-lg shadow-lg z-10",children:h.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-blue-600 border-t-transparent mr-2"}),"ルートを計算中..."]})})]})}const tx=new Map;function AP(){const[r,e]=Ie.useState(""),[t,s]=Ie.useState([]),[l,d]=Ie.useState(!1),[v,E]=Ie.useState(!1),[A,N]=Ie.useState(-1),[M,j]=Ie.useState(()=>{try{const q=localStorage.getItem("recent-searches");return q?JSON.parse(q):[]}catch{return[]}}),V=Ie.useRef(null),Q=Ie.useRef(null),te=Ie.useRef(null),J=Fg(),{addPlace:K}=Ti(),_e=Ie.useCallback(q=>{try{localStorage.setItem("recent-searches",JSON.stringify(q)),j(q)}catch(X){console.warn("Failed to save recent searches:",X)}},[]),Re=Ie.useCallback(q=>{const X=[q,...M.filter(rt=>rt!==q)].slice(0,5);_e(X)},[M,_e]);Ie.useEffect(()=>{const q=X=>{Q.current&&!Q.current.contains(X.target)&&(E(!1),N(-1))};return document.addEventListener("mousedown",q),()=>document.removeEventListener("mousedown",q)},[]);const ie=Ie.useCallback(async q=>{if(!q.trim()||q.length<2){s([]),E(!1);return}const X=q.toLowerCase().trim(),rt=tx.get(X);if(rt){s(rt),E(!0),d(!1);return}d(!0);try{const lt=await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(q)}&format=json&limit=6&addressdetails=1&accept-language=ja&extratags=1`);if(lt.ok){const le=(await lt.json()).filter(Ce=>Ce.name||Ce.display_name).sort((Ce,xt)=>(xt.importance||0)-(Ce.importance||0));tx.set(X,le),s(le),E(le.length>0),N(-1)}}catch(lt){console.error("Search error:",lt),s([])}finally{d(!1)}},[]),ke=q=>{const X=q.target.value;e(X),te.current&&clearTimeout(te.current),te.current=setTimeout(()=>{ie(X)},200)},Ye=q=>{const X=parseFloat(q.lat),rt=parseFloat(q.lon),lt=q.name||q.display_name.split(",")[0];Re(lt),J.setView([X,rt],16,{animate:!0,duration:.5}),e(""),s([]),E(!1),N(-1),V.current?.blur(),setTimeout(()=>{window.confirm(`📍 「${lt}」をマイリストに追加しますか？

📍 ${q.display_name}`)&&(K({name:lt,address:q.display_name,lat:X,lng:rt,category:ce(q.class,q.type),status:"interested",notes:`検索から追加: ${q.class}/${q.type}`}),setTimeout(()=>{alert(`✅ 「${lt}」がマイリストに追加されました！`)},100))},300)},Qe=q=>{e(q),ie(q),V.current?.focus()},ce=(q,X)=>({amenity:{museum:"museum",gallery:"gallery",arts_centre:"gallery",restaurant:"restaurant",fast_food:"restaurant",cafe:"cafe",bar:"restaurant"},tourism:{museum:"museum",gallery:"gallery",attraction:"landmark",monument:"landmark"},historic:{monument:"landmark",castle:"landmark",archaeological_site:"landmark"}})[q]?.[X]||"other",H=(q,X)=>{const rt={restaurant:"🍽️",fast_food:"🍔",cafe:"☕",museum:"🏛️",gallery:"🎨",arts_centre:"🎭",attraction:"🎯",monument:"🗿",hotel:"🏨",shop:"🛍️",bank:"🏦",hospital:"🏥",school:"🏫"};return rt[X]||rt[q]||"📍"},Y=q=>{if(v)switch(q.key){case"ArrowDown":q.preventDefault(),N(X=>X<t.length-1?X+1:0);break;case"ArrowUp":q.preventDefault(),N(X=>X>0?X-1:t.length-1);break;case"Enter":q.preventDefault(),A>=0&&t[A]&&Ye(t[A]);break;case"Escape":E(!1),N(-1),V.current?.blur();break}},he=()=>{e(""),s([]),E(!1),N(-1),V.current?.focus()},ae=()=>{(r.length>=2&&t.length>0||r.length===0&&M.length>0)&&E(!0)};return h.jsx("div",{className:"fixed top-4 left-4 right-4 max-w-md mx-auto",style:{zIndex:1003},children:h.jsxs("div",{ref:Q,className:"relative",children:[h.jsxs("div",{className:"relative bg-white rounded-xl shadow-lg border border-gray-200 backdrop-blur-sm",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:l?h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-blue-500 border-t-transparent"}):h.jsx(mm,{className:"h-4 w-4 text-gray-400"})}),h.jsx("input",{ref:V,type:"text",value:r,onChange:ke,onKeyDown:Y,onFocus:ae,className:"block w-full pl-12 pr-10 py-4 border-0 rounded-xl bg-transparent focus:ring-0 focus:outline-none text-gray-900 placeholder-gray-500 text-base",placeholder:"場所を検索...",maxLength:100}),r&&h.jsx("button",{onClick:he,className:"absolute inset-y-0 right-0 pr-4 flex items-center hover:bg-gray-50 rounded-r-xl transition-colors",children:h.jsx(ba,{className:"h-4 w-4 text-gray-400 hover:text-gray-600"})})]}),v&&h.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl border border-gray-200 overflow-hidden backdrop-blur-sm",children:[r.length===0&&M.length>0&&h.jsxs("div",{className:"p-3 border-b border-gray-100",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx(rc,{className:"h-4 w-4 text-gray-400"}),h.jsx("span",{className:"text-xs font-medium text-gray-500",children:"最近の検索"})]}),h.jsx("div",{className:"space-y-1",children:M.slice(0,3).map((q,X)=>h.jsxs("button",{onClick:()=>Qe(q),className:"flex items-center gap-2 w-full px-2 py-2 text-left hover:bg-gray-50 rounded-lg transition-colors text-sm",children:[h.jsx(rc,{className:"h-3 w-3 text-gray-400"}),h.jsx("span",{className:"text-gray-700",children:q})]},X))})]}),t.length>0&&r.length>=2&&h.jsx("div",{className:"max-h-80 overflow-y-auto",children:t.map((q,X)=>h.jsx("button",{onClick:()=>Ye(q),className:`w-full px-4 py-3 text-left hover:bg-gray-50 border-b border-gray-50 last:border-b-0 transition-colors ${X===A?"bg-blue-50 border-blue-100":""}`,children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("span",{className:"text-lg flex-shrink-0 mt-0.5",children:H(q.class,q.type)}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("div",{className:"font-medium text-gray-900 text-sm truncate",children:q.name||q.display_name.split(",")[0]}),h.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-1",children:q.display_name}),h.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[h.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-gray-100 text-gray-600 rounded",children:q.type}),q.importance>.5&&h.jsx(Ou,{className:"h-3 w-3 text-yellow-400 fill-current"})]})]}),h.jsx(B1,{className:"h-4 w-4 text-gray-300 flex-shrink-0"})]})},X))}),r.length>=2&&!l&&t.length===0&&h.jsxs("div",{className:"p-6 text-center",children:[h.jsx(Dr,{className:"mx-auto h-8 w-8 text-gray-300 mb-2"}),h.jsx("p",{className:"text-sm text-gray-500",children:"該当する場所が見つかりません"}),h.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"別のキーワードをお試しください"})]})]})]})})}delete df.Icon.Default.prototype._getIconUrl;df.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const nx=(r,e,t)=>{let s="";const l=t?"16":"20",d=t?"10":"12",v=t?`border: 3px solid ${r}; background-color: white;`:`border: 2px solid white; background-color: ${r};`,E=t?r:"white";switch(e){case"interested":s=`<div style="${v} width: ${l}px; height: ${l}px; border-radius: 50%; display: flex; align-items: center; justify-content: center; ${t?"opacity: 0.8;":""}">
        <svg width="${d}" height="${d}" viewBox="0 0 24 24" fill="${E}">
          <path d="M12 2L13.09 8.26L22 9L17 14L18.18 22L12 19L5.82 22L7 14L2 9L10.91 8.26L12 2Z"/>
        </svg>
      </div>`;break;case"planned":s=`<div style="${v} width: ${l}px; height: ${l}px; border-radius: 50%; display: flex; align-items: center; justify-content: center; ${t?"opacity: 0.8;":""}">
        <svg width="${d}" height="${d}" viewBox="0 0 24 24" fill="${E}">
          <path d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V8H19V19ZM7 10H17V12H7V10ZM7 14H12V16H7V14Z"/>
        </svg>
      </div>`;break;case"visited":s=`<div style="${v} width: ${l}px; height: ${l}px; border-radius: 50%; display: flex; align-items: center; justify-content: center; ${t?"opacity: 0.8;":""}">
        <svg width="${d}" height="${d}" viewBox="0 0 24 24" fill="${E}">
          <path d="M9 16.17L4.83 12L3.41 13.41L9 19L21 7L19.59 5.59L9 16.17Z"/>
        </svg>
      </div>`;break}return df.divIcon({html:s,className:"custom-marker",iconSize:[20,20],iconAnchor:[10,10]})},Dp=r=>{switch(r){case"interested":return"#3B82F6";case"planned":return"#F59E0B";case"visited":return"#10B981";default:return"#6B7280"}};function NP(){const{setSelectedPlace:r,addPlace:e}=Ti();return yE({click:t=>{if(t.originalEvent&&t.originalEvent.target){const v=t.originalEvent.target;if(v.closest(".leaflet-marker-pane")||v.closest(".leaflet-popup"))return}const{lat:s,lng:l}=t.latlng;r(void 0);const d=window.innerWidth<768?"📍 この場所に追加しますか？":`この場所（緯度: ${s.toFixed(6)}, 経度: ${l.toFixed(6)}）に場所を追加しますか？`;setTimeout(()=>{window.confirm(d)&&RP(s,l,e)},100)}}),null}async function RP(r,e,t){try{const s=await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${r}&lon=${e}&format=json&addressdetails=1&accept-language=ja`);if(!s.ok)throw new Error("位置情報の取得に失敗しました");const l=await s.json(),d=l.display_name.split(",")[0]||"新しい場所",v=l.display_name||`緯度: ${r.toFixed(6)}, 経度: ${e.toFixed(6)}`;let E="other";if(l.address?.amenity){const A=l.address.amenity;A.includes("restaurant")||A.includes("cafe")||A.includes("food")?E="restaurant":A.includes("museum")&&(E="museum")}t({name:d,address:v,lat:r,lng:e,category:E,status:"interested",notes:"地図上でクリックして追加された場所"}),alert(`「${d}」を追加しました！`)}catch(s){console.error("Error fetching location info:",s);const l=`場所 ${new Date().toLocaleTimeString()}`;t({name:l,address:`緯度: ${r.toFixed(6)}, 経度: ${e.toFixed(6)}`,lat:r,lng:e,category:"other",status:"interested",notes:"地図上でクリックして追加された場所"}),alert(`${l}を追加しました！`)}}function CP({className:r=""}){const{places:e,trips:t,photos:s,setSelectedPlace:l,mapViewState:d,isDarkMode:v,toggleTheme:E,loadData:A}=Ti(),[N,M]=Ie.useState(!0),[j,V]=Ie.useState(!0);Ie.useEffect(()=>{A()},[A]);const Q=K=>{l(K)},J=(()=>{const K=t.filter(ie=>ie.status==="completed"),_e=["#8B5CF6","#EC4899","#F59E0B","#10B981","#EF4444","#6366F1","#84CC16","#F97316"],Re=[];return K.forEach((ie,ke)=>{const Ye=_e[ke%_e.length];e.filter(ce=>ie.places.includes(ce.id)&&ce.status==="visited").forEach(ce=>{const H=s.filter(Y=>Y.tripId===ie.id&&Y.placeId===ce.id);Re.push({place:ce,tripId:ie.id,tripName:ie.name,tripColor:Ye,photos:H})})}),Re})();return h.jsxs("div",{className:`relative ${r}`,children:[h.jsxs(vE,{center:d.center,zoom:d.zoom,className:"h-full w-full z-0",whenReady:()=>{},children:[h.jsx(xE,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",maxZoom:19,minZoom:3,keepBuffer:2,updateWhenIdle:!0,updateWhenZooming:!1}),h.jsx(NP,{}),h.jsx(AP,{}),N&&h.jsx(EP,{}),h.jsx(SP,{}),e.filter(K=>!J.some(_e=>_e.place.id===K.id)).map(K=>h.jsx(zp,{position:[K.lat,K.lng],icon:nx(Dp(K.status),K.status),eventHandlers:{click:()=>Q(K)},children:h.jsx(Up,{maxWidth:300,className:"custom-popup",children:h.jsxs("div",{className:"p-2 min-w-48 max-w-72",children:[h.jsx("h3",{className:"font-semibold text-base md:text-lg mb-1 leading-tight",children:K.name}),h.jsx("p",{className:"text-xs md:text-sm text-gray-600 mb-2 leading-relaxed",children:K.address}),h.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[h.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:Dp(K.status)+"20",color:Dp(K.status)},children:K.status==="interested"?"興味あり":K.status==="planned"?"計画中":"訪問済み"}),h.jsx("span",{className:"text-xs text-gray-500 capitalize",children:K.category})]}),K.notes&&h.jsx("p",{className:"text-xs md:text-sm text-gray-700 mt-2 leading-relaxed",children:K.notes}),K.openingHours&&h.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["営業時間: ",K.openingHours]})]})})},K.id)),j&&J.map(K=>h.jsx(zp,{position:[K.place.lat,K.place.lng],icon:nx(K.tripColor,K.place.status,!0),eventHandlers:{click:()=>Q(K.place)},children:h.jsx(Up,{maxWidth:350,className:"custom-popup",children:h.jsxs("div",{className:"p-3 min-w-52 max-w-80",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:K.tripColor}}),h.jsx("h3",{className:"font-semibold text-base md:text-lg leading-tight",children:K.place.name})]}),h.jsxs("p",{className:"text-xs md:text-sm text-gray-600 mb-2",children:["📍 ",K.place.address]}),h.jsxs("div",{className:"flex items-center gap-2 mb-3 flex-wrap",children:[h.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:K.tripColor+"20",color:K.tripColor},children:["🧳 ",K.tripName]}),h.jsx("span",{className:"text-xs text-gray-500 capitalize",children:K.place.category})]}),K.photos.length>0&&h.jsxs("div",{className:"mb-3",children:[h.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["📸 写真 (",K.photos.length,"枚)"]}),h.jsx("div",{className:"grid grid-cols-3 gap-1 max-h-24 overflow-hidden",children:K.photos.slice(0,6).map((_e,Re)=>h.jsx("div",{className:"aspect-square bg-gray-100 rounded overflow-hidden",children:_e.url?h.jsx("img",{src:_e.url,alt:`${K.place.name}の写真`,className:"w-full h-full object-cover"}):h.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:h.jsx("span",{className:"text-xs text-gray-500",children:"📷"})})},_e.id||Re))}),K.photos.length>6&&h.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["他 ",K.photos.length-6,"枚"]})]}),K.place.notes&&h.jsx("p",{className:"text-xs md:text-sm text-gray-700 mt-2 leading-relaxed",children:K.place.notes})]})})},`trip-${K.tripId}-${K.place.id}`))]}),h.jsxs("div",{className:"absolute top-4 left-4 md:top-4 md:right-4 space-y-2 z-10",children:[h.jsxs("button",{onClick:()=>M(!N),className:`px-3 py-2 rounded-lg shadow-lg text-xs md:text-sm font-medium transition-colors ${N?"bg-blue-600 text-white hover:bg-blue-700":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[h.jsx("span",{className:"hidden md:inline",children:N?"POI非表示":"POI表示"}),h.jsx("span",{className:"md:hidden",children:"POI"})]}),h.jsxs("button",{onClick:()=>V(!j),className:`px-3 py-2 rounded-lg shadow-lg text-xs md:text-sm font-medium transition-colors ${j?"bg-purple-600 text-white hover:bg-purple-700":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[h.jsx("span",{className:"hidden md:inline",children:j?"過去旅行非表示":"過去旅行表示"}),h.jsx("span",{className:"md:hidden",children:"🧳"})]}),h.jsx("button",{onClick:E,className:"px-3 py-2 rounded-lg shadow-lg text-xs md:text-sm font-medium transition-colors bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700","aria-label":"Toggle theme",children:v?h.jsx(oP,{size:16,className:"md:w-5 md:h-5"}):h.jsx(Qk,{size:16,className:"md:w-5 md:h-5"})})]}),h.jsxs("div",{className:"hidden md:block absolute bottom-4 right-4 bg-white p-3 rounded-lg shadow-lg z-10",children:[h.jsx("h4",{className:"text-sm font-semibold mb-2",children:"凡例"}),h.jsxs("div",{className:"space-y-1 mb-3",children:[h.jsx("h5",{className:"text-xs font-medium text-gray-600",children:"マイリスト"}),h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),h.jsx("span",{children:"興味あり"})]}),h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),h.jsx("span",{children:"計画中"})]}),h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),h.jsx("span",{children:"訪問済み"})]})]}),j&&J.length>0&&h.jsxs("div",{className:"space-y-1 border-t pt-2",children:[h.jsx("h5",{className:"text-xs font-medium text-gray-600",children:"過去の旅行"}),J.reduce((K,_e)=>(K.find(Re=>Re.tripName===_e.tripName)||K.push(_e),K),[]).slice(0,4).map((K,_e)=>h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsx("div",{className:"w-2 h-2 rounded-full border border-gray-400",style:{borderColor:K.tripColor,borderWidth:2}}),h.jsx("span",{children:K.tripName})]},K.tripId)),h.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"🧳 写真付きで表示"})]}),N&&h.jsxs("div",{className:"space-y-1 border-t pt-2",children:[h.jsx("h5",{className:"text-xs font-medium text-gray-600",children:"POI"}),h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500"}),h.jsx("span",{children:"博物館"})]}),h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsx("div",{className:"w-3 h-3 rounded-full bg-pink-500"}),h.jsx("span",{children:"美術館"})]}),h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),h.jsx("span",{children:"レストラン"})]}),h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-600"}),h.jsx("span",{children:"カフェ"})]}),h.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"ズーム14以上で表示"})]})]})]})}function IP({place:r,onClose:e}){const{trips:t,updateTrip:s}=Ti(),[l,d]=Ie.useState(""),v=t.filter(N=>N.status==="planned"||N.status==="in_progress"),E=()=>{if(!l)return;const N=t.find(M=>M.id===l);if(N){if(N.places.includes(r.id)){alert("この場所は既に選択した旅行に追加されています。");return}s(l,{places:[...N.places,r.id]}),alert(`「${r.name}」を「${N.name}」に追加しました！`),e()}},A=N=>new Date(N).toLocaleDateString("ja-JP",{month:"short",day:"numeric"});return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"旅行に追加"}),h.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:h.jsx(ba,{size:20})})]}),h.jsx("div",{className:"bg-blue-50 p-4 rounded-lg mb-6",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(Dr,{size:20,className:"text-blue-600 flex-shrink-0 mt-0.5"}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-blue-900",children:r.name}),h.jsx("p",{className:"text-sm text-blue-700 mt-1",children:r.address})]})]})}),v.length===0?h.jsxs("div",{className:"text-center py-8",children:[h.jsx(oa,{size:48,className:"mx-auto text-gray-400 mb-4"}),h.jsx("p",{className:"text-gray-500 mb-2",children:"追加可能な旅行計画がありません"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"先に旅行計画を作成してください"})]}):h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"追加先の旅行を選択してください"}),h.jsx("div",{className:"space-y-2 mb-6",children:v.map(N=>h.jsxs("label",{className:`flex items-center p-3 border rounded-lg cursor-pointer transition-colors ${l===N.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:bg-gray-50"}`,children:[h.jsx("input",{type:"radio",name:"trip",value:N.id,checked:l===N.id,onChange:M=>d(M.target.value),className:"mr-3 text-blue-600"}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("h4",{className:"font-medium text-gray-900",children:N.name}),h.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${N.status==="planned"?"bg-blue-100 text-blue-700":"bg-orange-100 text-orange-700"}`,children:N.status==="planned"?"計画中":"実行中"})]}),h.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[h.jsx(oa,{size:14}),h.jsxs("span",{children:[A(N.startDate)," - ",A(N.endDate)]})]}),h.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["現在の場所数: ",N.places.length,"箇所",N.places.includes(r.id)&&h.jsx("span",{className:"text-orange-600 ml-2",children:"※既に追加済み"})]})]})]},N.id))}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:e,className:"flex-1 px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"キャンセル"}),h.jsx("button",{onClick:E,disabled:!l,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"追加"})]})]})]})})}function G1({icon:r,title:e,description:t,actionLabel:s,onAction:l,suggestions:d=[],className:v=""}){return h.jsxs("div",{className:`text-center py-12 px-6 ${v}`,children:[h.jsx("div",{className:"flex justify-center mb-4",children:h.jsx("div",{className:"text-gray-400 dark:text-gray-500",children:r})}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:e}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 max-w-md mx-auto",children:t}),d.length>0&&h.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900 rounded-lg p-4 mb-6 max-w-md mx-auto",children:[h.jsxs("div",{className:"flex items-start gap-2 mb-3",children:[h.jsx(Gk,{className:"text-blue-600 dark:text-blue-400 mt-0.5",size:16}),h.jsx("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"始め方のヒント"})]}),h.jsx("ul",{className:"space-y-2",children:d.map((E,A)=>h.jsxs("li",{className:"flex items-start gap-2 text-sm text-blue-800 dark:text-blue-200",children:[h.jsx(Lg,{className:"mt-0.5 flex-shrink-0",size:12}),h.jsx("span",{children:E})]},A))})]}),s&&l&&h.jsxs("button",{onClick:l,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[s,h.jsx(Lg,{size:16})]})]})}function kP({onAddPlace:r,onEditPlace:e}){const{places:t,deletePlace:s,setSelectedPlace:l}=Ti(),[d,v]=Ie.useState(!1),[E,A]=Ie.useState(),N=_e=>{switch(_e){case"museum":return h.jsx(U1,{size:16,className:"text-blue-600"});case"gallery":return h.jsx(Ou,{size:16,className:"text-purple-600"});case"restaurant":return h.jsx(v_,{size:16,className:"text-orange-600"});case"landmark":return h.jsx(Dr,{size:16,className:"text-red-600"});default:return h.jsx(Dr,{size:16,className:"text-gray-600"})}},M=_e=>{switch(_e){case"interested":return"bg-blue-100 text-blue-700";case"planned":return"bg-orange-100 text-orange-700";case"visited":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}},j=_e=>{switch(_e){case"interested":return"興味あり";case"planned":return"計画中";case"visited":return"訪問済み";default:return"未設定"}},V=_e=>{window.confirm(`「${_e.name}」を削除しますか？`)&&s(_e.id)},Q=_e=>{l(_e)},te=_e=>{A(_e),v(!0)},J=()=>{v(!1),A(void 0)},K=t.reduce((_e,Re)=>{const ie=Re.status;return _e[ie]||(_e[ie]=[]),_e[ie].push(Re),_e},{});return h.jsxs("div",{className:"h-full flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 border-b",children:[h.jsx("h2",{className:"text-base md:text-lg font-semibold",children:"場所管理"}),h.jsxs("button",{onClick:r,className:"px-2 md:px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-xs md:text-sm",children:[h.jsx("span",{className:"hidden md:inline",children:"新しい場所を追加"}),h.jsx("span",{className:"md:hidden",children:"追加"})]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:t.length===0?h.jsx(G1,{icon:h.jsx(Dr,{size:48}),title:"まだ場所が登録されていません",description:"行きたい場所を追加して、旅行計画の準備を始めましょう！",actionLabel:"最初の場所を追加",onAction:r,suggestions:["地図を拡大すると美術館やカフェなどのPOIが表示されます","POIをクリックして「マイリストに追加」で簡単登録","「新しい場所を追加」ボタンで手動登録も可能","住所やキーワードで検索して追加することもできます"]}):h.jsxs("div",{className:"space-y-6",children:[K.interested&&h.jsxs("div",{children:[h.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[h.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),"興味あり (",K.interested.length,")"]}),h.jsx("div",{className:"space-y-2",children:K.interested.map(_e=>h.jsx(Op,{place:_e,onEdit:e,onDelete:V,onClick:Q,onAddToTrip:te,getCategoryIcon:N,getStatusColor:M,getStatusText:j},_e.id))})]}),K.planned&&h.jsxs("div",{children:[h.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[h.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),"計画中 (",K.planned.length,")"]}),h.jsx("div",{className:"space-y-2",children:K.planned.map(_e=>h.jsx(Op,{place:_e,onEdit:e,onDelete:V,onClick:Q,onAddToTrip:te,getCategoryIcon:N,getStatusColor:M,getStatusText:j},_e.id))})]}),K.visited&&h.jsxs("div",{children:[h.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[h.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),"訪問済み (",K.visited.length,")"]}),h.jsx("div",{className:"space-y-2",children:K.visited.map(_e=>h.jsx(Op,{place:_e,onEdit:e,onDelete:V,onClick:Q,onAddToTrip:te,getCategoryIcon:N,getStatusColor:M,getStatusText:j},_e.id))})]})]})}),d&&E&&h.jsx(IP,{place:E,onClose:J})]})}function Op({place:r,onEdit:e,onDelete:t,onClick:s,onAddToTrip:l,getCategoryIcon:d,getStatusColor:v,getStatusText:E}){return h.jsx("div",{className:"bg-white border rounded-lg p-3 hover:shadow-md transition-shadow cursor-pointer group",onClick:()=>s(r),children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d(r.category),h.jsx("h4",{className:"font-semibold text-gray-900 truncate",children:r.name})]}),h.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:r.address}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v(r.status)}`,children:E(r.status)}),h.jsx("span",{className:"text-xs text-gray-500 capitalize",children:r.category})]}),r.notes&&h.jsx("p",{className:"text-sm text-gray-500 mt-2 line-clamp-2",children:r.notes})]}),h.jsxs("div",{className:"flex items-center gap-1 ml-3 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:[h.jsx("button",{onClick:A=>{A.stopPropagation(),l(r)},className:"p-1.5 md:p-2 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors","aria-label":"旅行に追加",children:h.jsx(F1,{size:14,className:"md:w-4 md:h-4"})}),h.jsx("button",{onClick:A=>{A.stopPropagation(),e(r)},className:"p-1.5 md:p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors","aria-label":"編集",children:h.jsx(gm,{size:14,className:"md:w-4 md:h-4"})}),h.jsx("button",{onClick:A=>{A.stopPropagation(),t(r)},className:"p-1.5 md:p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors","aria-label":"削除",children:h.jsx(__,{size:14,className:"md:w-4 md:h-4"})})]})]})})}function PP({place:r,onClose:e}){const{addPlace:t,updatePlace:s}=Ti(),[l,d]=Ie.useState({name:"",address:"",lat:35.6762,lng:139.6503,category:"museum",status:"interested",notes:"",openingHours:"",website:"",phone:""}),[v,E]=Ie.useState(!1);Ie.useEffect(()=>{r&&d({name:r.name,address:r.address,lat:r.lat,lng:r.lng,category:r.category,status:r.status,notes:r.notes||"",openingHours:r.openingHours||"",website:r.website||"",phone:r.phone||""})},[r]);const A=Q=>{const{name:te,value:J}=Q.target;d(K=>({...K,[te]:J}))},N=Q=>{if(Q.preventDefault(),!l.name.trim()||!l.address.trim()){alert("名前と住所は必須項目です。");return}r?s(r.id,l):t(l),e()},M=async()=>{if(l.address.trim()){E(!0);try{const Q=await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(l.address)}&format=json&limit=1&addressdetails=1&accept-language=ja`);if(!Q.ok)throw new Error("検索に失敗しました");const te=await Q.json();if(te.length>0){const J=te[0],K=parseFloat(J.lat),_e=parseFloat(J.lon),Re=J.display_name,ie=J.name||Re.split(",")[0]||l.name;d(ke=>({...ke,name:ke.name||ie,address:Re,lat:parseFloat(K.toFixed(6)),lng:parseFloat(_e.toFixed(6))})),alert(`✅ 場所が見つかりました！
${ie}
座標: ${K.toFixed(6)}, ${_e.toFixed(6)}`)}else alert(`⚠️ 該当する場所が見つかりませんでした。
別のキーワードを試してください。`)}catch(Q){console.error("Geocoding error:",Q),alert(`❌ 住所検索中にエラーが発生しました。
ネットワーク接続を確認してください。`)}finally{E(!1)}}},j=[{value:"museum",label:"博物館"},{value:"gallery",label:"美術館"},{value:"landmark",label:"ランドマーク"},{value:"restaurant",label:"レストラン"},{value:"other",label:"その他"}],V=[{value:"interested",label:"興味あり"},{value:"planned",label:"計画中"},{value:"visited",label:"訪問済み"}];return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto m-4",children:[h.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[h.jsx("h2",{className:"text-xl font-semibold",children:r?"場所を編集":"新しい場所を追加"}),h.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:h.jsx(ba,{size:24})})]}),h.jsxs("form",{onSubmit:N,className:"p-6 space-y-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"text-lg font-medium",children:"基本情報"}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"名前 *"}),h.jsx("input",{type:"text",id:"name",name:"name",value:l.name,onChange:A,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"場所の名前を入力"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"住所 *"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"text",id:"address",name:"address",value:l.address,onChange:A,required:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"住所を入力"}),h.jsxs("button",{type:"button",onClick:M,disabled:v||!l.address.trim(),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[v?h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-gray-600 border-t-transparent"}):h.jsx(mm,{size:16}),"検索"]})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"カテゴリ"}),h.jsx("select",{id:"category",name:"category",value:l.category,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:j.map(Q=>h.jsx("option",{value:Q.value,children:Q.label},Q.value))})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"ステータス"}),h.jsx("select",{id:"status",name:"status",value:l.status,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:V.map(Q=>h.jsx("option",{value:Q.value,children:Q.label},Q.value))})]})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("h3",{className:"text-lg font-medium flex items-center gap-2",children:[h.jsx(Dr,{size:20}),"位置情報"]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"lat",className:"block text-sm font-medium text-gray-700 mb-1",children:"緯度"}),h.jsx("input",{type:"number",id:"lat",name:"lat",value:l.lat,onChange:A,step:"any",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"lng",className:"block text-sm font-medium text-gray-700 mb-1",children:"経度"}),h.jsx("input",{type:"number",id:"lng",name:"lng",value:l.lng,onChange:A,step:"any",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"text-lg font-medium",children:"詳細情報"}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"メモ"}),h.jsx("textarea",{id:"notes",name:"notes",value:l.notes,onChange:A,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"メモや感想を入力"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"openingHours",className:"block text-sm font-medium text-gray-700 mb-1",children:"営業時間"}),h.jsx("input",{type:"text",id:"openingHours",name:"openingHours",value:l.openingHours,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"例: 9:00-17:00"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-700 mb-1",children:"ウェブサイト"}),h.jsx("input",{type:"url",id:"website",name:"website",value:l.website,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"電話番号"}),h.jsx("input",{type:"tel",id:"phone",name:"phone",value:l.phone,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"03-1234-5678"})]})]})]}),h.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[h.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"キャンセル"}),h.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:r?"更新":"追加"})]})]})]})})}function MP({trip:r,onClose:e}){const{addTrip:t,updateTrip:s}=Ti(),[l,d]=Ie.useState({name:r?.name||"",description:r?.description||"",startDate:r?.startDate||"",endDate:r?.endDate||"",theme:r?.theme||"",budget:r?.budget?.toString()||"",notes:r?.notes||"",status:r?.status||"planned"}),[v,E]=Ie.useState({}),A=()=>{const V={};return l.name.trim()||(V.name="旅行名は必須です"),l.startDate||(V.startDate="開始日は必須です"),l.endDate||(V.endDate="終了日は必須です"),l.startDate&&l.endDate&&l.startDate>l.endDate&&(V.endDate="終了日は開始日以降にしてください"),l.budget&&isNaN(Number(l.budget))&&(V.budget="予算は数値で入力してください"),E(V),Object.keys(V).length===0},N=V=>{if(V.preventDefault(),!A())return;const Q={name:l.name.trim(),description:l.description.trim()||void 0,startDate:l.startDate,endDate:l.endDate,theme:l.theme.trim()||void 0,budget:l.budget?Number(l.budget):void 0,notes:l.notes.trim()||void 0,status:l.status,places:r?.places||[],images:r?.images||[]};r?s(r.id,Q):t(Q),e()},M=(V,Q)=>{d(te=>({...te,[V]:Q})),v[V]&&E(te=>({...te,[V]:""}))},j=["文化・歴史","自然・風景","グルメ","アート・美術","ショッピング","リラックス","アクティブ","その他"];return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto mx-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r?"旅行計画を編集":"新しい旅行計画"}),h.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:h.jsx(ba,{size:20})})]}),h.jsxs("form",{onSubmit:N,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[h.jsx(Dr,{size:16,className:"inline mr-1"}),"旅行名 *"]}),h.jsx("input",{type:"text",value:l.name,onChange:V=>M("name",V.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${v.name?"border-red-500":"border-gray-300"}`,placeholder:"例: 京都の紅葉巡り"}),v.name&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:v.name})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[h.jsx(p_,{size:16,className:"inline mr-1"}),"説明"]}),h.jsx("textarea",{value:l.description,onChange:V=>M("description",V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"旅行の目的や概要を入力してください"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[h.jsx(oa,{size:16,className:"inline mr-1"}),"開始日 *"]}),h.jsx("input",{type:"date",value:l.startDate,onChange:V=>M("startDate",V.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${v.startDate?"border-red-500":"border-gray-300"}`}),v.startDate&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:v.startDate})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[h.jsx(oa,{size:16,className:"inline mr-1"}),"終了日 *"]}),h.jsx("input",{type:"date",value:l.endDate,onChange:V=>M("endDate",V.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${v.endDate?"border-red-500":"border-gray-300"}`}),v.endDate&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:v.endDate})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"テーマ"}),h.jsxs("select",{value:l.theme,onChange:V=>M("theme",V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[h.jsx("option",{value:"",children:"選択してください"}),j.map(V=>h.jsx("option",{value:V,children:V},V))]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[h.jsx(fm,{size:16,className:"inline mr-1"}),"予算"]}),h.jsx("input",{type:"text",value:l.budget,onChange:V=>M("budget",V.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${v.budget?"border-red-500":"border-gray-300"}`,placeholder:"50000"}),v.budget&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:v.budget}),h.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"円単位で入力してください"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ステータス"}),h.jsxs("select",{value:l.status,onChange:V=>M("status",V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[h.jsx("option",{value:"planned",children:"計画中"}),h.jsx("option",{value:"in_progress",children:"実行中"}),h.jsx("option",{value:"completed",children:"完了"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"メモ"}),h.jsx("textarea",{value:l.notes,onChange:V=>M("notes",V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"特別な準備や注意事項など"})]}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"キャンセル"}),h.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:r?"更新":"作成"})]})]})]})})}function DP({tripId:r,placeId:e,onClose:t}){const{addPhoto:s,trips:l,places:d}=Ti(),[v,E]=Ie.useState(""),[A,N]=Ie.useState(!1),[M,j]=Ie.useState(null),[V,Q]=Ie.useState(null),[te,J]=Ie.useState({isAnalyzing:!1,hasLocation:!1}),K=Ie.useRef(null),_e=r?l.find(Qe=>Qe.id===r):void 0,Re=e?d.find(Qe=>Qe.id===e):void 0,ie=async Qe=>{const ce=Qe.target.files?.[0];if(!ce)return;if(ce.size>5*1024*1024){alert("ファイルサイズは5MB以下にしてください");return}if(!ce.type.startsWith("image/")){alert("画像ファイルを選択してください");return}J({isAnalyzing:!0,hasLocation:!1});const H=new FileReader;H.onload=Y=>{j(Y.target?.result)},H.readAsDataURL(ce);try{const Y=await ek(ce);if(Y.location){const he=ok(Y.location,d,200);Q({lat:Y.location.lat,lng:Y.location.lng,nearestPlace:he||void 0,timestamp:Y.timestamp});let ae="";he?ae=`📍 ${he.place.name}の近くで撮影 (約${Math.round(he.distance)}m)`:ae="📍 位置情報が検出されましたが、登録済みの場所に近いものはありません",J({isAnalyzing:!1,hasLocation:!0,suggestion:ae})}else J({isAnalyzing:!1,hasLocation:!1,suggestion:"📍 この写真に位置情報は含まれていません"})}catch(Y){console.error("EXIF analysis error:",Y),J({isAnalyzing:!1,hasLocation:!1,suggestion:"📍 位置情報の分析に失敗しました"})}},ke=async()=>{if(!M){alert("写真を選択してください");return}N(!0);try{let Qe=e,ce=Re?{lat:Re.lat,lng:Re.lng}:void 0;V?.nearestPlace&&!e?(Qe=V.nearestPlace.place.id,ce={lat:V.nearestPlace.place.lat,lng:V.nearestPlace.place.lng}):V&&!ce&&(ce={lat:V.lat,lng:V.lng});const H={tripId:r,placeId:Qe,url:M,caption:v.trim()||void 0,takenAt:V?.timestamp?.toISOString()||new Date().toISOString(),location:ce,autoClassified:!!V?.nearestPlace};await s(H);let Y="📸 写真をアップロードしました！";if(Qe){const he=d.find(ae=>ae.id===Qe)?.name;Y+=`
📍 場所: ${he}`}V?.nearestPlace?Y+=`
✨ 位置情報から自動分類されました`:ce&&(Y+=`
📍 GPS座標が記録されました`),alert(Y),E(""),j(null),K.current&&(K.current.value=""),t&&t()}catch(Qe){console.error("Upload error:",Qe),alert("アップロードに失敗しました")}finally{N(!1)}},Ye=()=>{j(null),Q(null),J({isAnalyzing:!1,hasLocation:!1}),K.current&&(K.current.value="")};return h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"写真をアップロード"}),t&&h.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg transition-colors",children:h.jsx(ba,{size:20})})]}),(_e||Re)&&h.jsx("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:h.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-300",children:[_e&&h.jsxs("p",{children:["📅 旅行: ",_e.name]}),Re&&h.jsxs("p",{children:["📍 場所: ",Re.name]})]})}),h.jsxs("div",{className:"space-y-4",children:[M?h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"relative",children:[h.jsx("img",{src:M,alt:"Preview",className:"w-full h-64 object-cover rounded-lg"}),h.jsx("button",{onClick:Ye,className:"absolute top-2 right-2 p-2 bg-black bg-opacity-50 text-white rounded-full hover:bg-opacity-70 transition-opacity",children:h.jsx(ba,{size:16})})]}),te.isAnalyzing?h.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg",children:h.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-800 dark:text-blue-300",children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-blue-600 border-t-transparent"}),h.jsx(Dr,{size:16}),h.jsx("span",{children:"位置情報を分析中..."})]})}):te.suggestion&&h.jsx("div",{className:`p-3 border rounded-lg ${te.hasLocation?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-700":"bg-gray-50 dark:bg-gray-900/20 border-gray-200 dark:border-gray-700"}`,children:h.jsxs("div",{className:`flex items-start gap-2 text-sm ${te.hasLocation?"text-green-800 dark:text-green-300":"text-gray-700 dark:text-gray-300"}`,children:[h.jsx(Dr,{size:16,className:"flex-shrink-0 mt-0.5"}),h.jsxs("div",{children:[h.jsx("p",{children:te.suggestion}),V?.timestamp&&h.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs opacity-75",children:[h.jsx(rc,{size:12}),h.jsxs("span",{children:["撮影日時: ",V.timestamp.toLocaleString("ja-JP")]})]}),V?.nearestPlace&&h.jsx("div",{className:"mt-2 text-xs",children:h.jsxs("span",{className:"px-2 py-1 bg-green-200 dark:bg-green-800 rounded-full",children:["自動分類: ",V.nearestPlace.place.name]})})]})]})})]}):h.jsxs("div",{children:[h.jsx("input",{ref:K,type:"file",accept:"image/*",onChange:ie,className:"hidden",id:"photo-upload"}),h.jsxs("label",{htmlFor:"photo-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer hover:border-gray-400 dark:hover:border-gray-500 transition-colors",children:[h.jsx(ho,{size:32,className:"text-gray-400 dark:text-gray-500 mb-2"}),h.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"クリックして写真を選択"}),h.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"JPG, PNG, GIF (最大5MB)"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"キャプション（任意）"}),h.jsx("textarea",{value:v,onChange:Qe=>E(Qe.target.value),placeholder:"写真について説明を追加...",rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),h.jsx("button",{onClick:ke,disabled:!M||A,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:A?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),h.jsx("span",{children:"アップロード中..."})]}):h.jsxs(h.Fragment,{children:[h.jsx(H1,{size:16}),h.jsx("span",{children:"写真をアップロード"})]})})]}),h.jsx("div",{className:"mt-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:h.jsxs("div",{className:"text-xs text-yellow-800 dark:text-yellow-300",children:[h.jsx("p",{className:"font-medium mb-1",children:"ご注意"}),h.jsxs("ul",{className:"space-y-1",children:[h.jsx("li",{children:"• 写真はブラウザのローカルストレージに保存されます"}),h.jsx("li",{children:"• 大量の写真を保存するとブラウザの容量を圧迫する可能性があります"}),h.jsx("li",{children:"• 定期的にデータ管理からバックアップを取ることをお勧めします"})]})]})})]})}function OP({trip:r,places:e,onBack:t}){const{photos:s,saveData:l}=Ti(),[d,v]=Ie.useState([]),[E,A]=Ie.useState(e[0]?.id||""),[N,M]=Ie.useState(!1),j=ie=>s.filter(ke=>ke.placeId===ie&&ke.tripId===r.id);Ie.useEffect(()=>{const ie=localStorage.getItem(`trip-memos-${r.id}`);v(ie?JSON.parse(ie):e.map(ke=>({placeId:ke.id})))},[r.id,e]);const V=e.find(ie=>ie.id===E),Q=d.find(ie=>ie.placeId===E),te=j(E),J=(ie,ke)=>{v(Ye=>Ye.map(Qe=>Qe.placeId===E?{...Qe,[ie]:ke}:Qe))},K=async()=>{M(!0);try{localStorage.setItem(`trip-memos-${r.id}`,JSON.stringify(d)),await l(),alert("場所別メモを保存しました！"),t()}catch(ie){console.error("Failed to save place memos:",ie),alert("保存に失敗しました")}finally{M(!1)}},_e=(ie=0)=>h.jsxs("div",{className:"flex gap-1",children:[[1,2,3,4,5].map(ke=>h.jsx(Ou,{size:20,className:`cursor-pointer transition-colors ${ke<=ie?"text-yellow-400 fill-current":"text-gray-300 hover:text-yellow-400"}`,onClick:()=>J("rating",ke)},ke)),h.jsx("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:ie>0?`${ie}/5`:"未評価"})]}),Re=ie=>new Date(ie).toLocaleDateString("ja-JP",{month:"short",day:"numeric"});return V?h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700",children:[h.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:h.jsx(mk,{size:20})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"場所別メモの編集"}),h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[r.name," • ",Re(r.startDate)," - ",Re(r.endDate)]})]}),h.jsx("button",{onClick:K,disabled:N,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:N?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),h.jsx("span",{children:"保存中..."})]}):h.jsxs(h.Fragment,{children:[h.jsx(y_,{size:16}),h.jsx("span",{children:"保存"})]})})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"lg:col-span-1",children:[h.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-gray-100 mb-3",children:"訪問した場所"}),h.jsx("div",{className:"space-y-2",children:e.map(ie=>{const ke=d.find(Qe=>Qe.placeId===ie.id),Ye=ke&&(ke.experience||ke.rating||ke.foodNotes||ke.recommendations);return h.jsx("button",{onClick:()=>A(ie.id),className:`w-full text-left p-3 rounded-lg border transition-colors ${E===ie.id?"bg-blue-50 border-blue-200 text-blue-900 dark:bg-blue-900 dark:border-blue-700 dark:text-blue-100":"bg-white border-gray-200 hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700"}`,children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Dr,{size:14,className:"text-gray-500"}),h.jsx("span",{className:"font-medium text-sm",children:ie.name})]}),h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:ie.address}),ke?.rating&&h.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[h.jsx(Ou,{size:12,className:"text-yellow-400 fill-current"}),h.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:[ke.rating,"/5"]})]})]}),Ye&&h.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})},ie.id)})})]}),h.jsx("div",{className:"lg:col-span-2",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6 space-y-6",children:[h.jsxs("div",{className:"pb-4 border-b border-gray-200 dark:border-gray-700",children:[h.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:V.name}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:V.address}),te.length>0&&h.jsxs("div",{className:"flex items-center gap-1 mt-2 text-sm text-blue-600 dark:text-blue-400",children:[h.jsx(ho,{size:14}),h.jsxs("span",{children:[te.length,"枚の写真"]})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[h.jsx(rc,{size:16}),"訪問時間"]}),h.jsx("input",{type:"time",value:Q?.visitTime||"",onChange:ie=>J("visitTime",ie.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[h.jsx(Ou,{size:16}),"総合評価"]}),_e(Q?.rating)]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"📝 体験・感想"}),h.jsx("textarea",{value:Q?.experience||"",onChange:ie=>J("experience",ie.target.value),placeholder:"この場所での体験や感想を詳しく記録しましょう...",rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(V.category==="restaurant"||V.category==="cafe")&&h.jsxs("div",{children:[h.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[h.jsx(v_,{size:16}),"食事・グルメメモ"]}),h.jsx("textarea",{value:Q?.foodNotes||"",onChange:ie=>J("foodNotes",ie.target.value),placeholder:"注文した料理、味の感想、価格、サービスなど...",rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"💡 おすすめ・次回への情報"}),h.jsx("textarea",{value:Q?.recommendations||"",onChange:ie=>J("recommendations",ie.target.value),placeholder:"他の人におすすめしたいポイント、次回訪問時の注意点、ベストな時間帯など...",rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),te.length>0&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"📸 この場所で撮影した写真"}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[te.slice(0,6).map(ie=>h.jsx("div",{className:"aspect-square bg-gray-100 dark:bg-gray-700 rounded-lg overflow-hidden",children:ie.url?h.jsx("img",{src:ie.url,alt:`${V.name}の写真`,className:"w-full h-full object-cover"}):h.jsx("div",{className:"w-full h-full flex items-center justify-center",children:h.jsx(ho,{className:"text-gray-400",size:24})})},ie.id)),te.length>6&&h.jsx("div",{className:"aspect-square bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center",children:h.jsxs("div",{className:"text-center text-gray-600 dark:text-gray-400",children:[h.jsx(ho,{size:20}),h.jsxs("div",{className:"text-xs mt-1",children:["+",te.length-6,"枚"]})]})})]})]})]})})]})]}):h.jsx("div",{className:"text-center py-8",children:h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"場所が見つかりません"})})}function Z1({trip:r,onClose:e,onSuccess:t}){const{updateTrip:s,places:l}=Ti(),[d,v]=Ie.useState({name:r.name,description:r.description||"",actualCost:r.actualCost||0,weather:r.weather||"",notes:r.notes||""}),[E,A]=Ie.useState(!1),[N,M]=Ie.useState(!1),j=l.filter(J=>r.places.includes(J.id)),V=async J=>{J.preventDefault(),M(!0);try{await s(r.id,{...d,actualCost:d.actualCost>0?d.actualCost:void 0,weather:d.weather.trim()||void 0,notes:d.notes.trim()||void 0,description:d.description.trim()||void 0,updatedAt:new Date().toISOString()}),alert("旅行記録を更新しました！"),t&&t(),e()}catch(K){console.error("Failed to update trip record:",K),alert("更新に失敗しました")}finally{M(!1)}},Q=(J,K)=>{v(_e=>({..._e,[J]:K}))},te=J=>new Date(J).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric"});return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-hidden",children:[h.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-lg",children:h.jsx(gm,{className:"text-green-600 dark:text-green-400",size:20})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"旅行記録の編集"}),h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[te(r.startDate)," - ",te(r.endDate)]})]})]}),h.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg transition-colors",children:h.jsx(ba,{size:24})})]}),h.jsx("div",{className:"p-6 max-h-[calc(90vh-200px)] overflow-y-auto",children:E?h.jsx(OP,{trip:r,places:j,onBack:()=>A(!1)}):h.jsxs("form",{onSubmit:V,className:"space-y-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"基本情報"}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"🧳 旅行名"}),h.jsx("input",{type:"text",value:d.name,onChange:J=>Q("name",J.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"📝 旅行の感想・振り返り"}),h.jsx("textarea",{value:d.description,onChange:J=>Q("description",J.target.value),placeholder:"旅行全体の感想や印象に残ったことを記録しましょう...",rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"💰 実際にかかった費用（円）"}),h.jsxs("div",{className:"relative",children:[h.jsx(fm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),h.jsx("input",{type:"number",value:d.actualCost,onChange:J=>Q("actualCost",parseInt(J.target.value)||0),min:"0",step:"1000",placeholder:"0",className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),r.budget&&h.jsxs("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:["予算: ¥",r.budget.toLocaleString(),d.actualCost>0&&h.jsxs("span",{className:`ml-2 ${d.actualCost>r.budget?"text-red-600":"text-green-600"}`,children:["(",d.actualCost>r.budget?"+":"-","¥",Math.abs(d.actualCost-r.budget).toLocaleString(),")"]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"☀️ 期間中の天気"}),h.jsxs("div",{className:"relative",children:[h.jsx(fy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),h.jsx("input",{type:"text",value:d.weather,onChange:J=>Q("weather",J.target.value),placeholder:"晴れ時々曇り、雨の日もあり...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"📋 その他のメモ"}),h.jsx("textarea",{value:d.notes,onChange:J=>Q("notes",J.target.value),placeholder:"持ち物の反省、次回への改善点、おすすめ情報など...",rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),j.length>0&&h.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:["訪問した場所（",j.length,"ヶ所）"]}),h.jsx("button",{type:"button",onClick:()=>A(!0),className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"場所別メモを編集"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:j.map(J=>h.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Dr,{size:14,className:"text-gray-500"}),h.jsx("span",{className:"font-medium",children:J.name}),h.jsx("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 rounded-full",children:"訪問済み"})]}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:J.address})]},J.id))})]})]})}),!E&&h.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200 dark:border-gray-700",children:[h.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"キャンセル"}),h.jsx("button",{onClick:V,disabled:N,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:N?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),h.jsx("span",{children:"更新中..."})]}):h.jsxs(h.Fragment,{children:[h.jsx(y_,{size:16}),h.jsx("span",{children:"保存"})]})})]})]})})}function LP(){const{trips:r,deleteTrip:e,setSelectedTrip:t}=Ti(),[s,l]=Ie.useState(!1),[d,v]=Ie.useState(),[E,A]=Ie.useState(!1),[N,M]=Ie.useState(),[j,V]=Ie.useState(!1),[Q,te]=Ie.useState(),J=X=>{window.confirm(`「${X.name}」を削除しますか？`)&&e(X.id)},K=X=>{v(X),l(!0)},_e=()=>{v(void 0),l(!0)},Re=()=>{l(!1),v(void 0)},ie=X=>{t(X)},ke=X=>{M(X.id),A(!0)},Ye=()=>{A(!1),M(void 0)},Qe=X=>{te(X),V(!0)},ce=()=>{V(!1),te(void 0)},H=X=>{switch(X){case"planned":return"bg-blue-100 text-blue-700";case"in_progress":return"bg-orange-100 text-orange-700";case"completed":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}},Y=X=>{switch(X){case"planned":return"計画中";case"in_progress":return"実行中";case"completed":return"完了";default:return"未設定"}},he=X=>new Date(X).toLocaleDateString("ja-JP",{month:"short",day:"numeric"}),ae=(X,rt)=>{const lt=new Date(X),$=new Date(rt),le=Math.abs($.getTime()-lt.getTime());return`${Math.ceil(le/(1e3*60*60*24))+1}日間`},q=r.reduce((X,rt)=>{const lt=rt.status;return X[lt]||(X[lt]=[]),X[lt].push(rt),X},{});return Object.keys(q).forEach(X=>{q[X].sort((rt,lt)=>new Date(rt.startDate).getTime()-new Date(lt.startDate).getTime())}),h.jsxs("div",{className:"h-full flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 border-b",children:[h.jsx("h2",{className:"text-base md:text-lg font-semibold",children:"旅行計画"}),h.jsxs("button",{onClick:_e,className:"px-2 md:px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-xs md:text-sm",children:[h.jsx("span",{className:"hidden md:inline",children:"新しい計画を作成"}),h.jsx("span",{className:"md:hidden",children:"新規作成"})]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto p-3 md:p-4",children:r.length===0?h.jsx(G1,{icon:h.jsx(oa,{size:48}),title:"まだ旅行計画がありません",description:"素敵な旅行計画を立てて、一人旅を充実させましょう！",actionLabel:"最初の旅行計画を作成",onAction:_e,suggestions:["まずは場所管理タブで行きたい場所を登録しましょう","日程、予算、テーマを設定して計画を立てます","登録した場所を旅行に追加して詳細なプランを作成","旅行中・旅行後は写真をアップロードして思い出を記録"]}):h.jsxs("div",{className:"space-y-6",children:[q.planned&&h.jsxs("div",{children:[h.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[h.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),"計画中 (",q.planned.length,")"]}),h.jsx("div",{className:"space-y-3",children:q.planned.map(X=>h.jsx(Lp,{trip:X,onEdit:K,onDelete:J,onClick:ie,onPhotoUpload:ke,onEditRecord:void 0,getStatusColor:H,getStatusText:Y,formatDate:he,getDuration:ae},X.id))})]}),q.in_progress&&h.jsxs("div",{children:[h.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[h.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),"実行中 (",q.in_progress.length,")"]}),h.jsx("div",{className:"space-y-3",children:q.in_progress.map(X=>h.jsx(Lp,{trip:X,onEdit:K,onDelete:J,onClick:ie,onPhotoUpload:ke,onEditRecord:void 0,getStatusColor:H,getStatusText:Y,formatDate:he,getDuration:ae},X.id))})]}),q.completed&&h.jsxs("div",{children:[h.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[h.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),"完了 (",q.completed.length,")"]}),h.jsx("div",{className:"space-y-3",children:q.completed.map(X=>h.jsx(Lp,{trip:X,onEdit:K,onDelete:J,onClick:ie,onPhotoUpload:ke,onEditRecord:Qe,getStatusColor:H,getStatusText:Y,formatDate:he,getDuration:ae},X.id))})]})]})}),s&&h.jsx(MP,{trip:d,onClose:Re}),E&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsx("div",{className:"w-full max-w-md",children:h.jsx(DP,{tripId:N,onClose:Ye})})}),j&&Q&&h.jsx(Z1,{trip:Q,onClose:ce})]})}function Lp({trip:r,onEdit:e,onDelete:t,onClick:s,onPhotoUpload:l,onEditRecord:d,getStatusColor:v,getStatusText:E,formatDate:A,getDuration:N}){return h.jsx("div",{className:"bg-white border rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer group",onClick:()=>s(r),children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx(Dr,{size:16,className:"text-blue-600 flex-shrink-0"}),h.jsx("h4",{className:"font-semibold text-gray-900 truncate",children:r.name})]}),r.description&&h.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:r.description}),h.jsxs("div",{className:"flex items-center gap-4 mb-2 text-sm text-gray-600",children:[h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(oa,{size:14}),h.jsxs("span",{children:[A(r.startDate)," - ",A(r.endDate)]})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(rc,{size:14}),h.jsx("span",{children:N(r.startDate,r.endDate)})]})]}),h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v(r.status)}`,children:E(r.status)}),r.theme&&h.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:r.theme}),r.budget&&h.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[h.jsx(fm,{size:12}),h.jsxs("span",{children:[r.budget.toLocaleString(),"円"]})]})]}),h.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[h.jsxs("span",{children:["場所: ",r.places.length,"箇所"]}),r.images&&r.images.length>0&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(ho,{size:12}),h.jsxs("span",{children:[r.images.length,"枚"]})]})]}),r.notes&&h.jsx("p",{className:"text-sm text-gray-500 mt-2 line-clamp-2",children:r.notes})]}),h.jsxs("div",{className:"flex items-center gap-1 ml-3 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:[d&&h.jsx("button",{onClick:M=>{M.stopPropagation(),d(r)},className:"p-1.5 md:p-2 text-gray-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors","aria-label":"記録編集",children:h.jsx(p_,{size:14,className:"md:w-4 md:h-4"})}),h.jsx("button",{onClick:M=>{M.stopPropagation(),l(r)},className:"p-1.5 md:p-2 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors","aria-label":"写真追加",children:h.jsx(F1,{size:14,className:"md:w-4 md:h-4"})}),h.jsx("button",{onClick:M=>{M.stopPropagation(),e(r)},className:"p-1.5 md:p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors","aria-label":"編集",children:h.jsx(gm,{size:14,className:"md:w-4 md:h-4"})}),h.jsx("button",{onClick:M=>{M.stopPropagation(),t(r)},className:"p-1.5 md:p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors","aria-label":"削除",children:h.jsx(__,{size:14,className:"md:w-4 md:h-4"})})]})]})})}function zP(){const r={apiKey:"AIzaSyAimaFngWw3k606oy9UWgSrKnXcfbvASDE",authDomain:"trip-management-app-47298.firebaseapp.com",projectId:"trip-management-app-47298",storageBucket:"trip-management-app-47298.firebasestorage.app",messagingSenderId:"338823345553",appId:"1:338823345553:web:0ae79583cef43b1ff5d630"},e=[],t=[];return r.apiKey||e.push("VITE_FIREBASE_API_KEY"),r.authDomain||e.push("VITE_FIREBASE_AUTH_DOMAIN"),r.projectId||e.push("VITE_FIREBASE_PROJECT_ID"),r.storageBucket||e.push("VITE_FIREBASE_STORAGE_BUCKET"),r.messagingSenderId||e.push("VITE_FIREBASE_MESSAGING_SENDER_ID"),r.appId||e.push("VITE_FIREBASE_APP_ID"),r.apiKey?.includes("placeholder")&&t.push("VITE_FIREBASE_API_KEY"),r.appId?.includes("placeholder")&&t.push("VITE_FIREBASE_APP_ID"),{isValid:e.length===0&&t.length===0,missing:e,invalid:t,config:r}}function UP(){const{currentUser:r,isOnline:e,syncStatus:t,useFirebase:s,signInAnonymously:l,signOut:d,migrateLocalData:v,syncWithFirebase:E}=Ti(),[A,N]=Ie.useState(!1),[M,j]=Ie.useState(null),[V]=Ie.useState(zP()),Q=async()=>{try{await l()}catch(ie){console.error("Sign in failed:",ie),alert("サインインに失敗しました。環境変数の設定を確認してください。")}},te=async()=>{try{await d()}catch(ie){console.error("Sign out failed:",ie)}},J=async()=>{if(!r){alert("まずFirebaseにサインインしてください。");return}if(confirm(`ローカルデータをFirebaseに移行しますか？
この操作により、現在のデータがクラウドに保存され、複数のデバイス間で同期できるようになります。`)){N(!0),j(null);try{await v(),alert("データ移行が完了しました！")}catch(ke){console.error("Migration failed:",ke),j("データ移行に失敗しました。もう一度お試しください。")}finally{N(!1)}}},K=async()=>{if(!r){alert("まずFirebaseにサインインしてください。");return}try{await E(),alert("同期が完了しました！")}catch(ie){console.error("Sync failed:",ie),alert("同期に失敗しました。もう一度お試しください。")}},_e=()=>{switch(t){case"synced":return h.jsx(dy,{size:16,className:"text-green-500"});case"syncing":return h.jsx(Kb,{size:16,className:"animate-spin text-blue-500"});case"error":return h.jsx(qd,{size:16,className:"text-red-500"});case"offline":default:return h.jsx(Mp,{size:16,className:"text-gray-400"})}},Re=()=>{switch(t){case"synced":return"同期済み";case"syncing":return"同期中...";case"error":return"エラー";case"offline":default:return"オフライン"}};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"クラウド同期設定"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Firebaseを使用してデータをクラウドに保存し、複数のデバイス間で同期できます。"})]}),h.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-4",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(dy,{size:20,className:"text-blue-600 mt-0.5"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h4",{className:"text-sm font-semibold text-blue-800 dark:text-blue-300 mb-2",children:"Firebase設定完了"}),h.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400 mb-2",children:"Firebaseプロジェクト: trip-management-app-47298"}),h.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400",children:"リアルタイム同期が有効になっています。"})]})]})}),h.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[e?h.jsx(mP,{size:16,className:"text-green-500"}):h.jsx(fP,{size:16,className:"text-red-500"}),h.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"インターネット接続"})]}),h.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${e?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"}`,children:e?"オンライン":"オフライン"})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[s?h.jsx(fy,{size:16,className:"text-blue-500"}):h.jsx(Mp,{size:16,className:"text-gray-400"}),h.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Firebase接続"})]}),h.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${s?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:s?"接続済み":"未接続"})]}),s&&h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[_e(),h.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"同期状態"})]}),h.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${t==="synced"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":t==="syncing"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300":t==="error"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:Re()})]}),r&&h.jsxs("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-600",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"ユーザーID"}),h.jsxs("span",{className:"text-xs font-mono text-gray-800 dark:text-gray-300",children:[r.uid.slice(0,8),"..."]})]}),h.jsxs("div",{className:"flex items-center justify-between mt-1",children:[h.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"認証タイプ"}),h.jsx("span",{className:"text-xs text-gray-800 dark:text-gray-300",children:r.isAnonymous?"匿名":"メール"})]})]})]})}),h.jsx("div",{className:"space-y-3",children:r?h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("button",{onClick:K,disabled:!e||t==="syncing",className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:[h.jsx(Qb,{size:16}),"手動同期"]}),h.jsxs("button",{onClick:te,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[h.jsx(Mp,{size:16}),"接続解除"]})]}),h.jsxs("button",{onClick:J,disabled:A||!e,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:[A?h.jsx(Kb,{size:16,className:"animate-spin"}):h.jsx(Qb,{size:16}),A?"データ移行中...":"ローカルデータをクラウドに移行"]})]}):h.jsxs("button",{onClick:Q,disabled:!V.isValid,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg transition-colors ${V.isValid?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[h.jsx(fy,{size:16}),"Firebaseに接続"]})}),M&&h.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx(qd,{size:16,className:"text-red-500 mt-0.5"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-red-800 dark:text-red-300",children:"エラーが発生しました"}),h.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:M})]})]})}),h.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-3",children:h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx(qd,{size:16,className:"text-yellow-500 mt-0.5"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300 mb-1",children:"ご注意"}),h.jsxs("ul",{className:"text-xs text-yellow-700 dark:text-yellow-400 space-y-1",children:[h.jsx("li",{children:"• Firebaseを使用するには適切な環境変数の設定が必要です"}),h.jsx("li",{children:"• データはGoogleのFirebaseサーバーに保存されます"}),h.jsx("li",{children:"• オフライン時はローカルデータが使用されます"}),h.jsx("li",{children:"• ネットワーク復旧時に自動的に同期されます"})]})]})]})})]})}function VP(){const{places:r,trips:e,dayPlans:t,photos:s,saveData:l}=Ti(),[d,v]=Ie.useState(null),[E,A]=Ie.useState(!1),N=(te,J)=>{v({type:te,text:J}),setTimeout(()=>v(null),3e3)},M=()=>{try{const te={places:r,trips:e,dayPlans:t,photos:s,exportedAt:new Date().toISOString(),version:"1.0"},J=JSON.stringify(te,null,2),K=new Blob([J],{type:"application/json"}),_e=URL.createObjectURL(K),Re=document.createElement("a");Re.href=_e,Re.download=`trip-management-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Re),Re.click(),document.body.removeChild(Re),URL.revokeObjectURL(_e),N("success","データをエクスポートしました")}catch(te){console.error("Export error:",te),N("error","エクスポートに失敗しました")}},j=te=>{const J=te.target.files?.[0];if(!J)return;if(!J.name.endsWith(".json")){N("error","JSONファイルを選択してください");return}A(!0);const K=new FileReader;K.onload=_e=>{try{const Re=_e.target?.result,ie=JSON.parse(Re);if(!ie.places||!ie.trips){N("error","無効なデータ形式です"),A(!1);return}const ke=`
データをインポートしますか？現在のデータは上書きされます。

インポート内容:
• 場所: ${ie.places.length}件
• 旅行計画: ${ie.trips.length}件
• 日程: ${ie.dayPlans?.length||0}件
• 写真: ${ie.photos?.length||0}件
        `.trim();window.confirm(ke)&&(Ti.setState({places:ie.places||[],trips:ie.trips||[],dayPlans:ie.dayPlans||[],photos:ie.photos||[]}),l(),N("success","データをインポートしました")),A(!1),te.target.value=""}catch(Re){console.error("Import error:",Re),N("error","インポートに失敗しました"),A(!1),te.target.value=""}},K.readAsText(J)},V=()=>{const te=`
すべてのデータを削除しますか？この操作は元に戻せません。

削除されるデータ:
• 場所: ${r.length}件
• 旅行計画: ${e.length}件
• 日程: ${t.length}件
• 写真: ${s.length}件
    `.trim();window.confirm(te)&&(Ti.setState({places:[],trips:[],dayPlans:[],photos:[],selectedPlace:void 0,selectedTrip:void 0}),l(),N("success","すべてのデータを削除しました"))},Q=()=>r.length+e.length+t.length+s.length;return h.jsxs("div",{className:"p-4",children:[h.jsx("div",{className:"flex items-center justify-between mb-6",children:h.jsx("h2",{className:"text-lg font-semibold",children:"データ管理"})}),h.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 text-white p-4 rounded-lg shadow-lg mb-6",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold",children:"🔥 Firebase リアルタイム同期 有効"}),h.jsx("p",{className:"text-blue-100 text-sm",children:"プロジェクト: trip-management-app-47298"}),h.jsx("p",{className:"text-blue-100 text-sm",children:"✅ クラウドデータベース接続済み | 🔄 自動同期中"})]})]})}),d&&h.jsxs("div",{className:`flex items-center gap-2 p-3 rounded-lg mb-4 ${d.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[d.type==="success"?h.jsx(dy,{size:16}):h.jsx(qd,{size:16}),h.jsx("span",{className:"text-sm",children:d.text})]}),h.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"現在のデータ"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-600",children:"場所:"}),h.jsxs("span",{className:"ml-2 font-medium",children:[r.length,"件"]})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-600",children:"旅行計画:"}),h.jsxs("span",{className:"ml-2 font-medium",children:[e.length,"件"]})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-600",children:"日程:"}),h.jsxs("span",{className:"ml-2 font-medium",children:[t.length,"件"]})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-600",children:"写真:"}),h.jsxs("span",{className:"ml-2 font-medium",children:[s.length,"件"]})]})]}),h.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:["合計: ",Q(),"件のデータ"]})]}),h.jsxs("div",{className:"mb-6",children:[h.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"🔥 Firebase クラウド同期"}),h.jsxs("div",{className:"space-y-2 text-sm",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Firebase Status:"}),h.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-xs",children:"接続済み"})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"プロジェクト:"}),h.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:"trip-management-app-47298"})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"同期状態:"}),h.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs",children:"リアルタイム同期中"})]})]})]}),h.jsx(UP,{})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"bg-white border rounded-lg p-4",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded-lg",children:h.jsx(Dk,{size:20})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"データをエクスポート"}),h.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"すべてのデータをJSONファイルとしてバックアップできます。"}),h.jsx("button",{onClick:M,disabled:Q()===0,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"データをダウンロード"})]})]})}),h.jsx("div",{className:"bg-white border rounded-lg p-4",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"p-2 bg-green-100 text-green-600 rounded-lg",children:h.jsx(H1,{size:20})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"データをインポート"}),h.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"以前エクスポートしたJSONファイルからデータを復元できます。"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("label",{className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer transition-colors",children:[E?"インポート中...":"ファイルを選択",h.jsx("input",{type:"file",accept:".json",onChange:j,disabled:E,className:"hidden"})]}),E&&h.jsx("div",{className:"text-sm text-gray-600",children:"ファイルを読み込んでいます..."})]})]})]})}),h.jsx("div",{className:"bg-white border border-red-200 rounded-lg p-4",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"p-2 bg-red-100 text-red-600 rounded-lg",children:h.jsx(eP,{size:20})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"すべてのデータを削除"}),h.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"すべての場所、旅行計画、写真データを削除します。この操作は元に戻せません。"}),h.jsx("button",{onClick:V,disabled:Q()===0,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"すべて削除"})]})]})})]}),h.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(qd,{size:16,className:"text-yellow-600 flex-shrink-0 mt-0.5"}),h.jsxs("div",{className:"text-sm text-yellow-800",children:[h.jsx("p",{className:"font-medium mb-1",children:"ご注意"}),h.jsxs("ul",{className:"space-y-1 text-yellow-700",children:[h.jsx("li",{children:"• データは端末のローカルストレージに保存されます"}),h.jsx("li",{children:"• ブラウザのデータを削除すると情報が失われます"}),h.jsx("li",{children:"• 定期的にバックアップを取ることをお勧めします"})]})]})]})})]})}function jP({places:r,trips:e,onFilteredResults:t,className:s=""}){const[l,d]=Ie.useState(""),[v,E]=Ie.useState(!1),[A,N]=Ie.useState({category:"all",status:"all",tripStatus:"all"}),M=(J,K=A)=>{let _e=r;if(J.trim()){const ie=J.toLowerCase();_e=_e.filter(ke=>ke.name.toLowerCase().includes(ie)||ke.address.toLowerCase().includes(ie)||ke.notes?.toLowerCase().includes(ie))}K.category!=="all"&&(_e=_e.filter(ie=>ie.category===K.category)),K.status!=="all"&&(_e=_e.filter(ie=>ie.status===K.status));let Re=e;if(J.trim()){const ie=J.toLowerCase();Re=Re.filter(ke=>ke.name.toLowerCase().includes(ie)||ke.description?.toLowerCase().includes(ie)||ke.theme?.toLowerCase().includes(ie)||ke.notes?.toLowerCase().includes(ie))}K.tripStatus!=="all"&&(Re=Re.filter(ie=>ie.status===K.tripStatus)),t(_e,Re)},j=J=>{d(J),M(J)},V=(J,K)=>{const _e={...A,[J]:K};N(_e),M(l,_e)},Q=()=>{d(""),N({category:"all",status:"all",tripStatus:"all"}),t(r,e)},te=l.trim()||A.category!=="all"||A.status!=="all"||A.tripStatus!=="all";return h.jsxs("div",{className:`space-y-3 ${s}`,children:[h.jsxs("div",{className:"relative",children:[h.jsx(mm,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),h.jsx("input",{type:"text",value:l,onChange:J=>j(J.target.value),placeholder:"マイリストから検索...",className:"w-full pl-10 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),l&&h.jsx("button",{onClick:()=>j(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300",children:h.jsx(ba,{size:18})})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("button",{onClick:()=>E(!v),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm transition-colors ${te?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[h.jsx(jk,{size:16}),h.jsx("span",{children:"フィルタ"}),te&&h.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),te&&h.jsx("button",{onClick:Q,className:"text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:"クリア"})]}),v&&h.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg space-y-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"場所カテゴリ"}),h.jsxs("select",{value:A.category,onChange:J=>V("category",J.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"all",children:"すべて"}),h.jsx("option",{value:"museum",children:"博物館"}),h.jsx("option",{value:"gallery",children:"美術館"}),h.jsx("option",{value:"landmark",children:"ランドマーク"}),h.jsx("option",{value:"restaurant",children:"レストラン"}),h.jsx("option",{value:"cafe",children:"カフェ"}),h.jsx("option",{value:"other",children:"その他"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"場所ステータス"}),h.jsxs("select",{value:A.status,onChange:J=>V("status",J.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"all",children:"すべて"}),h.jsx("option",{value:"interested",children:"興味あり"}),h.jsx("option",{value:"planned",children:"計画中"}),h.jsx("option",{value:"visited",children:"訪問済み"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"旅行ステータス"}),h.jsxs("select",{value:A.tripStatus,onChange:J=>V("tripStatus",J.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"all",children:"すべて"}),h.jsx("option",{value:"planned",children:"計画中"}),h.jsx("option",{value:"in_progress",children:"実行中"}),h.jsx("option",{value:"completed",children:"完了"})]})]})]}),te&&h.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["検索結果: 場所 ",r.length,"件, 旅行 ",e.length,"件"]})]})}const BP=[{id:"1",name:"印象派の巨匠展",venue:"東京国立近代美術館",description:"モネ、ルノワール、セザンヌの傑作約80点を展示。印象派の魅力を再発見できる特別展。",startDate:"2025-09-01",endDate:"2025-12-15",price:"一般 1,800円",website:"https://example.com/exhibition1",category:"special"},{id:"2",name:"常設展示",venue:"東京国立近代美術館",description:"近現代の日本美術を中心とした常設コレクション。",startDate:"2025-01-01",endDate:"2025-12-31",price:"一般 500円",category:"permanent"},{id:"3",name:"現代アート体験ワークショップ",venue:"東京都現代美術館",description:"アーティストと一緒に作品制作を体験できるワークショップ。要予約。",startDate:"2025-09-10",endDate:"2025-09-10",price:"参加費 2,000円",category:"event"},{id:"4",name:"日本の絵画500年",venue:"東京都美術館",description:"室町時代から現代まで、日本絵画の流れを時代順に紹介。",startDate:"2025-08-15",endDate:"2025-11-30",price:"一般 1,600円",category:"special"}];function FP({place:r,tripStartDate:e,tripEndDate:t}){const[s,l]=Ie.useState([]),[d,v]=Ie.useState(!0),[E,A]=Ie.useState("all");Ie.useEffect(()=>{N()},[r.name,e,t]);const N=async()=>{v(!0),await new Promise(J=>setTimeout(J,500));const te=BP.filter(J=>{if(!(J.venue.includes(r.name)||r.name.includes("美術館")||r.name.includes("博物館")||r.category==="museum"||r.category==="gallery"))return!1;if(e&&t){const _e=new Date(J.startDate),Re=new Date(J.endDate),ie=new Date(e),ke=new Date(t);return _e<=ke&&Re>=ie}return!0});l(te),v(!1)},M=te=>{switch(te){case"permanent":return"常設展";case"special":return"特別展";case"event":return"イベント";default:return"その他"}},j=te=>{switch(te){case"permanent":return"bg-blue-100 text-blue-800";case"special":return"bg-purple-100 text-purple-800";case"event":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},V=te=>new Date(te).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric"}),Q=E==="all"?s:s.filter(te=>te.category===E);return d?h.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx(ku,{className:"text-purple-600",size:20}),h.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"展示・イベント情報"})]}),h.jsxs("div",{className:"flex items-center justify-center py-8",children:[h.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-purple-600 border-t-transparent"}),h.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"情報を読み込み中..."})]})]}):h.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx(ku,{className:"text-purple-600",size:20}),h.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"展示・イベント情報"})]}),s.length===0?h.jsxs("div",{className:"text-center py-6",children:[h.jsx(oa,{className:"mx-auto text-gray-400 mb-2",size:24}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"現在、該当する展示・イベント情報はありません"})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex gap-2 mb-4 overflow-x-auto",children:[h.jsxs("button",{onClick:()=>A("all"),className:`px-3 py-1 rounded-full text-xs font-medium whitespace-nowrap ${E==="all"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["すべて (",s.length,")"]}),["permanent","special","event"].map(te=>{const J=s.filter(K=>K.category===te).length;return J===0?null:h.jsxs("button",{onClick:()=>A(te),className:`px-3 py-1 rounded-full text-xs font-medium whitespace-nowrap ${E===te?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[M(te)," (",J,")"]},te)})]}),h.jsx("div",{className:"space-y-3",children:Q.map(te=>h.jsxs("div",{className:"p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:border-purple-300 dark:hover:border-purple-500 transition-colors",children:[h.jsxs("div",{className:"flex items-start justify-between mb-2",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:te.name}),h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j(te.category)}`,children:M(te.category)}),te.venue&&h.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600 dark:text-gray-400",children:[h.jsx(Dr,{size:12}),h.jsx("span",{children:te.venue})]})]})]}),te.website&&h.jsx("a",{href:te.website,target:"_blank",rel:"noopener noreferrer",className:"p-1 text-gray-400 hover:text-purple-600 transition-colors",children:h.jsx(V1,{size:16})})]}),h.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-3 line-clamp-2",children:te.description}),h.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 dark:text-gray-400",children:[h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(oa,{size:12}),h.jsxs("span",{children:[V(te.startDate)," - ",V(te.endDate)]})]}),te.price&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(ku,{size:12}),h.jsx("span",{children:te.price})]})]}),e&&t&&h.jsx("div",{className:"mt-2 px-2 py-1 bg-green-50 dark:bg-green-900/20 rounded text-xs text-green-800 dark:text-green-300",children:"✅ 旅行期間中に開催中"})]},te.id))}),h.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx(rc,{className:"text-blue-600",size:16}),h.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"施設情報"})]}),h.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 space-y-1",children:[r.openingHours&&h.jsxs("p",{children:["📅 営業時間: ",r.openingHours]}),h.jsx("p",{children:"📞 最新情報は公式サイトでご確認ください"}),h.jsx("p",{children:"🎫 料金は展示により異なる場合があります"})]})]})]})]})}const HP=[{id:"1",name:"印象派の巨匠展",venue:"東京国立近代美術館",venueId:"place_1",description:"モネ、ルノワール、セザンヌの傑作約80点を展示。印象派の魅力を再発見できる特別展。",startDate:"2025-09-01",endDate:"2025-12-15",price:"一般 1,800円",website:"https://example.com/exhibition1",category:"special"},{id:"2",name:"常設展示",venue:"東京国立近代美術館",venueId:"place_1",description:"近現代の日本美術を中心とした常設コレクション。",startDate:"2025-01-01",endDate:"2025-12-31",price:"一般 500円",category:"permanent"},{id:"3",name:"現代アート体験ワークショップ",venue:"東京都現代美術館",venueId:"place_2",description:"アーティストと一緒に作品制作を体験できるワークショップ。要予約。",startDate:"2025-09-10",endDate:"2025-09-10",price:"参加費 2,000円",category:"event"},{id:"4",name:"日本の絵画500年",venue:"東京都美術館",venueId:"place_3",description:"室町時代から現代まで、日本絵画の流れを時代順に紹介。",startDate:"2025-08-15",endDate:"2025-11-30",price:"一般 1,600円",category:"special"}];function GP({trip:r}){const{places:e}=Ti(),[t,s]=Ie.useState([]),[l,d]=Ie.useState(!0);Ie.useEffect(()=>{v()},[r.places,r.startDate,r.endDate]);const v=async()=>{d(!0),await new Promise(Q=>setTimeout(Q,300));const j=e.filter(Q=>r.places.includes(Q.id)&&(Q.category==="museum"||Q.category==="gallery")),V=HP.filter(Q=>{if(!j.some(ie=>Q.venue.includes(ie.name)||ie.name.includes(Q.venue)||Q.venueId===ie.id))return!1;const J=new Date(Q.startDate),K=new Date(Q.endDate),_e=new Date(r.startDate),Re=new Date(r.endDate);return J<=Re&&K>=_e});s(V),d(!1)},E=j=>{switch(j){case"permanent":return"常設展";case"special":return"特別展";case"event":return"イベント";default:return"その他"}},A=j=>{switch(j){case"permanent":return"bg-blue-100 text-blue-800";case"special":return"bg-purple-100 text-purple-800";case"event":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},N=j=>new Date(j).toLocaleDateString("ja-JP",{month:"short",day:"numeric"}),M=j=>{const V=new Date(j.startDate),Q=new Date(j.endDate),te=new Date(r.startDate),J=new Date(r.endDate);return V<=J&&Q>=te};return l?h.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx(ku,{className:"text-purple-600",size:18}),h.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:"期間中の展示・イベント"})]}),h.jsxs("div",{className:"flex items-center justify-center py-4",children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-purple-600 border-t-transparent"}),h.jsx("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:"読み込み中..."})]})]}):t.length===0?h.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx(ku,{className:"text-purple-600",size:18}),h.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:"期間中の展示・イベント"})]}),h.jsxs("div",{className:"text-center py-4",children:[h.jsx(oa,{className:"mx-auto text-gray-400 mb-2",size:20}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"該当する展示・イベントはありません"})]})]}):h.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx(ku,{className:"text-purple-600",size:18}),h.jsxs("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:["期間中の展示・イベント (",t.length,"件)"]})]}),h.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:t.map(j=>h.jsxs("div",{className:"p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:border-purple-300 dark:hover:border-purple-500 transition-colors",children:[h.jsxs("div",{className:"flex items-start justify-between mb-2",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("h5",{className:"font-medium text-gray-900 dark:text-gray-100 text-sm mb-1",children:j.name}),h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${A(j.category)}`,children:E(j.category)}),h.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600 dark:text-gray-400",children:[h.jsx(Dr,{size:10}),h.jsx("span",{children:j.venue})]})]})]}),j.website&&h.jsx("a",{href:j.website,target:"_blank",rel:"noopener noreferrer",className:"p-1 text-gray-400 hover:text-purple-600 transition-colors",children:h.jsx(V1,{size:14})})]}),h.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300 mb-2 line-clamp-2",children:j.description}),h.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 dark:text-gray-400",children:[h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(oa,{size:10}),h.jsxs("span",{children:[N(j.startDate)," - ",N(j.endDate)]})]}),j.price&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(ku,{size:10}),h.jsx("span",{children:j.price})]})]}),M(j)&&h.jsx("div",{className:"mt-2 px-2 py-1 bg-green-50 dark:bg-green-900/20 rounded text-xs text-green-800 dark:text-green-300",children:"✅ 旅行期間中に開催"})]},j.id))}),h.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-600",children:h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"💡 事前予約が必要な展示もあります。詳細は各施設の公式サイトでご確認ください。"})})]})}function ZP({photo:r,onClose:e,onSuccess:t}){const{places:s,trips:l,photos:d}=Ti(),[v,E]=Ie.useState(r.placeId||""),[A,N]=Ie.useState(r.tripId||""),[M,j]=Ie.useState(r.caption||""),[V,Q]=Ie.useState(!1),[te,J]=Ie.useState(!1),[K,_e]=Ie.useState({lat:r.location?.lat||"",lng:r.location?.lng||""}),[Re,ie]=Ie.useState(""),ke=r.placeId?s.find(le=>le.id===r.placeId):void 0,Ye=r.tripId?l.find(le=>le.id===r.tripId):void 0,Qe=v?s.find(le=>le.id===v):void 0,ce=A?l.find(le=>le.id===A):void 0,Y=r.location?s.map(le=>{const Ce=Math.sqrt(Math.pow(le.lat-r.location.lat,2)+Math.pow(le.lng-r.location.lng,2))*111e3;return{...le,distance:Ce}}).sort((le,Ce)=>le.distance-Ce.distance):s,ae=(()=>{const le=new Date(r.takenAt||r.createdAt);return l.filter(Ce=>{const xt=new Date(Ce.startDate),F=new Date(Ce.endDate),ee=new Date(xt.getTime()-10080*60*1e3),je=new Date(F.getTime()+10080*60*1e3);return le>=ee&&le<=je}).sort((Ce,xt)=>{const F=new Date(Ce.startDate).getTime(),ee=new Date(xt.startDate).getTime(),je=le.getTime();return Math.abs(F-je)-Math.abs(ee-je)})})(),q=async()=>{Q(!0);try{let le=r.location;if(K.lat&&K.lng)le={lat:typeof K.lat=="string"?parseFloat(K.lat):K.lat,lng:typeof K.lng=="string"?parseFloat(K.lng):K.lng};else if(v&&!r.location){const F=s.find(ee=>ee.id===v);F&&(le={lat:F.lat,lng:F.lng})}const Ce=d.map(F=>F.id===r.id?{...F,placeId:v||void 0,tripId:A||void 0,caption:M.trim()||void 0,location:le,autoClassified:!1,updatedAt:new Date().toISOString()}:F);Ti.setState({photos:Ce});const xt=Ti.getState();if(xt.saveData(),xt.useFirebase)try{await xt.syncWithFirebase()}catch(F){console.error("Failed to sync photo reclassification:",F)}alert("写真の分類を更新しました！"),t&&t(),e()}catch(le){console.error("Failed to update photo:",le),alert("更新に失敗しました")}finally{Q(!1)}},X=le=>new Date(le).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),rt=le=>!r.location||!le.distance?"":le.distance<1e3?`約${Math.round(le.distance)}m`:`約${(le.distance/1e3).toFixed(1)}km`,lt=le=>{const Ce=s.find(xt=>xt.id===le);Ce&&_e({lat:Ce.lat.toString(),lng:Ce.lng.toString()})},$=()=>Re?s.filter(Ce=>Ce.name.toLowerCase().includes(Re.toLowerCase())||Ce.address.toLowerCase().includes(Re.toLowerCase())).slice(0,5):void 0;return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[h.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:h.jsx(ho,{className:"text-blue-600 dark:text-blue-400",size:20})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"写真の再分類"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"撮影場所や関連する旅行を変更できます"})]})]}),h.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg transition-colors",children:h.jsx(ba,{size:24})})]}),h.jsx("div",{className:"p-6 max-h-[calc(90vh-200px)] overflow-y-auto",children:h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex gap-4",children:[h.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-700 rounded-lg overflow-hidden flex-shrink-0",children:r.url?h.jsx("img",{src:r.url,alt:"写真プレビュー",className:"w-full h-full object-cover"}):h.jsx("div",{className:"w-full h-full flex items-center justify-center",children:h.jsx(ho,{className:"text-gray-400",size:24})})}),h.jsxs("div",{className:"flex-1 space-y-2",children:[h.jsxs("div",{className:"text-sm",children:[h.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"撮影日時: "}),h.jsx("span",{className:"font-medium",children:X(r.takenAt||r.createdAt)})]}),r.location&&h.jsxs("div",{className:"text-sm",children:[h.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"位置情報: "}),h.jsxs("span",{className:"font-medium",children:[r.location.lat.toFixed(6),", ",r.location.lng.toFixed(6)]})]}),r.autoClassified&&h.jsx("div",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:"📍 自動分類済み"})]})]}),(ke||Ye)&&h.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"現在の分類"}),h.jsxs("div",{className:"space-y-2",children:[ke&&h.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[h.jsx(Dr,{size:14,className:"text-gray-500"}),h.jsx("span",{children:ke.name})]}),Ye&&h.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[h.jsx(oa,{size:14,className:"text-gray-500"}),h.jsx("span",{children:Ye.name})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"📍 関連する場所"}),h.jsxs("select",{value:v,onChange:le=>E(le.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[h.jsx("option",{value:"",children:"場所を選択しない"}),Y.map(le=>h.jsxs("option",{value:le.id,children:[le.name,r.location&&le.distance!==void 0&&` (${rt(le)})`]},le.id))]}),Qe&&h.jsxs("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:["📍 ",Qe.address]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"🧳 関連する旅行"}),h.jsxs("select",{value:A,onChange:le=>N(le.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[h.jsx("option",{value:"",children:"旅行を選択しない"}),ae.map(le=>h.jsxs("option",{value:le.id,children:[le.name," (",le.startDate," - ",le.endDate,")"]},le.id))]}),ce&&h.jsxs("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:["📅 ",ce.startDate," - ",ce.endDate]})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"📍 位置情報"}),h.jsx("button",{type:"button",onClick:()=>J(!te),className:"text-sm text-blue-600 hover:text-blue-800 transition-colors",children:r.location?"位置情報を編集":"位置情報を追加"})]}),r.location&&!te&&h.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-sm",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(B1,{size:14,className:"text-green-600"}),h.jsxs("span",{children:["緯度: ",r.location.lat.toFixed(6)]}),h.jsxs("span",{children:["経度: ",r.location.lng.toFixed(6)]})]})}),(!r.location||te)&&h.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-2",children:"既存の場所から位置情報を取得"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"text",placeholder:"場所名で検索...",value:Re,onChange:le=>ie(le.target.value),className:"flex-1 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800"}),h.jsx("button",{type:"button",onClick:()=>{const le=$();le&&le.length>0&&(lt(le[0].id),ie(""))},className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:h.jsx(mm,{size:14})})]}),Re&&h.jsx("div",{className:"mt-2 max-h-32 overflow-y-auto",children:$()?.map(le=>h.jsxs("button",{type:"button",onClick:()=>{lt(le.id),ie("")},className:"w-full text-left p-2 text-sm hover:bg-gray-200 dark:hover:bg-gray-600 rounded border-b border-gray-200 dark:border-gray-600",children:[h.jsx("div",{className:"font-medium",children:le.name}),h.jsx("div",{className:"text-gray-600 dark:text-gray-400 text-xs",children:le.address})]},le.id))})]}),h.jsxs("div",{className:"border-t border-gray-300 dark:border-gray-600 pt-3",children:[h.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-2",children:"手動で座標を入力"}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"緯度"}),h.jsx("input",{type:"number",step:"0.000001",placeholder:"35.6762",value:K.lat,onChange:le=>_e(Ce=>({...Ce,lat:le.target.value})),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"経度"}),h.jsx("input",{type:"number",step:"0.000001",placeholder:"139.6503",value:K.lng,onChange:le=>_e(Ce=>({...Ce,lng:le.target.value})),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800"})]})]}),h.jsx("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:"💡 Google Mapsで場所を右クリック→座標をコピーできます"})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"💬 キャプション"}),h.jsx("textarea",{value:M,onChange:le=>j(le.target.value),placeholder:"写真についての説明やメモを追加...",rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400"})]})]})}),h.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200 dark:border-gray-700",children:[h.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"キャンセル"}),h.jsx("button",{onClick:q,disabled:V,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:V?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),h.jsx("span",{children:"更新中..."})]}):h.jsxs(h.Fragment,{children:[h.jsx(y_,{size:16}),h.jsx("span",{children:"保存"})]})})]})]})})}function YP({place:r,onClose:e}){const{photos:t,trips:s,deletePhoto:l}=Ti(),[d,v]=Ie.useState(null),[E,A]=Ie.useState(!1),[N,M]=Ie.useState(!1),[j,V]=Ie.useState(null),Q=t.filter(ie=>ie.placeId===r.id||ie.location&&Math.abs(ie.location.lat-r.lat)<.001&&Math.abs(ie.location.lng-r.lng)<.001).map(ie=>{const ke=ie.tripId?s.find(Ye=>Ye.id===ie.tripId):void 0;return{...ie,trip:ke}}).sort((ie,ke)=>new Date(ke.takenAt||ke.createdAt).getTime()-new Date(ie.takenAt||ie.createdAt).getTime()),te=ie=>{v(ie),A(!0)},J=async ie=>{window.confirm("この写真を削除しますか？")&&(await l(ie),d?.id===ie&&(A(!1),v(null)))},K=ie=>{V(ie),M(!0)},_e=()=>{M(!1),V(null),setTimeout(()=>{window.location.reload()},500)},Re=ie=>new Date(ie).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:h.jsx(ho,{className:"text-blue-600 dark:text-blue-400",size:20})}),h.jsxs("div",{children:[h.jsxs("h3",{className:"font-semibold text-lg text-gray-900 dark:text-gray-100",children:[r.name," の写真"]}),h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["📍 ",r.address]})]})]}),e&&h.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg transition-colors",children:h.jsx(ba,{size:20})})]}),h.jsx("div",{className:"p-4",children:Q.length===0?h.jsxs("div",{className:"text-center py-8",children:[h.jsx(ho,{className:"mx-auto text-gray-400 mb-3",size:32}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:"この場所の写真はまだありません"}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"写真をアップロードして思い出を記録しましょう"})]}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"flex items-center justify-between mb-4",children:h.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[Q.length,"枚の写真"]})}),h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:Q.map(ie=>h.jsxs("div",{className:"group relative aspect-square bg-gray-100 dark:bg-gray-700 rounded-lg overflow-hidden cursor-pointer hover:shadow-lg transition-all",onClick:()=>te(ie),children:[ie.url?h.jsx("img",{src:ie.url,alt:`${r.name}の写真`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):h.jsx("div",{className:"w-full h-full bg-gray-200 dark:bg-gray-600 flex items-center justify-center",children:h.jsx(ho,{className:"text-gray-400",size:24})}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity",children:h.jsx("div",{className:"absolute bottom-2 left-2 right-2",children:h.jsxs("div",{className:"text-white text-xs space-y-1",children:[h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(oa,{size:10}),h.jsx("span",{children:Re(ie.takenAt||ie.createdAt).split(" ")[0]})]}),ie.trip&&h.jsx("div",{className:"flex items-center gap-1",children:h.jsx("span",{className:"px-1 py-0.5 bg-blue-500 rounded text-xs",children:ie.trip.name})}),ie.autoClassified&&h.jsx("div",{className:"text-xs text-green-300",children:"📍 自動分類"})]})})}),h.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:h.jsx("button",{onClick:ke=>{ke.stopPropagation(),J(ie.id)},className:"p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:h.jsx(__,{size:12})})})]},ie.id))})]})})]}),E&&d&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",children:h.jsxs("div",{className:"max-w-4xl max-h-full w-full flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between text-white mb-4",children:[h.jsx("div",{className:"flex items-center gap-3",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Dr,{size:16}),h.jsx("span",{className:"text-lg font-medium",children:r.name})]})}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>K(d),className:"p-2 text-white hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors",title:"写真を再分類",children:h.jsx(gm,{size:20})}),h.jsx("button",{onClick:()=>{A(!1),v(null)},className:"p-2 text-white hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors",children:h.jsx(ba,{size:24})})]})]}),h.jsx("div",{className:"flex-1 flex items-center justify-center",children:d.url?h.jsx("img",{src:d.url,alt:`${r.name}の写真`,className:"max-w-full max-h-full object-contain rounded-lg"}):h.jsx("div",{className:"bg-gray-800 p-8 rounded-lg",children:h.jsx(ho,{className:"text-gray-400",size:48})})}),h.jsxs("div",{className:"mt-4 p-4 bg-black bg-opacity-50 rounded-lg text-white",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx(oa,{size:14}),h.jsx("span",{className:"font-medium",children:"撮影日時"})]}),h.jsx("div",{className:"text-gray-300",children:Re(d.takenAt||d.createdAt)})]}),d.trip&&h.jsxs("div",{children:[h.jsx("div",{className:"flex items-center gap-2 mb-1",children:h.jsx("span",{className:"font-medium",children:"関連する旅行"})}),h.jsxs("div",{className:"text-gray-300",children:["🧳 ",d.trip.name]}),h.jsxs("div",{className:"text-xs text-gray-400",children:[d.trip.startDate," - ",d.trip.endDate]})]}),h.jsxs("div",{children:[h.jsx("div",{className:"flex items-center gap-2 mb-1",children:h.jsx("span",{className:"font-medium",children:"分類方法"})}),h.jsx("div",{className:"text-gray-300",children:d.autoClassified?h.jsx("span",{className:"text-green-300",children:"📍 自動分類"}):h.jsx("span",{className:"text-blue-300",children:"👤 手動分類"})}),d.classificationDistance&&h.jsxs("div",{className:"text-xs text-gray-400",children:["約",d.classificationDistance,"m離れた場所で撮影"]})]})]}),d.caption&&h.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-600",children:[h.jsx("div",{className:"font-medium mb-1",children:"キャプション"}),h.jsx("div",{className:"text-gray-300",children:d.caption})]})]})]})}),N&&j&&h.jsx(ZP,{photo:j,onClose:()=>{M(!1),V(null)},onSuccess:_e})]})}function WP(){const{trips:r,places:e,photos:t,setSelectedTrip:s}=Ti(),[l,d]=Ie.useState(null),[v,E]=Ie.useState(!1),[A,N]=Ie.useState(),M=r.filter(H=>H.status==="completed").sort((H,Y)=>new Date(Y.startDate).getTime()-new Date(H.startDate).getTime()),j=M.map(H=>{const Y=new Date(H.startDate),he=t.filter(q=>q.tripId===H.id),ae=e.filter(q=>H.places.includes(q.id)&&q.status==="visited").length;return{trip:H,year:Y.getFullYear(),month:Y.getMonth()+1,photoCount:he.length,visitedPlaces:ae}}),V=j.reduce((H,Y)=>(H[Y.year]||(H[Y.year]=[]),H[Y.year].push(Y),H),{}),Q=Object.keys(V).map(Number).sort((H,Y)=>Y-H),te=M.length,J=j.reduce((H,Y)=>H+Y.photoCount,0),K=j.reduce((H,Y)=>H+Y.visitedPlaces,0),_e=M.reduce((H,Y)=>H+(Y.actualCost||0),0),Re=H=>{s(H)},ie=H=>{N(H),E(!0)},ke=()=>{E(!1),N(void 0)},Ye=H=>new Date(H).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric"}),Qe=H=>new Date(2e3,H-1).toLocaleDateString("ja-JP",{month:"long"}),ce=(H,Y)=>{const he=new Date(H),ae=new Date(Y),q=Math.abs(ae.getTime()-he.getTime());return Math.ceil(q/(1e3*60*60*24))+1};return M.length===0?h.jsxs("div",{className:"p-6 text-center",children:[h.jsx(oa,{className:"mx-auto text-gray-400 mb-3",size:48}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"まだ旅行記録がありません"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"旅行を完了すると、ここにタイムラインが表示されます"})]}):h.jsxs("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-gray-900",children:[h.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-3",children:"🕒 旅行履歴タイムライン"}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[h.jsxs("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-900 rounded-lg",children:[h.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:te}),h.jsx("div",{className:"text-sm text-blue-800 dark:text-blue-300",children:"旅行回数"})]}),h.jsxs("div",{className:"text-center p-3 bg-green-50 dark:bg-green-900 rounded-lg",children:[h.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:K}),h.jsx("div",{className:"text-sm text-green-800 dark:text-green-300",children:"訪問場所"})]}),h.jsxs("div",{className:"text-center p-3 bg-purple-50 dark:bg-purple-900 rounded-lg",children:[h.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:J}),h.jsx("div",{className:"text-sm text-purple-800 dark:text-purple-300",children:"写真枚数"})]}),h.jsxs("div",{className:"text-center p-3 bg-orange-50 dark:bg-orange-900 rounded-lg",children:[h.jsx("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:_e>0?`¥${Math.round(_e/1e4)}万`:"未記録"}),h.jsx("div",{className:"text-sm text-orange-800 dark:text-orange-300",children:"総費用"})]})]})]}),h.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4",children:h.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto",children:[h.jsx("button",{onClick:()=>d(null),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${l===null?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"bg-gray-100 text-gray-700 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"}`,children:"全て"}),Q.map(H=>h.jsxs("button",{onClick:()=>d(H),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${l===H?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"bg-gray-100 text-gray-700 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"}`,children:[H,"年 (",V[H].length,")"]},H))]})}),h.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:Q.filter(H=>l===null||H===l).map(H=>h.jsxs("div",{className:"mb-8",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:[H,"年"]}),h.jsx("div",{className:"h-px flex-1 bg-gray-300 dark:bg-gray-600"}),h.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[V[H].length,"回の旅行"]})]}),h.jsx("div",{className:"space-y-4",children:V[H].map((Y,he)=>h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute left-6 top-12 bottom-0 w-0.5 bg-gray-300 dark:bg-gray-600"}),h.jsx("div",{className:"absolute left-4 top-6 w-4 h-4 bg-blue-500 rounded-full border-4 border-white dark:border-gray-900 shadow-md"}),h.jsx("div",{className:"ml-12 bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-5 cursor-pointer hover:shadow-lg transition-shadow group",onClick:()=>Re(Y.trip),children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"mb-3",children:[h.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:[Ye(Y.trip.startDate)," - ",Ye(Y.trip.endDate)]}),h.jsx("h4",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:Y.trip.name}),Y.trip.description&&h.jsx("p",{className:"text-gray-600 dark:text-gray-400 line-clamp-2",children:Y.trip.description})]}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(rc,{size:16,className:"text-gray-500"}),h.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[ce(Y.trip.startDate,Y.trip.endDate),"日間"]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Dr,{size:16,className:"text-gray-500"}),h.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[Y.visitedPlaces,"ヶ所"]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ho,{size:16,className:"text-gray-500"}),h.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[Y.photoCount,"枚"]})]}),Y.trip.actualCost&&h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(fm,{size:16,className:"text-gray-500"}),h.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["¥",Y.trip.actualCost.toLocaleString()]})]})]}),h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:"完了"}),Y.trip.theme&&h.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:Y.trip.theme}),h.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:Qe(Y.month)})]}),Y.trip.notes&&h.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx(Ou,{size:14,className:"text-yellow-500 mt-0.5 flex-shrink-0"}),h.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 line-clamp-2",children:Y.trip.notes})]})})]}),h.jsxs("div",{className:"flex flex-col gap-2 ml-4 opacity-0 group-hover:opacity-100 transition-opacity",children:[h.jsx("button",{onClick:ae=>{ae.stopPropagation(),ie(Y.trip)},className:"p-2 text-gray-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"記録を編集",children:h.jsx(p_,{size:16})}),h.jsx("button",{onClick:ae=>{ae.stopPropagation(),Re(Y.trip)},className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"詳細を表示",children:h.jsx(zk,{size:16})})]})]})})]},Y.trip.id))})]},H))}),v&&A&&h.jsx(Z1,{trip:A,onClose:ke})]})}function XP({className:r=""}){const{currentViewMode:e,setViewMode:t,selectedPlace:s,selectedTrip:l,places:d,trips:v}=Ti(),[E,A]=Ie.useState(!1),[N,M]=Ie.useState(!1),[j,V]=Ie.useState(),[Q,te]=Ie.useState(d),[J,K]=Ie.useState(v);console.log("Filtered results:",{places:Q.length,trips:J.length});const _e=[{mode:"places",label:"場所管理",icon:h.jsx(Dr,{size:20})},{mode:"planning",label:"旅行計画",icon:h.jsx(oa,{size:20})},{mode:"timeline",label:"旅行履歴",icon:h.jsx(rc,{size:20})},{mode:"records",label:"データ管理",icon:h.jsx(rP,{size:20})}];Ie.useEffect(()=>{te(d),K(v)},[d,v]);const Re=(ie,ke)=>{te(ie),K(ke)};return E?h.jsxs("div",{className:`bg-white dark:bg-gray-800 shadow-lg border-l border-gray-200 dark:border-gray-700 ${r}`,children:[h.jsx("div",{className:"p-4 border-b",children:h.jsx("button",{onClick:()=>A(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:h.jsx(j1,{size:20})})}),h.jsx("div",{className:"space-y-2 p-2",children:_e.map(({mode:ie,icon:ke})=>h.jsx("button",{onClick:()=>{t(ie),A(!1)},className:`w-full p-3 rounded-lg transition-colors flex justify-center ${e===ie?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,children:ke},ie))})]}):h.jsxs("div",{className:`bg-white dark:bg-gray-800 shadow-lg border-l border-gray-200 dark:border-gray-700 flex flex-col ${r}`,children:[h.jsxs("div",{className:"p-4 border-b",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"一人旅管理"}),h.jsx("button",{onClick:()=>A(!0),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:h.jsx(ba,{size:20})})]}),h.jsx("div",{className:"flex space-x-1 mt-4",children:_e.map(({mode:ie,label:ke,icon:Ye})=>h.jsxs("button",{onClick:()=>t(ie),className:`flex items-center justify-center space-x-1 px-2 md:px-3 py-2 rounded-lg text-sm font-medium transition-colors flex-1 md:flex-none ${e===ie?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,title:ke,children:[Ye,h.jsx("span",{className:"hidden md:inline ml-1",children:ke})]},ie))})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto",children:[(e==="places"||e==="planning")&&h.jsx("div",{className:"p-3 md:p-4 border-b bg-white dark:bg-gray-800",children:h.jsx(jP,{places:d,trips:v,onFilteredResults:Re})}),e==="places"&&h.jsxs("div",{children:[h.jsxs("div",{className:"p-3 md:p-4 bg-blue-50 border-b",children:[h.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"💡 使い方"}),h.jsxs("div",{className:"space-y-1 text-xs md:text-sm text-blue-700",children:[h.jsx("p",{children:"• 地図を拡大すると美術館・お店が表示"}),h.jsx("p",{children:"• POIをクリック→「マイリストに追加」"}),h.jsx("p",{children:"• 空いた場所をクリックして場所追加"}),h.jsx("p",{children:"• 下のボタンで手動追加も可能"})]})]}),h.jsx(kP,{onAddPlace:()=>{V(void 0),M(!0)},onEditPlace:ie=>{V(ie),M(!0)}})]}),e==="planning"&&h.jsx(LP,{}),e==="timeline"&&h.jsx(WP,{}),e==="records"&&h.jsx(VP,{})]}),(s||l)&&h.jsxs("div",{className:"border-t bg-gray-50 p-4 space-y-4 max-h-80 overflow-y-auto",children:[s&&h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-lg mb-2",children:s.name}),h.jsx("p",{className:"text-sm text-gray-600 mb-2",children:s.address}),h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs",children:s.status==="interested"?"興味あり":s.status==="planned"?"計画中":"訪問済み"}),h.jsx("span",{className:"text-xs text-gray-500 capitalize",children:s.category})]}),s.notes&&h.jsx("p",{className:"text-sm text-gray-700 mt-2",children:s.notes}),(s.category==="museum"||s.category==="gallery")&&h.jsx("div",{className:"mt-4",children:h.jsx(FP,{place:s,tripStartDate:l?.startDate,tripEndDate:l?.endDate})}),h.jsx("div",{className:"mt-4",children:h.jsx(YP,{place:s})})]}),l&&h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-lg mb-2",children:l.name}),h.jsxs("p",{className:"text-sm text-gray-600",children:[l.startDate," - ",l.endDate]}),h.jsx("span",{className:"inline-block px-2 py-1 bg-orange-100 text-orange-700 rounded-full text-xs mt-2",children:l.status==="planned"?"計画中":l.status==="in_progress"?"実行中":"完了"}),h.jsx("div",{className:"mt-4",children:h.jsx(GP,{trip:l})})]})]}),N&&h.jsx(PP,{place:j,onClose:()=>{M(!1),V(void 0)}})]})}function QP({onClose:r}){const{setViewMode:e}=Ti(),[t,s]=Ie.useState(0),l=[{title:"🎉 一人旅管理アプリへようこそ！",description:"このアプリで旅行の計画から記録まで、すべてを管理できます。",content:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-lg",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"✨ できること"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Dr,{className:"text-blue-500",size:16}),h.jsx("span",{className:"text-sm",children:"行きたい場所の管理"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(oa,{className:"text-green-500",size:16}),h.jsx("span",{className:"text-sm",children:"旅行計画の作成"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ho,{className:"text-purple-500",size:16}),h.jsx("span",{className:"text-sm",children:"思い出の写真管理"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(rc,{className:"text-orange-500",size:16}),h.jsx("span",{className:"text-sm",children:"旅行履歴の振り返り"})]})]})]}),h.jsx("p",{className:"text-sm text-gray-600 text-center",children:"まずは簡単な4ステップの使い方を見てみましょう 👉"})]})},{title:"📍 ステップ1: 場所を管理する",description:"行きたい場所を登録して、旅行計画の準備をしましょう。",content:h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium",children:"地図で見つける"}),h.jsx("p",{className:"text-sm text-gray-600",children:"地図を拡大すると美術館やカフェが表示されます"})]})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium",children:"場所を追加"}),h.jsx("p",{className:"text-sm text-gray-600",children:"POIをクリックして「マイリストに追加」"})]})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium",children:"手動追加も可能"}),h.jsx("p",{className:"text-sm text-gray-600",children:"「新しい場所を追加」ボタンで直接登録"})]})]})]})}),h.jsx("button",{onClick:()=>{e("places"),r()},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"場所管理タブを開く"})]})},{title:"🧳 ステップ2: 旅行を計画する",description:"登録した場所を使って、具体的な旅行計画を立てます。",content:h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"w-6 h-6 bg-green-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium",children:"旅行プランを作成"}),h.jsx("p",{className:"text-sm text-gray-600",children:"日程、予算、テーマを設定"})]})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"w-6 h-6 bg-green-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium",children:"場所を旅行に追加"}),h.jsx("p",{className:"text-sm text-gray-600",children:"場所詳細から「旅行に追加」をクリック"})]})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"w-6 h-6 bg-green-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium",children:"写真をアップロード"}),h.jsx("p",{className:"text-sm text-gray-600",children:"旅行カードの「+」ボタンから思い出を記録"})]})]})]})}),h.jsx("button",{onClick:()=>{e("planning"),r()},className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"旅行計画タブを開く"})]})},{title:"📸 ステップ3: 思い出を記録する",description:"旅行中や旅行後に、写真と共に思い出を残しましょう。",content:h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"bg-purple-50 p-4 rounded-lg",children:h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"w-6 h-6 bg-purple-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium",children:"写真をアップロード"}),h.jsx("p",{className:"text-sm text-gray-600",children:"位置情報があれば自動で場所を判定"})]})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"w-6 h-6 bg-purple-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium",children:"写真を分類・編集"}),h.jsx("p",{className:"text-sm text-gray-600",children:"場所や旅行との紐付けを手動で調整"})]})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"w-6 h-6 bg-purple-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium",children:"場所別で閲覧"}),h.jsx("p",{className:"text-sm text-gray-600",children:"各場所の写真ギャラリーで思い出を振り返り"})]})]})]})}),h.jsx("div",{className:"text-sm text-center text-gray-600",children:"💡 写真に位置情報がなくても、手動で場所を設定できます"})]})},{title:"🕒 ステップ4: 履歴を振り返る",description:"完了した旅行をタイムラインで振り返り、記録を編集できます。",content:h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"bg-orange-50 p-4 rounded-lg",children:h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"w-6 h-6 bg-orange-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium",children:"旅行を完了にする"}),h.jsx("p",{className:"text-sm text-gray-600",children:"旅行計画のステータスを「完了」に変更"})]})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"w-6 h-6 bg-orange-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium",children:"タイムラインで閲覧"}),h.jsx("p",{className:"text-sm text-gray-600",children:"年別・月別で旅行履歴を表示"})]})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"w-6 h-6 bg-orange-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium",children:"記録を充実させる"}),h.jsx("p",{className:"text-sm text-gray-600",children:"感想、費用、場所別メモを追加"})]})]})]})}),h.jsx("button",{onClick:()=>{e("timeline"),r()},className:"w-full px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:"旅行履歴タブを開く"})]})},{title:"🚀 準備完了！",description:"これで一人旅管理アプリの使い方は完璧です。素敵な旅の記録を始めましょう！",content:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 p-6 rounded-lg text-center",children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("div",{className:"text-4xl mb-2",children:"🎯"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"完了！"})]}),h.jsxs("p",{className:"text-gray-600 mb-4",children:["あとは実際に使ってみるだけです。",h.jsx("br",{}),"困ったときは各タブの💡使い方ヒントを参考にしてください。"]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[h.jsx("button",{onClick:()=>{e("places"),r()},className:"px-3 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",children:"場所管理から始める"}),h.jsx("button",{onClick:()=>{e("planning"),r()},className:"px-3 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",children:"旅行計画から始める"})]})]}),h.jsx("div",{className:"text-center",children:h.jsx("button",{onClick:r,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-colors font-medium",children:"アプリを使い始める"})})]})}],d=()=>{t<l.length-1&&s(t+1)},v=()=>{t>0&&s(t-1)};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[h.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"text-2xl",children:"🗺️"}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:l[t].title}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:l[t].description})]})]}),h.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg transition-colors",children:h.jsx(ba,{size:24})})]}),h.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-900",children:[h.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400 mb-2",children:[h.jsxs("span",{children:["ステップ ",t+1," / ",l.length]}),h.jsxs("span",{children:[Math.round((t+1)/l.length*100),"%"]})]}),h.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:h.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${(t+1)/l.length*100}%`}})})]}),h.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:l[t].content}),h.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 dark:border-gray-700",children:[h.jsxs("button",{onClick:v,disabled:t===0,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors",children:[h.jsx(bk,{size:16}),"前へ"]}),h.jsx("div",{className:"flex gap-2",children:l.map((E,A)=>h.jsx("button",{onClick:()=>s(A),className:`w-2 h-2 rounded-full transition-colors ${A===t?"bg-blue-500":A<t?"bg-blue-300":"bg-gray-300"}`},A))}),t<l.length-1?h.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:["次へ",h.jsx(Lg,{size:16})]}):h.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-lg hover:from-green-700 hover:to-blue-700 transition-colors",children:["完了",h.jsx(Lg,{size:16})]})]})]})})}function KP({className:r=""}){const[e,t]=Ie.useState(!1),s="v2.1.0",l="2025-09-09",d="18:45:00";return e?h.jsx("div",{className:`fixed bottom-4 right-4 z-[1002] ${r}`,children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl border border-gray-200 p-4 max-w-xs",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"アプリ情報"}),h.jsx("button",{onClick:()=>t(!1),className:"text-gray-400 hover:text-gray-600",children:h.jsx(ba,{size:16})})]}),h.jsxs("div",{className:"space-y-2 text-xs text-gray-600",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"バージョン:"}),h.jsx("span",{className:"font-mono font-medium",children:s})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"ビルド日:"}),h.jsx("span",{className:"font-mono",children:l})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"ビルド時刻:"}),h.jsx("span",{className:"font-mono",children:d})]}),h.jsxs("div",{className:"pt-2 border-t border-gray-200",children:[h.jsx("div",{className:"flex justify-between",children:h.jsx("span",{children:"更新内容:"})}),h.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:["• モバイル検索UX改善",h.jsx("br",{}),"• ハンバーガーメニュー修正",h.jsx("br",{}),"• POI表示最適化",h.jsx("br",{}),"• 現代的な場所検索実装"]})]})]})]})}):h.jsx("button",{onClick:()=>t(!0),className:`fixed bottom-4 right-4 z-[1002] bg-blue-600 text-white rounded-full w-10 h-10 flex items-center justify-center shadow-lg hover:bg-blue-700 transition-colors ${r}`,title:`バージョン ${s} - クリックで詳細`,children:h.jsx(Fk,{size:16})})}function JP(){const[r,e]=Ie.useState(!1),[t,s]=Ie.useState(!1),{initializeAuth:l,loadData:d,signInAnonymously:v,places:E,trips:A}=Ti();return Ie.useEffect(()=>{d(),l(),v().catch(console.error),localStorage.getItem("trip-app-visited")||setTimeout(()=>{E.length===0&&A.length===0&&(s(!0),localStorage.setItem("trip-app-visited","true"))},1e3),"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",M=>{M.data&&M.data.type==="SW_UPDATED"&&(console.log("Service Worker updated, reloading page..."),setTimeout(()=>{window.location.reload()},1e3))})},[l,d,v,E.length,A.length]),h.jsxs("div",{className:"h-screen flex relative bg-gray-50 dark:bg-gray-900",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(CP,{className:"h-full"}),h.jsx("button",{onClick:()=>e(!r),className:"md:hidden fixed top-4 right-4 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-600 p-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200",style:{zIndex:1005},"aria-label":"Toggle menu",children:r?h.jsx(ba,{size:24,className:"text-gray-900 dark:text-gray-100"}):h.jsx(j1,{size:24,className:"text-gray-900 dark:text-gray-100"})}),h.jsx("button",{onClick:()=>s(!0),className:"fixed top-4 left-4 bg-blue-600 text-white rounded-lg shadow-xl p-3 hover:bg-blue-700 transition-colors",style:{zIndex:1004},"aria-label":"Help guide",title:"使い方ガイド",children:h.jsx(Sk,{size:20})})]}),h.jsx("div",{className:`
        h-full transition-transform duration-300 ease-in-out z-30
        md:w-96 md:relative md:transform-none
        fixed right-0 top-0 w-80 bg-white dark:bg-gray-800 shadow-xl
        ${r?"transform translate-x-0":"transform translate-x-full md:translate-x-0"}
      `,children:h.jsx(XP,{className:"h-full"})}),r&&h.jsx("div",{className:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-20",onClick:()=>e(!1)}),t&&h.jsx(QP,{onClose:()=>s(!1)}),h.jsx(KP,{})]})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(r=>{console.log("SW registered: ",r)}).catch(r=>{console.log("SW registration failed: ",r)})});tE.createRoot(document.getElementById("root")).render(h.jsx(Ie.StrictMode,{children:h.jsx(JP,{})}));
